<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://stryker-mutator.io/blog</id>
    <title>Stryker Mutator Blog</title>
    <updated>2022-05-04T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://stryker-mutator.io/blog"/>
    <subtitle>Stryker Mutator Blog</subtitle>
    <icon>https://stryker-mutator.io/images/stryker.svg</icon>
    <entry>
        <title type="html"><![CDATA[StrykerJS v6.0: Expeditious Superior Mutations]]></title>
        <id>stryker-js-v6-expeditious-superior-mutations</id>
        <link href="https://stryker-mutator.io/blog/stryker-js-v6-expeditious-superior-mutations"/>
        <updated>2022-05-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We're excited to announce the next major release of the StrykerJS: StrykerJS 6.0.]]></summary>
        <content type="html"><![CDATA[<p>We're excited to announce the next major release of the StrykerJS: StrykerJS 6.0.</p><p>StrykerJS now supports <em>native ECMAScript modules</em>, or ESM for short. To make this work, we changed some parts of StrykerJS, which includes small (yet technically breaking) changes. As a bonus, we've improved performance considerably in some use cases! We're curious to know what you think. Why not try it today?</p><p>To update to the latest version of StrykerJS, install <code>@latest</code> as follows:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/core@latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># OR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --dev @stryker-mutator/core@latest</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Don't forget to update Stryker plugins. For example, when using the mocha runner:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/mocha-runner@latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># OR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --dev @stryker-mutator/mocha-runner@latest</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you're new to mutation testing, it's a way to measure your tests' effectiveness. Please take a look at our RoboBar ü§ñüç∑ example and see how even 100% code coverage doesn't tell the whole story. Mutation testing is the only way to know if your tests are any good.</p><p>Since the 6.0.0 beta release, we've implemented a new warning message to inform users about <code>--ignoreStatic</code> and improved the performance and progress reporting; you can read about that in the <a href="#-static-mutant-improvements">üóø Static mutant improvements</a> paragraph.</p><p>Now, let's dive into the changes! üèä‚Äç‚ôÇÔ∏è</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-esm-support">üì¶ ESM support<a class="hash-link" href="#-esm-support" title="Direct link to heading">‚Äã</a></h2><p>As stated in the introduction, StrykerJS v6 brings official support for ESM projects.</p><p>With ESM, you can use <code>import</code> and <code>export</code> statements. NodeJS has supported ESM since version 12. Browsers have gradually been adding support since 2017, and all major browsers support it by now. I recommend watching <a href="https://www.youtube.com/watch?v=Zyoztl_7l7g" target="_blank" rel="noopener noreferrer">Gil Tayar's introduction to ESM</a> when you want to brush up on the ESM basics.</p><p>The <code>@stryker-mutator/karma-runner</code> and <code>@stryker-mutator/jest-runner</code> already worked with ESM (for Jest, you will need to configure the <a href="/docs/stryker-js/jest-runner/#ecmascript-modules"><code>--experimental-vm-modules</code></a> flag), but our node-based runners did not. This changes with version 6.</p><p>You configure it like this:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can see <em>no configuration change</em> is needed. Updating StrykerJS is enough üòÅ.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-hot-reload">‚è© Hot reload<a class="hash-link" href="#-hot-reload" title="Direct link to heading">‚Äã</a></h2><p>StrykerJS will run your tests many, many times. Consider that each mutant is tested in isolation, so it runs your tests as many times as there are (covered) mutants. A way to save time is only to load your tests once (using <code>import</code>/<code>require</code>) and then run them multiple times in quick succession while activating a different mutant each time. We call this feature "hot reload", and it is generally the fastest way to implement mutation testing.</p><p>Hot reloading is only possible because Stryker uses mutant schemata. With mutant schemata (or mutation switching), Stryker inserts all mutants into your source code yet only activates them one at a time.</p><p>It looks something like this:</p><div class="language-ts codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-ts codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// üëæ BlockStatement mutator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b </span><span class="token comment" style="color:#999988;font-style:italic">// üëΩ ArithmeticExpression mutator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When older versions of Stryker are testing mutants inside a worker process, it looks like this:</p><p>(old process)</p><ol><li>Activate the mutant</li><li><em>Load all files</em>, using <code>require</code></li><li>Run the tests with the test runner of choice.</li><li><em>Unload all files</em>, using <a href="https://nodejs.org/api/modules.html#requirecache" target="_blank" rel="noopener noreferrer"><code>delete require.cache['path/to/cjs/module']</code></a> to prepare for the next run.</li><li>Report the result</li></ol><p>As you can see, <em>all files are loaded and unloaded</em> for each mutant run. This way of reloading <a href="https://github.com/nodejs/tooling/issues/51" target="_blank" rel="noopener noreferrer">won't ever work with native ESM</a>, as there is simply no <code>cache</code> we can <code>delete</code> the loaded files from ü§∑‚Äç‚ôÄÔ∏è.</p><p>The reloading is also expensive. Think about it: if your project contains 1k files, with a total of 10k mutants, it could mean a total of <em>ten million file IO actions</em>. That's why mutation testing with StrykerJS would slow down considerably when the size of your project grows.</p><p>As of v6, Node-based test runners use hot reload. The process is now:</p><p>(new process using hot reload)</p><ol><li>(once) Load the code using <code>import</code></li><li>Activate the mutant</li><li>Run the tests with the test runner of choice.</li><li>Report the result</li></ol><p>The result is a significant performance improvement üêá. You can clearly see the difference when running StrykerJS on Stryker's core itself:</p><table><thead><tr><th>Old</th></tr></thead><tbody><tr><td><img loading="lazy" alt="stryker-v5" src="/assets/images/stryker-v5-29b8e2d9e551ba70c73297c30cb55ad5.gif" width="1257" height="368" class="img_E7b_"></td></tr></tbody></table><table><thead><tr><th>New <!-- -->*</th></tr></thead><tbody><tr><td><img loading="lazy" alt="stryker-v6" src="/assets/images/stryker-v6-73098790d1813d33a0351986d6755a76.gif" width="1257" height="368" class="img_E7b_"></td></tr></tbody></table><p>*<!-- --> using <code>--ignoreStatic</code></p><p>That's a whopping 70% performance improvement ü§Ø.</p><p>Hot reload is supported in <code>@stryker-mutator/mocha-runner</code> and <code>@stryker-mutator/jasmine-runner</code>. Please note that this feature is always on from version 6 onward, even for plain old CommonJS style projects! It does require a higher version of mocha or jasmine, respectively, see <a href="#-breaking-changes">breaking changes</a>. Support for <code>@stryker-mutator/cucumber-runner</code> is planned for version 8 of <code>@cucumber/cucumber</code> release.</p><p>Unfortunately, we're not supporting hot reload for the <code>@stryker-mutator/jest-runner</code> or <code>@stryker-mutator/karma-runner</code> yet; please up-vote <a href="https://github.com/stryker-mutator/stryker-js/issues/3455" target="_blank" rel="noopener noreferrer">#3455</a> or <a href="https://github.com/stryker-mutator/stryker-js/issues/3454" target="_blank" rel="noopener noreferrer">#3454</a> respectively if you want to see it happen üíô.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-static-mutant-improvements">üóø Static mutant improvements<a class="hash-link" href="#-static-mutant-improvements" title="Direct link to heading">‚Äã</a></h2><p>Yes, indeed, hot reload sounds incredible! But what about <em>static mutants</em>?</p><p>A static mutant is a mutant that is executed once on <em>file load</em> rather than during <em>test run-time</em>.</p><p>Take this small example:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// greet.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> hi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'üëã'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">greet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">hi</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// greet.spec.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> greet </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./greet.js'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">it</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'should greet me'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">greet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'me'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toBe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'üëã me'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you run StrykerJS on this code, it will create a mutant for the <code>hi</code> constant:</p><div class="language-diff codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-diff codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">const hi = 'üëã';</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">const hi = '';</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you consider mutant schemata, the actual code produced by StrykerJS looks more like this:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> hi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'1'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'üëã'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This mutant is called a <em>static mutant</em>. It is executed on file-load rather than during test run-time. For more details on static mutants, see <a href="/docs/mutation-testing-elements/static-mutants/">the new documentation on them</a>.</p><p>Now, let's factor in <a href="#-hot-reload">hot reload</a>, where worker processes load the files once and reuse them across multiple mutant runs. This would mean that the mutant <em>survives no matter how good your tests are</em>. We can't have that üò™!</p><p>That's why StrykerJS will detect static mutants and <em>still follow the old process</em> to test them. However, instead of reloading the files (remember, this won't work for ESM files), it will create a shiny new worker process for every static mutant run (for NodeJS-based test runners).</p><p>Stryker will also sort mutants, testing static mutants after non-static mutants. This saves some time since this means fewer worker process restarts.</p><p>For example, imagine mutants A, B, and C, where B is a static mutant. To keep it simple, we will be running with concurrency 1, meaning only one worker exists at any one time.</p><ol><li>Mutant A: we start a worker process and test it.</li><li>Mutant B: we need to recreate the worker to test the static mutant</li><li>Mutant C: we need to recreate the worker <em>again</em>, because the previous mutant was static, which polluted the worker with a non-erasable mutant.</li></ol><p>Basic math tells us a worker is started three times in this example. Now imagine this example again, but with the mutants sorted: A, C, and B.</p><ol><li>Mutant A: we start a worker process and test it.</li><li>Mutant C: we reuse the worker and test it.</li><li>Mutant B: we need to recreate the worker to test the static mutant</li></ol><p>As you can see, sorting the mutants just saved us from having to restart the worker once. This performance gain might sound insignificant, but with 1000s of mutants, it can save 100s of restarts, well worth the (small) effort.</p><p>One final note about static mutants: the progress-reporter will now accurately report their progress. It does this by assigning a <em>weight</em> to each mutant to be tested, which it calculates using the performance measurements of the dry run. This means more smooth progress and a more realistic ETC estimate.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-ignore-static-mutants">üñê Ignore static mutants<a class="hash-link" href="#-ignore-static-mutants" title="Direct link to heading">‚Äã</a></h2><p>Testing static mutants can be very expensive. As explained in the previous paragraph, they need a fresh worker process for each run (for Node-based test runners). On top of that, Stryker cannot determine test coverage for them. So the only thing it can do is run all tests üêå.</p><p>Also, they are generally less interesting for you to spend your time on since they include constant strings, numbers, etc.</p><p>You might even want to ignore them entirely! This is where <code>--ignoreStatic</code> comes in. With <code>--ignoreStatic</code> static mutants are ... well ignored. Of course, you can still see them in your HTML report, but they won't count towards your mutation score.</p><figure><img loading="lazy" src="/images/blogs/ignored-static-mutant.png" alt="Ignored static mutant" class="img_E7b_"><figcaption>An ignored static mutant</figcaption></figure><p>Ignoring static mutants improves performance, but your mileage may vary. It depends on the number of static mutants and the size of your project. For running StrykerJS on Stryker's core itself, we <a href="https://github.com/stryker-mutator/stryker-js/issues/3282#issuecomment-980110861" target="_blank" rel="noopener noreferrer">saw a whopping 50% performance improvement by ignoring 6% of our mutants (the static mutants) ü§Ø</a>.</p><p>Even though it is a performance improvement, the default value for<code>"ignoreStatic"</code> is <code>false</code>, meaning Stryker won't ignore them. Our reasoning here is: "better be safe than sorry". But how would you know about this new feature when running Stryker on your project? Well, Stryker will tell you about it with a new warning message.</p><p>You will see the message when 2 conditions are met:</p><ol><li>Stryker estimates static mutants to take &gt;= 40% of the total execution time; and</li><li>Your project's estimated average execution time of a static mutant is twice that of a non-static mutant in your project.</li></ol><p>Stryker logs this message <em>right before testing mutants</em>, so you can quickly kill Stryker and run again with <code>--ignoreStatic</code> if you want.</p><p>Here is an example you will see when running StrykerJS on Stryker's core without <code>ignoreStatic</code>:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">WARN MutantTestPlanner Detected 255 static mutants (8% of total) that are estimated to take 83% of the time running the tests!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  You might want to enable "ignoreStatic" to ignore these static mutants for your next run.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  For more information about static mutants, visit https://stryker-mutator.io/docs/mutation-testing-elements/static-mutants.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (disable "warnings.slow" to ignore this warning)</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you're happy with the performance tradeoff and want Stryker to stop annoying you, you can disable this warning by disabling <code>"warnings.slow"</code> in your stryker.conf.json file.</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"ignoreStatic"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"warnings"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">"slow"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="-esm-based-config">üìÉ ESM-based config<a class="hash-link" href="#-esm-based-config" title="Direct link to heading">‚Äã</a></h2><p>From v6 onward, StrykerJS also supports <em>your config</em> as ESM. Either by adding <code>{ "type": "module" }</code> to your package.json file, or by renaming <code>stryker.conf.js</code> to <code>stryker.conf.mjs</code>.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// stryker.conf.mjs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/** @type {import('@stryker-mutator/api/core').PartialStrykerOptions} */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">reporters</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'html'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'clear-text'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'progress'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">testRunner</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'mocha'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">coverageAnalysis</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'perTest'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We've updated the <code>stryker init</code> command to emit this new config file format when choosing for "JavaScript" config format.</p><p><em>Note</em>: for completeness sake, <code>stryker.conf.cjs</code> is also supported.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-breaking-changes">üí• Breaking changes<a class="hash-link" href="#-breaking-changes" title="Direct link to heading">‚Äã</a></h2><p>This is the list of breaking changes.</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/commit/10d874e4c46335d9ea457634d3061af35fa8f854" target="_blank" rel="noopener noreferrer">10d874</a> <strong>node</strong>: Drop support for Node 12. Minimal version is now Node 14.18.0.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3450" target="_blank" rel="noopener noreferrer">#3450</a> <strong>checker-api:</strong> The <code>check</code> method of checker plugins now receives a <em>group of mutants</em> and should provide a <code>CheckResult</code> per mutant id.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3438" target="_blank" rel="noopener noreferrer">#3438</a> <strong>html reporter:</strong> Configuration option <code>htmlReporter.baseDir</code> is deprecated and will be removed in a later version. Please use <code>htmlReporter.fileName</code> instead.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3432" target="_blank" rel="noopener noreferrer">#3432</a> <strong>esm config:</strong> Exporting a function (using <code>module.exports = function(config) {}</code>) from your <code>stryker.conf.js</code> file is no longer supported. This was already deprecated but now will give an error.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3409" target="_blank" rel="noopener noreferrer">#3409</a> <strong>esm:</strong> StrykerJS is now a pure ESM. Please <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c" target="_blank" rel="noopener noreferrer">read this</a>.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3409" target="_blank" rel="noopener noreferrer">#3409</a> <strong>esm:</strong> Karma v6.3 is now the min supported karma version for <code>@stryker-mutator/karma-runner</code>, since <a href="https://github.com/karma-runner/karma/blob/master/CHANGELOG.md#630-2021-03-23" target="_blank" rel="noopener noreferrer">that version added support for async config loading</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3396" target="_blank" rel="noopener noreferrer">#3396</a> <strong>esm:</strong> The <code>@stryker-mutator/jasmine-runner</code> now requires <a href="mailto:jasmine@3.10" target="_blank" rel="noopener noreferrer">jasmine@3.10</a> or higher.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3393" target="_blank" rel="noopener noreferrer">#3393</a> <strong>esm:</strong> The <code>@stryker-mutator/mocha-runner</code> now requires <code>mocha@7.2</code> or higher.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3369" target="_blank" rel="noopener noreferrer">#3369</a> <strong>reload test environment:</strong> Test runner plugins must provide <code>TestRunnerCapabilities</code> by implementing the <code>capabilities</code> method.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3489" target="_blank" rel="noopener noreferrer">#3489</a> <strong>file</strong>: The File class is no longer part of the public api and is thus no longer exported from @stryker-mutator/api. Plugin creators shouldn't rely on it anymore.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3469" target="_blank" rel="noopener noreferrer">3469</a> <strong>progress</strong>: Reporter API method onAllMutantsMatchedWithTests has been replaced by onMutationTestingPlanReady. Please use that for your reporter plugin instead.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3469" target="_blank" rel="noopener noreferrer">3469</a> <strong>progress</strong>: Reporter API method onAllSourceFilesRead has been removed, please use onMutationTestReportReady to retrieve the source files.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3469" target="_blank" rel="noopener noreferrer">3469</a> <strong>progress</strong>: Reporter API method onSourceFileRead has been removed, please use onMutationTestReportReady to retrieve the source files.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-next">üîÆ What's next<a class="hash-link" href="#-whats-next" title="Direct link to heading">‚Äã</a></h2><p>With v6 out, we will be implementing a performance boost for our <a href="https://github.com/stryker-mutator/stryker-js/pull/3450" target="_blank" rel="noopener noreferrer"><code>typescript-checker</code></a>. In the medium term we'll be looking to implement <a href="https://github.com/stryker-mutator/stryker-js/issues/2753" target="_blank" rel="noopener noreferrer">incremental mode</a>.</p><p>In the mean-time, we would love to hear from you! Please voice your feedback on <a href="https://join.slack.com/t/stryker-mutator/shared_invite/enQtOTUyMTYyNTg1NDQ0LTU4ODNmZDlmN2I3MmEyMTVhYjZlYmJkOThlNTY3NTM1M2QxYmM5YTM3ODQxYmJjY2YyYzllM2RkMmM1NjNjZjM" target="_blank" rel="noopener noreferrer">our slack channel</a> or by sending a <a href="https://twitter.com/stryker_mutator/" target="_blank" rel="noopener noreferrer">tweet</a></p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing StrykerJS v6.0 Beta]]></title>
        <id>announcing-stryker-js-v6.0-beta</id>
        <link href="https://stryker-mutator.io/blog/announcing-stryker-js-v6.0-beta"/>
        <updated>2022-03-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We're excited to announce the beta of the next major release of the StrykerJS: StrykerJS 6.0.]]></summary>
        <content type="html"><![CDATA[<p>We're excited to announce the beta of the next major release of the StrykerJS: StrykerJS 6.0.</p><p>From the 6th version onward, StrykerJS supports <em>native ECMAScript modules</em>, or ESM for short. To make this work, we changed some parts of StrykerJS, which includes small (yet technically breaking) changes. As a bonus, we've improved performance considerably in some use cases! We're curious to know what you think. Why not try the beta today?</p><p>Update your Stryker dependencies to get started using the beta.</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/core@next</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># OR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --dev @stryker-mutator/core@next</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Don't forget to update Stryker plugins. For example, when using the mocha runner:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/mocha-runner@next</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># OR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --dev @stryker-mutator/mocha-runner@next</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you're new to mutation testing, it's a way to measure your tests' effectiveness. Please take a look at our RoboBar ü§ñüç∑ example and see how even 100% code coverage doesn't tell the whole story. Mutation testing is the only way to know if your tests are any good.</p><p>Now, let's dive into the changes! üèä‚Äç‚ôÇÔ∏è</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-esm-support-for-nodejs-based-test-runners">üì¶ ESM support for NodeJS-based test runners<a class="hash-link" href="#-esm-support-for-nodejs-based-test-runners" title="Direct link to heading">‚Äã</a></h2><p>As stated in the introduction, StrykerJS v6 brings official support for ESM projects.</p><p>With ESM, you can use <code>import</code> and <code>export</code> statements. NodeJS has supported ESM since version 12. Browsers have gradually been adding support since 2017, and all major browsers support it by now. I recommend watching <a href="https://www.youtube.com/watch?v=Zyoztl_7l7g" target="_blank" rel="noopener noreferrer">Gil Tayar's introduction to ESM</a> when you want to brush up on the ESM basics.</p><p>The <code>@stryker-mutator/karma-runner</code> and <code>@stryker-mutator/jest-runner</code> already worked with ESM (for Jest, you will need to configure the <a href="/docs/stryker-js/jest-runner/#ecmascript-modules"><code>--experimental-vm-modules</code></a> flag), but our node-based runners did not. This changes with version 6.</p><p>You configure it like this:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can see <em>no configuration change</em> is needed. Updating StrykerJS is enough üòÅ.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-hot-reload">‚è© Hot reload<a class="hash-link" href="#-hot-reload" title="Direct link to heading">‚Äã</a></h2><p>As you might know, StrykerJS uses mutation switching (sometimes called mutant schemata), meaning Stryker inserts all mutants into your source code yet only activates them one at a time.</p><p>It looks something like this:</p><div class="language-ts codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-ts codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// üëæ BlockStatement mutator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b </span><span class="token comment" style="color:#999988;font-style:italic">// üëΩ ArithmeticExpression mutator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, Stryker creates <em>worker</em> processes. A worker process is responsible for activating a mutant, running tests, and reporting the result to the main process. To do that, it uses the test runner of your choice, for example, <a href="https://mochajs.org/" target="_blank" rel="noopener noreferrer">mocha</a>. For NodeJS-based test runners, it would look something like this:</p><p>(old process)</p><ol><li>Activate the mutant</li><li><em>Load all files</em>, using <code>require</code></li><li>Run the tests with the test runner of choice.</li><li><em>Unload all files</em>, using <a href="https://nodejs.org/api/modules.html#requirecache" target="_blank" rel="noopener noreferrer"><code>delete require.cache['path/to/cjs/module']</code></a> to prepare for the next run.</li><li>Report the result</li></ol><p>As you can see, <em>all files are loaded and unloaded</em> for each mutant run. This way of reloading <a href="https://github.com/nodejs/tooling/issues/51" target="_blank" rel="noopener noreferrer">won't ever work with native ESM</a>, as there is simply no <code>cache</code> we can <code>delete</code> the loaded files from ü§∑‚Äç‚ôÄÔ∏è.</p><p>The reloading is also expensive. Think about it: if your project contains 1k files, with a total of 10k mutants, it could mean a total of <em>ten million file IO actions</em>. That's why mutation testing with StrykerJS would slow down considerably when the size of your project grows.</p><p>When you think about it, it is also <strong>unnecessary</strong>; why not simply keep all files loaded? Since they contain all the mutants anyway. This new process looks something like this:</p><p>(new process)</p><ol><li>(once) Load the code using <code>import</code></li><li>Activate the mutant</li><li>Run the tests with the test runner of choice.</li><li>Report the result</li></ol><p>The result is a significant performance improvement üêá. You can clearly see the difference when running StrykerJS on Stryker's core itself:</p><table><thead><tr><th>Old</th></tr></thead><tbody><tr><td><img loading="lazy" alt="stryker-v5" src="/assets/images/stryker-v5-29b8e2d9e551ba70c73297c30cb55ad5.gif" width="1257" height="368" class="img_E7b_"></td></tr></tbody></table><table><thead><tr><th>New <!-- -->*</th></tr></thead><tbody><tr><td><img loading="lazy" alt="stryker-v6" src="/assets/images/stryker-v6-73098790d1813d33a0351986d6755a76.gif" width="1257" height="368" class="img_E7b_"></td></tr></tbody></table><p>*<!-- --> using <code>--ignoreStatic</code></p><p>That's a whopping 70% performance improvement ü§Ø.</p><p>We call this feature "hot reload," and StrykerJS supports it in <code>@stryker-mutator/mocha-runner</code> and <code>@stryker-mutator/jasmine-runner</code>. Please note that this feature is always on from version 6 onward, even for plain old CommonJS style projects! It does require a higher version of mocha or jasmine, respectively, see <a href="#-breaking-changes">breaking changes</a>. Support for <code>@stryker-mutator/cucumber-runner</code> for the release of version 8 of <code>@cucumber/cucumber</code>.</p><p>Unfortunately, we're not supporting hot reload for the <code>@stryker-mutator/jest-runner</code> or <code>@stryker-mutator/karma-runner</code> yet; please up-vote <a href="https://github.com/stryker-mutator/stryker-js/issues/3455" target="_blank" rel="noopener noreferrer">#3455</a> or <a href="https://github.com/stryker-mutator/stryker-js/issues/3454" target="_blank" rel="noopener noreferrer">#3454</a> respectively if you want to see it happen üíô.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-ignore-static">üóø Ignore static<a class="hash-link" href="#-ignore-static" title="Direct link to heading">‚Äã</a></h2><p>Yes, indeed, hot reload sounds incredible! But what about <em>static mutants</em>?</p><p>A static mutant is a mutant that is executed once on <em>file load</em> rather than during <em>test runtime</em>.</p><p>Take this small example:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// greet.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> hi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'üëã'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">greet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">hi</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// greet.spec.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> greet </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./greet.js'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">it</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'should greet me'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">greet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'me'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toBe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'üëã me'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you run StrykerJS on this code, it will create a mutant for the <code>hi</code> constant:</p><div class="language-diff codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-diff codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">const hi = 'üëã';</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">const hi = '';</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you consider mutant schemata, the actual code produced by StrykerJS looks more like this:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> hi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'1'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'üëã'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you now factor in <a href="#-hot-reload">hot reload</a>, you see that the mutant is only active during the runtime of the tests instead of at load time. This would mean that the mutant <em>survives no matter how good your tests are</em>. We can't have that üò™!</p><p>That's why StrykerJS will detect static mutants and <em>still follow the old process</em> to test them. However, instead of reloading the files (remember, this won't work for ESM files), it will create a shiny, new worker process for every static mutant run (for NodeJS-based test runners).</p><p>Creating new worker processes to test static mutants makes them much more expensive in StrykerJS v6. Also, they are generally less interesting for you to spend your time on since they include constant strings, numbers, etc. You might even want to ignore them entirely! This is where <code>--ignoreStatic</code> comes in.</p><p>With <code>--ignoreStatic</code> static mutants are ... well ignored. You can still see them in your HTML report, but they won't count towards your mutation score.</p><figure><img loading="lazy" src="/images/blogs/ignored-static-mutant.png" alt="Ignored static mutant" class="img_E7b_"><figcaption>An ignored static mutant</figcaption></figure><p>Your mileage may vary, but for running StrykerJS on Stryker's core itself, we <a href="https://github.com/stryker-mutator/stryker-js/issues/3282#issuecomment-980110861" target="_blank" rel="noopener noreferrer">saw a whopping 50% performance improvement by ignoring 6% of our mutants (the static mutants) ü§Ø</a>. For more details on static mutants, see <a href="/docs/mutation-testing-elements/static-mutants/">the new documentation on on them</a>.</p><p>Please try this feature out and provide feedback. We're also thinking of ways to point this feature out to users of Stryker, or even enable it by default. Feel free to voice your opinion in <a href="https://github.com/stryker-mutator/stryker-js/issues/3435" target="_blank" rel="noopener noreferrer">the GitHub issue about it</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-esm-based-config">üìÉ ESM-based config<a class="hash-link" href="#-esm-based-config" title="Direct link to heading">‚Äã</a></h2><p>From v6 onward, StrykerJS also supports <em>your config</em> as ESM. Either by adding <code>{ "type": "module" }</code> to your package.json file, or by renaming <code>stryker.conf.js</code> to <code>stryker.conf.mjs</code>.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// stryker.conf.mjs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/** @type {import('@stryker-mutator/api/core').PartialStrykerOptions} */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">reporters</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'html'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'clear-text'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'progress'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">testRunner</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'mocha'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">coverageAnalysis</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'perTest'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We've updated the <code>stryker init</code> command to emit this new config file format when choosing for "JavaScript" config format.</p><p><em>Note</em>: for completeness sake, <code>stryker.conf.cjs</code> is also supported.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-breaking-changes">üí• Breaking changes<a class="hash-link" href="#-breaking-changes" title="Direct link to heading">‚Äã</a></h2><p>This is the list of breaking changes.</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3450" target="_blank" rel="noopener noreferrer">#3450</a> <strong>checker-api:</strong> The <code>check</code> method of checker plugins now receives a <em>group of mutants</em> and should provide a <code>CheckResult</code> per mutant id.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3438" target="_blank" rel="noopener noreferrer">#3438</a> <strong>html reporter:</strong> Configuration option <code>htmlReporter.baseDir</code> is deprecated and will be removed in a later version. Please use <code>htmlReporter.fileName</code> instead.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3432" target="_blank" rel="noopener noreferrer">#3432</a> <strong>esm config:</strong> Exporting a function (using <code>module.exports = function(config) {}</code>) from your <code>stryker.conf.js</code> file is no longer supported. This was already deprecated but now will give an error.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3409" target="_blank" rel="noopener noreferrer">#3409</a> <strong>esm:</strong> StrykerJS is now a pure ESM. Please <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c" target="_blank" rel="noopener noreferrer">read this</a>.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3409" target="_blank" rel="noopener noreferrer">#3409</a> <strong>esm:</strong> Node 12.20 is now the min version.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3409" target="_blank" rel="noopener noreferrer">#3409</a> <strong>esm:</strong> Karma v6.3 is now the min supported karma version for <code>@stryker-mutator/karma-runner</code>, since <a href="https://github.com/karma-runner/karma/blob/master/CHANGELOG.md#630-2021-03-23" target="_blank" rel="noopener noreferrer">that version added support for async config loading</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3396" target="_blank" rel="noopener noreferrer">#3396</a> <strong>esm:</strong> The <code>@stryker-mutator/jasmine-runner</code> now requires <a href="mailto:jasmine@3.10" target="_blank" rel="noopener noreferrer">jasmine@3.10</a> or higher.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3393" target="_blank" rel="noopener noreferrer">#3393</a> <strong>esm:</strong> The <code>@stryker-mutator/mocha-runner</code> now requires <code>mocha@7.2</code> or higher.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3369" target="_blank" rel="noopener noreferrer">#3369</a> <strong>reload test environment:</strong> Test runner plugins must provide <code>TestRunnerCapabilities</code> by implementing the <code>capabilities</code> method.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-next">üîÆ What's next<a class="hash-link" href="#-whats-next" title="Direct link to heading">‚Äã</a></h2><p>We'll be focussing on getting StrykerJS 6.0 released in about a month or so. We would appreciate your feedback. Feel free to report any <a href="https://github.com/stryker-mutator/stryker-js/issues" target="_blank" rel="noopener noreferrer">issues</a> you find or voice your opinion on <a href="https://join.slack.com/t/stryker-mutator/shared_invite/enQtOTUyMTYyNTg1NDQ0LTU4ODNmZDlmN2I3MmEyMTVhYjZlYmJkOThlNTY3NTM1M2QxYmM5YTM3ODQxYmJjY2YyYzllM2RkMmM1NjNjZjM" target="_blank" rel="noopener noreferrer">our slack channel</a></p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing Stryker.NET 1.0]]></title>
        <id>2021-30-10-announcing-stryker-net-1.md</id>
        <link href="https://stryker-mutator.io/blog/2021-30-10-announcing-stryker-net-1.md"/>
        <updated>2021-10-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We're proud to announce the first major release of Stryker.NET: 1.0. It comes with exciting new features and an overhaul of how you interact with the Stryker CLI. With the release of Stryker 1.0, we wanted to create a cohesive and intuitive user experience.]]></summary>
        <content type="html"><![CDATA[<p>We're proud to announce the first major release of Stryker.NET: 1.0. It comes with exciting new features and an overhaul of how you interact with the Stryker CLI. With the release of Stryker 1.0, we wanted to create a cohesive and intuitive user experience.</p><p>If you're new to mutation testing, it's a way to measure your tests' effectiveness. A mutation testing framework will make small changes, called <em>mutants</em>, one by one in your source code. Then it will run your tests to see if one of them fails. If so, you just "killed" that mutant; if not, it "survived". If too many mutants survive, you probably want to improve your tests. The mutation testing report will give you insides into the test cases you may have missed. If this all sounds complicated, please take a look at <a href="https://stryker-mutator.io/example" target="_blank" rel="noopener noreferrer">our RoboBar ü§ñüç∑ example</a>.</p><p>If you're new to Stryker.NET, please follow our <a href="https://stryker-mutator.io/docs/stryker-net/getting-started/" target="_blank" rel="noopener noreferrer">Getting started guide</a>. Are you already using Stryker.NET? Update to the latest version with the following command:</p><p>Global install:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet tool update dotnet-stryker --global</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Project install:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet tool update dotnet-stryker --local</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With that out of the way, let's dive into the new stuff!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-breaking-changes">üí• Breaking changes<a class="hash-link" href="#-breaking-changes" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="-updated-runtime">‚è≠ Updated runtime<a class="hash-link" href="#-updated-runtime" title="Direct link to heading">‚Äã</a></h3><p>The .NET runtime for Stryker.NET has been updated from 3.1 to 5.0.</p><p>This update should have some performance benefits, and it will help with developing Stryker.NET in the future.</p><p>Please <a href="https://dotnet.microsoft.com/download/dotnet/5.0" target="_blank" rel="noopener noreferrer">download and install .NET 5.0</a> or update your pipeline to support .NET 5.</p><p><em>Note that you do not have to update your application to use dotnet 5. Dotnet 5 is only a runtime requirement for Stryker to be able to run on your system.</em></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="-options-rework">‚è≠ Options rework<a class="hash-link" href="#-options-rework" title="Direct link to heading">‚Äã</a></h3><p>Most options have been renamed or work differently.</p><p>A fundamental difference is how you pass multi-value options from the command line.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="multi-value-options">Multi value options<a class="hash-link" href="#multi-value-options" title="Direct link to heading">‚Äã</a></h4><p>The old annotation for passing multi-value options was confusing and not based on any standards. For example, this is how you provided multiple reporters pre 1.0 üëé</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet stryker --reporters </span><span class="token string" style="color:#e3116c">"['html', 'progress']"</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>From 1.0 onward, this now looks like üëç</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet stryker --reporter </span><span class="token string" style="color:#e3116c">"html"</span><span class="token plain"> --reporter </span><span class="token string" style="color:#e3116c">"progress"</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="options-migration-guide">Options migration guide<a class="hash-link" href="#options-migration-guide" title="Direct link to heading">‚Äã</a></h4><p>Most options have a new name. We have also decided that some options either don't belong on the commandline or don't belong in the configuration file. For example, an API key should not be stored in the configuration file so that possibility has been removed.</p><p>Options migration overview:</p><table><thead><tr><th>Old cli</th><th>New cli</th><th>Old json</th><th>New json</th></tr></thead><tbody><tr><td>config-file-path</td><td>f <!-- -->|<!-- --> config-file</td><td>‚ùå</td><td>‚ùå</td></tr><tr><td>max-concurrent-testrunners</td><td>c <!-- -->|<!-- --> concurrency</td><td>max-concurrent-testrunners</td><td>concurrency</td></tr><tr><td>dev-mode</td><td>dev-mode</td><td>dev-mode</td><td>‚ùå</td></tr><tr><td>solution-path</td><td>s <!-- -->|<!-- --> solution</td><td>solution-path</td><td>solution</td></tr><tr><td>log-file</td><td>L <!-- -->|<!-- --> log-to-file</td><td>log-file</td><td>‚ùå</td></tr><tr><td>log-level</td><td>V <!-- -->|<!-- --> verbosity</td><td>log-level</td><td>verbosity</td></tr><tr><td>mutation-level</td><td>l <!-- -->|<!-- --> mutation-level</td><td>mutation-level</td><td>mutation-level</td></tr><tr><td>threshold-high</td><td>‚ùå</td><td>thresholds.high</td><td>thresholds.high</td></tr><tr><td>threshold-low</td><td>‚ùå</td><td>thresholds.low</td><td>thresholds.low</td></tr><tr><td>threshold-break</td><td>b <!-- -->|<!-- --> break-at</td><td>thresholds.break</td><td>thresholds.break</td></tr><tr><td>reporters</td><td>r <!-- -->|<!-- --> reporter (flag allowed multiple times)</td><td>reporters</td><td>reporters</td></tr><tr><td>project-file</td><td>p <!-- -->|<!-- --> project</td><td>project-file</td><td>project</td></tr><tr><td>diff</td><td>since</td><td>diff</td><td>since</td></tr><tr><td>timeout-ms</td><td>‚ùå</td><td>timeout-ms</td><td>additional-timeout</td></tr><tr><td>excluded-mutations</td><td>‚ùå</td><td>excluded-mutations</td><td>ignore-mutations</td></tr><tr><td>ignore-methods</td><td>‚ùå</td><td>ignore-methods</td><td>ignore-methods</td></tr><tr><td>mutate</td><td>m <!-- -->|<!-- --> mutate</td><td>mutate</td><td>mutate</td></tr><tr><td>language-version</td><td>‚ùå</td><td>language-version</td><td>language-version</td></tr><tr><td>coverage-analysis</td><td>‚ùå</td><td>coverage-analysis</td><td>coverage-analysis</td></tr><tr><td>abort-test-on-fail</td><td>‚ùå</td><td>abort-test-on-fail</td><td>disable-bail</td></tr><tr><td>disable-testing-mix-mutations</td><td>‚ùå</td><td>disable-testing-mix-mutations</td><td>disable-mix-mutants</td></tr><tr><td>test-projects</td><td>‚ùå</td><td>test-projects</td><td>test-projects</td></tr><tr><td>dashboard-url</td><td>‚ùå</td><td>dashboard-url</td><td>dashboard-url</td></tr><tr><td>dashboard-api-key</td><td>dashboard-api-key</td><td>dashboard-api-key</td><td>‚ùå</td></tr><tr><td>project-name</td><td>‚ùå</td><td>dashboard-project</td><td>project-info.name</td></tr><tr><td>module-name</td><td>‚ùå</td><td>dashboard-module</td><td>project-info.module</td></tr><tr><td>dashboard-version</td><td>v <!-- -->|<!-- --> version</td><td>dashboard-version</td><td>project-info.version</td></tr><tr><td>diff-ignore-files</td><td>‚ùå</td><td>diff-ignore-files</td><td>since.ignore-changes-in</td></tr><tr><td>azure-storage-url</td><td>‚ùå</td><td>azure-storage-url</td><td>baseline.azure-fileshare-url</td></tr><tr><td>dashboard-fallback-version</td><td>‚ùå</td><td>dashboard-fallback-version</td><td>baseline.fallback-version</td></tr><tr><td>baseline-storage-location</td><td>‚ùå</td><td>baseline-storage-location</td><td>baseline.provider</td></tr><tr><td>dashboard-compare</td><td>with-baseline</td><td>dashboard-compare</td><td>baseline</td></tr><tr><td>git-diff-target</td><td>-<!-- -->-since ...</td><td>git-diff-target</td><td>since.target</td></tr><tr><td>azure-storage-sas</td><td>azure-fileshare-sas</td><td>azure-storage-sas</td><td>‚ùå</td></tr><tr><td>files-to-exclude</td><td>‚ùå</td><td>‚ùå</td><td>‚ùå</td></tr><tr><td>test-runner</td><td>‚ùå</td><td>‚ùå</td><td>‚ùå</td></tr></tbody></table><p>‚ùå means the option has been removed.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-new">üöÄ What's new?<a class="hash-link" href="#-whats-new" title="Direct link to heading">‚Äã</a></h2><p>This release comes packed with new features! Let's walk through them all:</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="statement-removal-mutator">Statement removal mutator<a class="hash-link" href="#statement-removal-mutator" title="Direct link to heading">‚Äã</a></h3><p>We introduced a new mutator that removes statements that otherwise would have been untouched by other mutators.</p><p><img loading="lazy" src="/assets/images/statement-mutation-387a81c3bb0575513489078eeb6c4ee0.png" width="880" height="465" class="img_E7b_"></p><p>The mutator will remove the following statements:</p><ul><li><code>return</code></li><li><code>break</code></li><li><code>continue</code></li><li><code>goto</code></li><li><code>throw</code></li><li><code>yield return</code></li><li><code>yield break</code></li><li><code>expression</code></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="allow-failing-tests">Allow failing tests<a class="hash-link" href="#allow-failing-tests" title="Direct link to heading">‚Äã</a></h3><p>It's now allowed to start a mutation test run even with failing tests. Stryker will try to make the best of the situation by marking mutants covered by <code>initially failing tests</code> as <code>survived</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="mutant-filtering">Mutant filtering<a class="hash-link" href="#mutant-filtering" title="Direct link to heading">‚Äã</a></h3><p>It's now possible to filter mutants at the source code level using special comments. This filtering gives the most fine-grained level of control.</p><p>The syntax for the comments is: <code>Stryker [disable|restore][once][all| mutator list][: reason for disabling]</code></p><p><code>// Stryker disable all</code> Disables all mutants from that line on.</p><p><code>// Stryker restore all</code> re-enables all mutants from that line on.</p><p><code>// Stryker disable once all</code> will only disable mutants on the next line.</p><p><code>// Stryker disable once Arithmetic,Update</code> will only disable Arithmetic and Update mutants on the next line</p><p>Example:</p><div class="language-csharp codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-csharp codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Stryker disable all : for explanatory reasons</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// won't be mutated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// won't be mutated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Stryker restore all</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">i</span><span class="token operator" style="color:#393A34">--</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// will be mutated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Stryker disable once all</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y</span><span class="token operator" style="color:#393A34">--</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// won't be mutated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// will be mutated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Stryker disable once Arithmetic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// will be mutated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Stryker disable once Arithmetic,Update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">i</span><span class="token operator" style="color:#393A34">--</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// won't be mutated</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>Note that this feature is scope aware. If you disable mutators inside a method, the scope will not leak outside the method, even if there is more code below.</em></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ignore-mutations">Ignore mutations<a class="hash-link" href="#ignore-mutations" title="Direct link to heading">‚Äã</a></h3><p>The <code>ignore-mutations</code> option now offers more fine-grained control. Before v1.0 it was possible to ignore complete mutators. Now it's possible to ignore specific mutants inside these mutators as well.</p><p>Example:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">"stryker-config"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"ignore-mutations"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"linq.First"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"linq.Sum"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note: this only works for Linq mutations for now, but we plan to bring this functionality to all mutations.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="msbuild-path-option">MsBuild path option<a class="hash-link" href="#msbuild-path-option" title="Direct link to heading">‚Äã</a></h3><p>By default Stryker tries to auto-discover MSBuild on your system. However, if Stryker fails to discover the correct MSBuild, you may manually supply the path with this option.</p><p>Example:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">--msbuild-path </span><span class="token string" style="color:#e3116c">"c://MsBuild/MsBuild.exe"</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="target-framework">Target framework<a class="hash-link" href="#target-framework" title="Direct link to heading">‚Äã</a></h3><p>If the project targets multiple frameworks, it is now possible to specify the particular framework to build against. If you set a non-existent target, Stryker will build the project against a random one (or the only one if so).</p><p>Example:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"stryker-config"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"target-framework"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"netcoreapp3.1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="filter-test-cases">Filter test cases<a class="hash-link" href="#filter-test-cases" title="Direct link to heading">‚Äã</a></h3><p>A long-awaited feature has finally found its way into Stryker! It is now possible to exclude some test cases. So, for example, if you have long-running integration tests in your unit test project, they can be disabled for Stryker, improving the performance.</p><p>Example:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"stryker-config"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"test-case-filter"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"(FullyQualifiedName~UnitTest1&amp;TestCategory=CategoryA)|Priority=1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Uses <code>dotnet test --filter</code> option syntax, <a href="https://docs.microsoft.com/en-us/dotnet/core/testing/selective-unit-tests" target="_blank" rel="noopener noreferrer">detailed here</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="use-source-link-for-dashboard-reporter">Use Source Link for dashboard reporter<a class="hash-link" href="#use-source-link-for-dashboard-reporter" title="Direct link to heading">‚Äã</a></h3><p>Filling all settings to use the dashboard reporter could be a bit of a hassle. However, thanks to <a href="https://github.com/dotnet/sourcelink#readme" target="_blank" rel="noopener noreferrer">Source Link</a>, the repository URL and the full version (including the git SHA1) of a project can be included in the produced assembly.</p><p>Stryker now uses the information computed by SourceLink to automatically retrieve the project name (github.com/organization/project) and project version, both of which are requirements for the dashboard reporter.</p><p>Enable this by adding the following to your <code>.csproj</code>:</p><div class="language-xml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-xml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ItemGroup</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">PackageReference</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">Include</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">DotNet.ReproducibleBuilds</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">Version</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">0.1.66</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">PrivateAssets</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">All</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ItemGroup</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For more information on SourceLink and ReproducibleBuilds see <a href="https://github.com/dotnet/sourcelink" target="_blank" rel="noopener noreferrer">SourceLink</a> and <a href="https://github.com/dotnet/reproducible-builds" target="_blank" rel="noopener noreferrer">Dotnet.ReproducibleBuilds</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="block-removal-mutations">Block removal mutations<a class="hash-link" href="#block-removal-mutations" title="Direct link to heading">‚Äã</a></h3><p>Finally the last missing "common" mutation is added to Stryker.NET! Block removal mutations empty every block statement in your code. This means method bodies or statement bodies (if, while, for). With this mutation Stryker will have improved coverage on your complete codebase. Every method will have at least one mutation and thus should have at least one test.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-bug-fixes">üêõ Bug fixes<a class="hash-link" href="#-bug-fixes" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="no-more-mutated-assembly-on-disk-after-stryker-run">No more mutated assembly on disk after Stryker run<a class="hash-link" href="#no-more-mutated-assembly-on-disk-after-stryker-run" title="Direct link to heading">‚Äã</a></h3><p>During mutation testing, Stryker replaces your system under test assembly on disk. Up till now, the mutated assembly stayed in place after mutation testing was done. This had some unintended side effects. For example, code coverage results could be incorrect until you rebuild your project, and there was the risk of accidentally releasing/publishing the mutated assembly instead of the original if you did not rebuild your project after mutation testing in your pipelines. We now copy your original assembly before we modify it and place it back after mutation testing. No more rebuild required!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-team-expansion">üë™ Team expansion<a class="hash-link" href="#-team-expansion" title="Direct link to heading">‚Äã</a></h2><p>We welcome <a href="https://github.com/dupdob" target="_blank" rel="noopener noreferrer">Cyrille DUPUYDAUBY</a> to the team! They have supported us with feedback, testing, and development since 2018. It was long past due that we officially recognized their contributions to the project!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-thank-you">üéâ Thank you<a class="hash-link" href="#-thank-you" title="Direct link to heading">‚Äã</a></h2><p>Special thanks to <a href="https://github.com/dupdob" target="_blank" rel="noopener noreferrer">Cyrille DUPUYDAUBY</a>, <a href="https://github.com/psfinaki" target="_blank" rel="noopener noreferrer">Peter Semkin</a>, <a href="https://github.com/philrowan-mtb" target="_blank" rel="noopener noreferrer">Philip Rowan</a>, <a href="https://github.com/corentinaltepe" target="_blank" rel="noopener noreferrer">Corentin Altepe</a>, <a href="https://github.com/0xced" target="_blank" rel="noopener noreferrer">C√©dric Luthi</a>, <a href="https://github.com/grbell-ms" target="_blank" rel="noopener noreferrer">Gregory Bell</a>, <a href="https://github.com/JohnMcGlynnMSFT" target="_blank" rel="noopener noreferrer">John McGlynn</a>, <a href="https://github.com/Bforslund" target="_blank" rel="noopener noreferrer">Beatrice Forslund</a>, <a href="https://github.com/dukedagmor" target="_blank" rel="noopener noreferrer">dukedagmor</a> and anyone else we may have missed for their efforts to make this release happen üëè We truly appreciate all the help and feedback we receive!</p>]]></content>
        <author>
            <name>Richard Werkman</name>
            <uri>https://github.com/richardwerkman</uri>
        </author>
        <category label="stryker.net" term="stryker.net"/>
        <category label="release" term="release"/>
        <category label="mutation testing" term="mutation testing"/>
        <category label="stryker mutator" term="stryker mutator"/>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Stryker4s: from 40 minutes to 40 seconds]]></title>
        <id>stryker4s-40-minutes-to-40-seconds</id>
        <link href="https://stryker-mutator.io/blog/stryker4s-40-minutes-to-40-seconds"/>
        <updated>2021-06-16T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Stryker4s is your friendly mutation testing framework for Scala. Compared to earlier versions, Stryker4s 0.12 achieves a 60x speed increase in some scenarios ü§Ø. Are you curious to know how? Keep on reading.]]></summary>
        <content type="html"><![CDATA[<p>Stryker4s is your friendly mutation testing framework for Scala. Compared to earlier versions, Stryker4s <code>0.12</code> achieves a 60x speed increase in some scenarios ü§Ø. Are you curious to know how? Keep on reading.</p><p>If you're new to mutation testing, it's a way to measure your tests' effectiveness. A mutation testing framework will make small changes, called <em>mutants</em>, one by one in your source code. Then it will run your tests to see if one of them fails. If so, you just "killed" that mutant; if not, it "survived". If too many mutants survive, you probably want to improve your tests. The mutation testing report will give you insides into the test cases you may have missed. If this all sounds complicated, please take a look at the recent talk <a href="https://www.youtube.com/watch?v=Vq9eqZzblfg" target="_blank" rel="noopener noreferrer">"Who is testing your tests?"</a> from <em>Scala Love in the City</em> or check out the rest of the <a href="/">website</a>.</p><p>In this blog we'll talk about the performance improvements made in the last couple Stryker4s versions and dive into how they are made possible.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-in-short">üìÉ In short<a class="hash-link" href="#-in-short" title="Direct link to heading">‚Äã</a></h2><p>Imagine you're on your way to a sunny holiday destination. You've checked in your luggage, gone through customs, and boarded the plane. Then, the plane moves forward a couple of meters, and you're thrown out and sent back to customs before going through the whole thing again. It'll take years before you get to sip on your umbrella cocktail üçπ! This is exactly how Stryker4s has been running your code‚Ä¶ until now.</p><p>A lot has changed in recent versions of Stryker4s. Stryker4s now runs your tests in an entirely different way, bringing big performance improvements. As an example, running Stryker4s on the Stryker4s codebase used to take about 40 minutes on <code>0.9.1</code>. On<code>0.12.1</code>, this has been reduced to a fast 40 seconds. A short list of some new features:</p><ul><li>‚ú® New testrunner boasting improved performance</li><li>üîÄ Concurrency to improve speed by using all available cores</li><li>üïµÔ∏è‚Äç‚ôÄÔ∏è Coverage analysis to skip mutants without coverage</li><li>‚è±Ô∏è Timeout detection in tests</li><li>üëΩ New mutator: regular expressions. Thanks to <a href="https://github.com/stryker-mutator/weapon-regex/" target="_blank" rel="noopener noreferrer">Weapon regeX</a>!</li></ul><p>In the rest of this blog post, we'll do a deep-dive into the increased performance. Let's start by taking a look at the older version of Stryker4s.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-the-old">üê¢ The old<a class="hash-link" href="#-the-old" title="Direct link to heading">‚Äã</a></h2><p>In the older sbt plugin, there was a lot of overhead in running your tests. As a quick reminder, Stryker4s uses <a href="https://stryker-mutator.io/blog/mutation-switching/" target="_blank" rel="noopener noreferrer">mutation switching</a>, so it only has to compile your code once, instead of for each mutant. After mutating your source code, Stryker4s would essentially just call <code>sbt test</code> with the mutated code for every mutant. This means sbt would:</p><ol><li>Look for code changes (which there never are).</li><li>Make sure all compiled code is up-to-date (which it always is).</li><li>Start a new Java process with your class files, dependencies, and a small sbt entry point library.</li><li>Run your tests and report the results back to the main sbt process.</li><li>Repeat for the next mutant.</li></ol><div id="mermaid-sbt-old"></div><div class="mermaid-diagram"></div><p>Doing those checks and starting a new process makes a lot of sense for a development workflow, but not for mutation testing. This implementation of the test runner hasn't changed much in the two years that the plugin has existed. Time for some improvements!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-the-new">üêá The new<a class="hash-link" href="#-the-new" title="Direct link to heading">‚Äã</a></h2><p>It's clear the process can be optimized. Once Stryker4s is set up and all mutations have been compiled, the only thing we really want to do is run some tests and get a result. Sbt doesn't give plugins full control over the entire test process, but it does have all the information about <em>what</em> your project looks like. This is something we can work with!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="Ô∏è-meet-build-info">üèóÔ∏è Meet: build info<a class="hash-link" href="#Ô∏è-meet-build-info" title="Direct link to heading">‚Äã</a></h3><p>The first thing Stryker4s needs to do is figure out what tests our project contains. One of the great things about sbt is its standardization and extensibility as a build tool. Because sbt knows exactly what your project looks like, plugins can retrieve all this information. To find out what tests you have, Stryker4s uses three pieces of information from sbt:</p><ol><li><code>fullClasspath</code> location of all dependency JARs (including test-dependencies) and <code>.class</code> files of your compiled code.</li><li><code>loadedTestFrameworks</code> the configured test framework. Sbt detects a couple of frameworks by default, but if you use MUnit you might remember having to add <code>testFrameworks += new TestFramework("munit.Framework")</code> to your build.sbt before MUnit can run.</li><li><code>testGrouping</code> contains every test suite sbt discovers in your project.</li></ol><p>You can try running these yourself in a sbt console to see how Stryker4s looks at your project:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">sbt:stryker4s-core&gt; show fullClasspath</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[info] * Attributed(~/stryker4s/core/target/jvm-2.13/classes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[info] * Attributed(~/.cache/coursier/v1/https/repo1.maven.org/maven2/org/scala-lang/scala-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">library/2.13.4/scala-library-2.13.4.jar)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[info] * Attributed(~/.cache/coursier/v1/https/repo1.maven.org/maven2/com/github/pathikrit/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">better-files_2.13/3.9.1/better-files_2.13-3.9.1.jar)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sbt:stryker4s-core&gt; show loadedTestFrameworks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[info] Map(TestFramework(org.scalatest.tools.Framework, org.scalatest.tools.ScalaTestFramework) -&gt; org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.scalatest.tools.Framework@2b9d52d5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sbt:stryker4s-core&gt; show testGrouping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[info] * (&lt;default&gt;,Vector(Test stryker4s.config.TestFilterTest : subclass(false, org.scalatest.Suite)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">, Test stryker4s.extension.FileExtensionsTest : subclass(false, org.scalatest.Suite), Test stryker4s.m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">utants.MutatorTest : subclass(false, org.scalatest.Suite), Test stryker4s.mutants.AddAllMutationsTest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">: subclass(false, org.scalatest.Suite), ...</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We now know what tests are in your project. Let's have a look at running those tests:</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="-meet-test-interfaces">üß™ Meet: test interfaces<a class="hash-link" href="#-meet-test-interfaces" title="Direct link to heading">‚Äã</a></h3><p>This is something our friends in the NodeJS world are (rightfully) a little <a href="https://stryker-mutator.io/docs/stryker-js/plugins#test-runners" target="_blank" rel="noopener noreferrer">jealous of</a> üòè. When you call <code>sbt test</code>, sbt will look for any registered test frameworks that implement the <a href="https://github.com/sbt/test-interface" target="_blank" rel="noopener noreferrer">test-interface</a> (from <code>loadedTestFrameworks</code>). This is a small collection of interfaces that let a test framework tell sbt how to run tests in that framework. Because all test frameworks in sbt implement this interface, we have a single programmatic way to call any test framework. It doesn't matter if you're using ScalaTest, MUnit, Weaver-test or anything else. Using a bit of reflection, we can create an instance of the test framework runner and run tests:</p><div class="language-scala codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-scala codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> framework </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">loadClass</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">testFrameworkClass</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getConstructor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">newInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">asInstanceOf</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Framework</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> runner </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">runner</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remoteArgs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> testTasks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Array</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Task</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> runner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tasks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">testGrouping</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">taskDefs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">testTasks</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">foreach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">testTask </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  testTask</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Stryker4s can then use this to activate a mutant and instantly run the tests without any overhead from sbt.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="-meet-concurrency">üîÄ Meet: concurrency<a class="hash-link" href="#-meet-concurrency" title="Direct link to heading">‚Äã</a></h3><p>Stryker4s activates and runs each mutant one by one in isolation. This is to make sure one mutant won't have an impact on the result of another. This is done by creating a separate process for it. However, there's no rule that says we can't start multiple Java processes at the same time and run those in parallel.</p><p>With multiple separate worker-processes, each worker has its own separate memory, threads, and active mutant. This way, if one mutant results in an <code>OutOfMemoryError</code> it won't impact the others. In long-lived processes like mutation testing, the performance increases of parallelism far outweigh the overhead of starting and managing multiple workers.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="-putting-it-all-together">üß∞ Putting it all together<a class="hash-link" href="#-putting-it-all-together" title="Direct link to heading">‚Äã</a></h3><p>Stryker4s can start a new process with all the information collected above. Because Stryker4s now fully controls how it runs your tests, it can eliminate any overhead of starting new processes or looking for source code changes. It looks a little something like this:</p><ol><li>Start new worker processes in parallel with the full test classpath and send them all the needed test setup.</li><li>Create a new instance of the test framework in the created process.</li><li>For each mutant, programmatically run the tests on the worker process.</li></ol><div id="mermaid-sbt-new"></div><div class="mermaid-diagram"></div><p>As you can see, there's not much overhead left in running your tests. The limiting factor is now how fast your tests are! When running Stryker4s on itself, this method improves performance 60x: from 40 minutes to 40 seconds.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-next">üîÆ What's next?<a class="hash-link" href="#-whats-next" title="Direct link to heading">‚Äã</a></h2><p>In this post, we've shown you how Stryker4s uses sbt's test information to reduce overhead and provide massive performance increases. We're very excited for you to try out the increased performance! If you have any feedback or questions, find us on <a href="https://github.com/stryker-mutator/stryker4s" target="_blank" rel="noopener noreferrer">GitHub</a> or <a href="https://join.slack.com/t/stryker-mutator/shared_invite/enQtOTUyMTYyNTg1NDQ0LTU4ODNmZDlmN2I3MmEyMTVhYjZlYmJkOThlNTY3NTM1M2QxYmM5YTM3ODQxYmJjY2YyYzllM2RkMmM1NjNjZjM" target="_blank" rel="noopener noreferrer">Slack</a>.</p><p>Next, we want to also bring these performance improvements to the Maven plugin, add per-test coverage support, improve the HTML report to show your tests and perhaps even support some <a href="https://github.com/stryker-mutator/stryker4k" target="_blank" rel="noopener noreferrer">new languages</a>?</p>]]></content>
        <author>
            <name>Hugo van Rijswijk</name>
            <uri>https://github.com/hugo-vrijswijk</uri>
        </author>
        <category label="stryker4s" term="stryker4s"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing StrykerJS 5.0 - Brave new Dimension]]></title>
        <id>announcing-stryker-js-5-brave-new-dimension.md</id>
        <link href="https://stryker-mutator.io/blog/announcing-stryker-js-5-brave-new-dimension.md"/>
        <updated>2021-05-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We're proud to announce the next major release of StrykerJS: 5.0. With a name change, a new dimension in your report, a new way to discover files, updated mutators, quality of life improvements, and minor bug fixes.]]></summary>
        <content type="html"><![CDATA[<p>We're proud to announce the next major release of StrykerJS: 5.0. With a name change, a new dimension in your report, a new way to discover files, updated mutators, quality of life improvements, and minor bug fixes.</p><p>If you're new to mutation testing, it's a way to measure your tests' effectiveness. A mutation testing framework will make small changes, called <em>mutants</em>, one by one in your source code. Then it will run your tests to see if one of them fails. If so, you just "killed" that mutant; if not, it "survived". If too many mutants survive, you probably want to improve your tests. The mutation testing report will give you insides into the test cases you may have missed. If this all sounds complicated, please take a look at <a href="https://stryker-mutator.io/example" target="_blank" rel="noopener noreferrer">our RoboBar ü§ñüç∑ example</a>.</p><p>If you're new to StrykerJS, please follow our <a href="https://stryker-mutator.io/docs/stryker-js/getting-started/" target="_blank" rel="noopener noreferrer">Getting started guide</a>. Are you already using StrykerJS? Update to the latest version with your package manager of choice.</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/core@latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># OR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --dev @stryker-mutator/core@latest</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Don't forget to do the same for any plugins you might be using. For example,</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/mocha-runner@latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># OR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --dev @stryker-mutator/mocha-runner@latest</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With that out of the way, let's dive into the new stuff!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-name-change">üë™ Name change<a class="hash-link" href="#-name-change" title="Direct link to heading">‚Äã</a></h2><p>That's right. We've rebranded 'Stryker for JavaScript and friends' as simply <strong>StrykerJS</strong>. This change makes it easier to distinguish StrykerJS from other frameworks in the Stryker family (Stryker.NET and Stryker4s). It also allows for better use of Twitter real estate üòä.</p><p>Don't worry; the names of the NPM packages haven't changed. So it is purely a branding thing.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-new-dimension">‚ú® New dimension<a class="hash-link" href="#-new-dimension" title="Direct link to heading">‚Äã</a></h2><p>The mutation test report has always been the bread and butter of Stryker. Either in your browser or console, it is where you find out where the killed and survived mutants are. But the next question you might ask is: which tests were responsible? Stryker knows but wasn't telling you. Until now!</p><p>Behold, the new dimension you'll find in your reports‚Äîthe test view üß™.</p><p><img loading="lazy" alt="html test view" src="/assets/images/test-view-html-1-c2753c1589a6e62fd05a776dfb48567f.png" width="1106" height="708" class="img_E7b_">
<img loading="lazy" alt="html test view2" src="/assets/images/test-view-html-2-d9a728189b41d7e5bb7a56b0176ceb40.png" width="1614" height="619" class="img_E7b_"></p><p>Or using the <code>clear-text</code> reporter:</p><p><img loading="lazy" alt="text test view" src="/assets/images/test-view-console-7e9c3574ff66484f01cb8d7e832d7eba.png" width="1768" height="381" class="img_E7b_"></p><p>The test view tells you at a glance which tests are <em>killing</em> mutants, which are merely <em>covering</em> mutants (without killing) and which are <em>not covering</em> any mutants. Furthermore, you can determine which mutants were covered or killed by that particular test case. Finding out so much information about your tests has never been this easy!</p><p>A couple of caveats to point out:</p><ul><li>The <code>Covering</code> state will only be available when selecting the <a href="https://stryker-mutator.io/docs/stryker-js/configuration#coverageanalysis-string" target="_blank" rel="noopener noreferrer"><code>perTest</code> coverage analysis setting</a>.</li><li>StrykerJS always runs your tests with <code>bail</code> mode active (or <code>failFast</code> in jasmine), making your test runner stop after the first failing test. As a result, a mutant can only be killed by one test. If you have overlap in asserts across tests, other tests might be marked as "Covering", while they would kill a mutant when run in isolation.</li><li>Some mutants are executed as soon as your file <em>is loaded</em> instead of during <em>test execution</em>. We call these mutants <em>static mutants</em>, and all your tests are executed as a result. For example:<div class="language-diff codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-diff codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">// hello.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">export const hello ='üëã'</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">export const hello = ''</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>A test that for <code>hello</code> might look like:<div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> hello </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./hello.js'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">describe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'hello'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">it</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'should be a string'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toBe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'string'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>As you can see, this is a relatively weak test that doesn't kill this mutant. You might assume that this test covers the mutant, but upon further inspection, you'll notice that <code>hello</code> is declared as soon as the file loads. There is no way for Stryker to know that this test is supposed to cover the mutant. As a result, the test is marked as "Not Covering".</li><li>Currently, only the <code>@stryker-mutator/jest-runner</code> can group your tests in their original test files. Running with another test runner will result in your tests being displayed in a list instead.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="Ô∏è-discovering-files">ü§∑‚Äç‚ôÇÔ∏è Discovering files<a class="hash-link" href="#Ô∏è-discovering-files" title="Direct link to heading">‚Äã</a></h2><p>StrykerJS typically doesn't mutate your files directly. Instead, it creates a copy inside a <em>sandbox</em> directory, usually located at <code>.stryker-tmp/sandbox-123456</code>. However, it won't copy over all files there to save time. Stryker used to rely on git to decide which files to copy. Any <code>.gitignored</code> files would not be copied.</p><p>There were some issues with this approach. First of all, it required your project to be located in a git repository, and you needed to have git installed. And then, there are also examples of test suites that need some <code>.gitignore</code>d files to run, like <code>.env</code>.</p><p>To combat these issues, StrykerJS 5 will no longer use git for file discovery. Instead, it will include all files while ignoring some standard patterns, like "node_modules". You can remove more files by specifying patterns in the new <a href="https://stryker-mutator.io/docs/stryker-js/configuration#ignorepatterns-string" target="_blank" rel="noopener noreferrer"><code>ignorePatterns</code></a> configuration option. For example:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"ignorePatterns"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"bower_components"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>StrykerJS also allows you to specify <code>files</code>, which does the opposite of <code>ignorePatterns</code>, namely, you select the files you need to run your tests. Painstakenly whitelisting each file is more time-consuming and prone to error; that's why we've decided to <em>deprecate</em> <code>files</code> in favor of <code>ignorePatterns</code>.</p><p>Are you currently using <code>files</code>? You can probably remove <code>files</code>, and Stryker will still work. Or, if you still prefer the whitelisting method, you can achieve this like so:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"ignorePatterns"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"**"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"!src/**/*.js"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See the <a href="https://github.com/stryker-mutator/stryker-js/pull/2848" target="_blank" rel="noopener noreferrer">original pull request</a> for more information.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-updated-mutators">üëΩ Updated mutators<a class="hash-link" href="#-updated-mutators" title="Direct link to heading">‚Äã</a></h2><p>We've decided to add a new variant to the <a href="https://stryker-mutator.io/docs/mutation-testing-elements/supported-mutators#logical-operator" target="_blank" rel="noopener noreferrer">logical operator mutator</a>. It now also mutates <em>the nullish coalescing operator</em> (<code>??</code>).</p><div class="language-diff codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-diff codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">foo ?? bar</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">foo &amp;&amp; bar</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To kill this mutant, you will need to write a test for both branches of the operator. Like you already needed to do for the logical OR (<code>||</code>) and logical AND (<code>&amp;&amp;</code>) operators.</p><p>We're also in the process of adding a new <a href="https://github.com/stryker-mutator/stryker-js/pull/2886" target="_blank" rel="noopener noreferrer">optional chaining mutator</a>, but that didn't make it in time for this release.</p><p>A quick plug: as of version 4.4, StrykerJS will also mutate your <code>/regex/</code>s. For example:</p><div class="language-diff codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-diff codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> /\d{4}\s?[a-Z]{2}/</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> /\d\s?[a-Z]{2}/</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> /\D{4}\s?[a-Z]{2}/</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> /\d{4}\S?[a-Z]{2}/</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> /\d{4}\s?[a-Z]/</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> /\d{4}\s?[^a-Z]{2}/</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Thanks again to the students who created <a href="https://github.com/stryker-mutator/weapon-regex/" target="_blank" rel="noopener noreferrer">weapon-regex</a> to make this happen üéâ</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="Ô∏èÔ∏è-default-coverage-analysis">üïµÔ∏è‚Äç‚ôÇÔ∏è Default coverage analysis<a class="hash-link" href="#Ô∏èÔ∏è-default-coverage-analysis" title="Direct link to heading">‚Äã</a></h2><p>Coverage analysis is a feature that makes StrykerJS run faster because it will run fewer tests per mutant. In its strongest setting, <code>"coverageAnalysis": "perTest"</code>, it will only run the exact tests that are covering a mutant. Whether or not you are able to use this feature depends on your test suite and test runner, see <a href="https://stryker-mutator.io/docs/stryker-js/configuration#coverageanalysis-string" target="_blank" rel="noopener noreferrer">coverage analysis in configuration</a> for more details.</p><p>Since v4.3, <code>@stryker-mutator/jest-runner</code> also supports this setting. Now that all officially supported test runners support coverage analysis, it was time to make <code>perTest</code> the default setting. So we did. You can still disable it with <code>"coverageAnalysis": "off"</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-other-changes">üßπ Other changes<a class="hash-link" href="#-other-changes" title="Direct link to heading">‚Äã</a></h2><p>We once again chose to improve the maintainability of the Stryker code base.</p><p><strong>Unified reporter api</strong></p><p>The Reporter plugin API has gotten an overhaul. It is now more in line with <a href="https://github.com/stryker-mutator/mutation-testing-elements/" target="_blank" rel="noopener noreferrer">mutation-testing-elements</a></p><p>See the <a href="https://github.com/stryker-mutator/stryker-js/pull/2798" target="_blank" rel="noopener noreferrer">original PR</a> for more information.</p><p><strong>Serialization</strong></p><p>Stryker uses worker processes to run tests and check mutants for type errors. These workers receive any options via a message. Stryker used the <a href="https://www.npmjs.com/package/surrial" target="_blank" rel="noopener noreferrer">surrial</a> package to serialize complex objects like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer">RegExp</a>, functions, and even classes. This hidden feature was rarely used and not a good practice in hindsight. StrykerJS 5 replaces this with plain old <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener noreferrer"><code>JSON.stringify</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" rel="noopener noreferrer"><code>JSON.parse</code></a>. Don't worry, you get a warning if you configure something that isn't serializable.</p><p>See the <a href="https://github.com/stryker-mutator/stryker-js/pull/2877" target="_blank" rel="noopener noreferrer">original PR</a> for more information.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-breaking-changes">üí• Breaking changes<a class="hash-link" href="#-breaking-changes" title="Direct link to heading">‚Äã</a></h2><ul><li><p><strong>range:</strong> The <code>range</code> property is no longer present on a <code>mutant</code>. Note, this is a breaking change for plugin creators only.</p></li><li><p><strong>options:</strong> <code>"perTest"</code> is now the default value for "coverageAnalysis" when the configured test runner is not "command". Explicitly set <code>"coverageAnalysis": "off"</code> manually to opt-out of this behavior.</p></li><li><p><strong>node:</strong> Node 10 is no longer supported. Please use Node 12 or higher.</p></li><li><p><strong>serialize:</strong> Having a non-JSON-serializable value in your configuration won't be sent to the child process anymore. If you really need them in your test runner configuration, you should isolate those values and put them in test runner-specific config files, loaded by the test runner plugin itself, for example, jest.config.js, karma.conf.js, webpack.config.js.</p></li><li><p><strong>ignore patterns:</strong> Stryker will no longer use a git command to determine which files belong to your project. Instead, it will rely on sane defaults. You can change this behavior by defining <a href="https://stryker-mutator.io/docs/stryker-js/configuration/#ignorepatterns-string" target="_blank" rel="noopener noreferrer"><code>ignorePatterns</code></a>.</p></li><li><p><strong>ignore patterns:</strong> The <code>files</code> configuration option is deprecated and will be removed in a future release. Please use <a href="https://stryker-mutator.io/docs/stryker-js/configuration/#ignorepatterns-string" target="_blank" rel="noopener noreferrer"><code>ignorePatterns</code></a> instead.</p><p>This:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"files"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"foo.js"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Is equivalent to:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"ignorePatterns"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"**"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"!foo.js"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><strong>reporter api:</strong> Changes to <code>Reporter</code> and <code>TestRunner</code> plugin API of Stryker</p></li><li><p><strong>jest-runner:</strong> Support for project type <code>create-react-app-ts</code> is dropped from the jest-runner.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="-thank-you">üéâ Thank you<a class="hash-link" href="#-thank-you" title="Direct link to heading">‚Äã</a></h2><p>Thanks to everyone for your continued support! Have questions or issues? Don't hesitate to contact us in <a href="https://join.slack.com/t/stryker-mutator/shared_invite/enQtOTUyMTYyNTg1NDQ0LTU4ODNmZDlmN2I3MmEyMTVhYjZlYmJkOThlNTY3NTM1M2QxYmM5YTM3ODQxYmJjY2YyYzllM2RkMmM1NjNjZjM" target="_blank" rel="noopener noreferrer">Slack</a>, on <a href="https://twitter.com/stryker_mutator/" target="_blank" rel="noopener noreferrer">Twitter</a> or open <a href="https://github.com/stryker-mutator/stryker-js/issues/new/choose" target="_blank" rel="noopener noreferrer">an issue</a>.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing Stryker 4.0 - Mutation Switching]]></title>
        <id>announcing-stryker-4-mutation-switching</id>
        <link href="https://stryker-mutator.io/blog/announcing-stryker-4-mutation-switching"/>
        <updated>2020-10-07T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We're proud to announce the next major release of the Stryker mutation testing framework for JavaScript and friends: Stryker 4.0.]]></summary>
        <content type="html"><![CDATA[<p>We're proud to announce the next major release of the Stryker mutation testing framework for JavaScript and friends: Stryker 4.0.</p><p>This release marks a fundamental shift in the way Stryker works internally. It now uses "mutation switching", which improves performance and usability, similar to how Stryker.NET and Stryker4s already work. This change, unfortunately, couldn't be done without breaking changes. See the breaking changes paragraph if you're interested.</p><p><strong>üéß Listen to the <a href="https://thedeepdive.simplecast.com/episodes/mutation-testing-with-stryker" target="_blank" rel="noopener noreferrer">"Mutation testing with Stryker" podcast episode on InDepth.dev</a></strong></p><p>If you're new to mutation testing, it's a way to measure your tests' effectiveness. Please look at <a href="https://stryker-mutator.io/example" target="_blank" rel="noopener noreferrer">our RoboBar ü§ñüç∑ example</a> and see how even 100% code coverage doesn't tell the whole story. Mutation testing is the only way to make sure you're not missing any tests.</p><p><strong><em>Note: updated on 9 October 2020: add remark about TypeScript 3.7 requirement in <a href="#breaking-changes">Breaking changes</a>.</em></strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-getting-started">üöÄ Getting started<a class="hash-link" href="#-getting-started" title="Direct link to heading">‚Äã</a></h2><p>If you're new to Stryker, please follow the <a href="/stryker/quickstart/">quickstart guide</a>.</p><p>If you're already using Stryker, you can install this latest version with your package manager of choice.</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/core</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Don't forget to do the same for your Stryker plugins. Please note that the following plugins have been removed and are no longer needed:</p><ul><li><del>@stryker-mutator/typescript</del></li><li><del>@stryker-mutator/jasmine-framework</del></li><li><del>@stryker-mutator/mocha-framework</del></li><li><del>@stryker-mutator/babel-transpiler</del></li><li><del>@stryker-mutator/webpack-transpiler</del></li><li><del>@stryker-mutator/javascript-mutator</del></li></ul><p>You can remove these from your package.json.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-mutation-switching">üëΩ Mutation switching<a class="hash-link" href="#-mutation-switching" title="Direct link to heading">‚Äã</a></h2><p>Mutation switching is a way to put all mutants into your code simultaneously.</p><p>Let's take a look at an example.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you feed this code to Stryker, it will generate two mutants:</p><p><code>üëΩ function add(a, b) { return a - b }</code><br>
<code>üëæ function add(a, b) {}</code></p><p>Previous versions of Stryker would make two copies of your source code. One for each mutant. Stryker 4.0 will now place <em>all mutants into the code simultaneously</em>, but with only <em>one mutant active at any one time</em>.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// üëæ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b </span><span class="token comment" style="color:#999988;font-style:italic">// üëΩ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(simplified example)</p><p>Stryker now runs your tests while changing (or <em>switching</em>) the active mutant between runs. Mutation switching can improve performance dramatically, depending on the type of project.</p><p>You're probably wondering: how much performance improvement? Like all great questions, the answer is: 'it depends'. For example, when you bundle your code with webpack before running the tests, then webpack only needs to run once, a significant performance gain. On the other hand, if you're running Stryker on an ES5 project with mocha, the improvement might not be that substantial. In our experience, you can expect somewhere between 20% to 70% speed increase.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-code-instrumentation">üê† Code instrumentation<a class="hash-link" href="#-code-instrumentation" title="Direct link to heading">‚Äã</a></h2><p>Mutation Switching yields a significant performance improvement, but it means that Stryker is required to perform some complex transformations to the <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree" target="_blank" rel="noopener noreferrer">Abstract Syntax Tree (AST)</a>.</p><p>Doing this <em>instrumentation</em> means visiting each node of the AST to collect and place mutants. This instrumentation is implemented with the <a href="https://babeljs.io/" target="_blank" rel="noopener noreferrer">Babel</a> parser and now ships with <code>@stryker-mutator/core</code>. We're taking advantage of Babel's support for all types of JavaScript, including TypeScript code.</p><p><em>Note that to implement mutation switching in both TypeScript and JavaScript before the release of Babel v7 would have meant implementing it twice. We think it is incredible that the Babel maintainers chose to add TypeScript support. We're standing on the shoulders of giants here üéâ. Without this, we probably wouldn't have done it.</em></p><p>This instrumentation means you <em>no longer need to configure the mutator</em> in your Stryker configuration. Stryker will always use the new mutation instrumenter. It supports TypeScript, JavaScript, Flow, and JSX. It even mutates script tags in <code>.html</code> or <code>.vue</code> files. It also picks up your babel configuration out-of-the-box, so no custom configuration is needed‚Äîcupcakes for everyone üßÅ.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-build-command-support">üë∑‚Äç‚Äç Build command support<a class="hash-link" href="#-build-command-support" title="Direct link to heading">‚Äã</a></h2><p><em>Note: not all projects need building. Simple projects might deploy JS code as is, or the test runner might take care of this step for you. For example, running your tests with ts-node or babel/register or running it with Jest or Karma with the webpack plugin.</em></p><p>Previous versions of Stryker allowed you to configure a transpiler. For example, configuring <code>"transpilers": ["babel"]</code> would allow all files to be transpiled with the <code>@stryker-mutator/babel-transpiler</code> plugin. This way of working had its disadvantages:</p><ul><li>‚õî Since every mutant needed to transpiled one by one, it was slow.</li><li>‚õî Every transpiler/bundler required a plugin. We only officially supported Webpack, Babel, and TypeScript. If you were using a different tool, you were out of luck.</li><li>‚õî It was hard to maintain the transpiler plugins since it hooked into the transpiler/bundler's API.</li></ul><p>Stryker 4.0 gets rid of the transpiler plugins. Instead, it allows you to configure a <code>buildCommand</code>. Stryker will run this command once in the sandbox directory after instrumenting your code and just before starting the dry run. For example, running Stryker with <code>--buildCommand "npm run build"</code> will run <code>npm run build</code> inside the sandbox directory.</p><p>This new way of working gets rid of all the disadvantages listed above. It will only run once, you can use whichever tool you want, and we don't have to maintain plugins‚Äîa win-win-win scenario. The old transpiler plugins are no longer needed, and you can remove them from your project.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-checker-plugin">‚úÖ Checker plugin<a class="hash-link" href="#-checker-plugin" title="Direct link to heading">‚Äã</a></h2><p>You might know that the old <code>@stryker-mutator/typescript</code> transpiler not only transpiled your code but also filtered out mutants that resulted in type errors, marking them with "compile error" in your report. Mutants with this status are considered invalid and do not influence your mutation score.</p><p>Stryker 4.0 removes the transpiler plugin in favor of <code>--buildCommand</code>.</p><p><em>Wondering how your TypeScript code compiles even while some mutants might create type errors? Stryker places <code>// @ts-nocheck</code> atop your code files. Your TypeScript compiler will ignore any type errors produced by instrumenting your code.</em></p><p>However, you might still want to invalidate mutants that result in a type error, so you won't spend any time looking at them. The new "Checker" plugin helps you here. Checker plugins can choose to invalidate mutants based on rules specific to the checker.</p><p>We maintain one such checker, the <code>@stryker-mutator/typescript-checker</code>. It will mark mutants that would result in a type error with "Compile error".</p><p>Install it with <code>npm install -D @stryker-mutator/typescript-checker</code>.</p><p>Configure it with:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"checkers"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"typescript"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"tsconfigFile"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"tsconfig.json"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Please see <a href="https://github.com/stryker-mutator/stryker-js/tree/master/packages/typescript-checker#readme" target="_blank" rel="noopener noreferrer">the TypeScript checker's readme</a> for more details.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-coverage-analysis">‚òî Coverage analysis<a class="hash-link" href="#-coverage-analysis" title="Direct link to heading">‚Äã</a></h2><p>Coverage analysis is a great way to speed up mutation testing. It is a means to reduce the number of tests Stryker needs to run to test a mutant. Stryker has three flavors:</p><ul><li><strong>"off"</strong>: No coverage analysis</li><li><strong>"all"</strong>: Mutant coverage for the entire test suite is measured. Mutants without coverage are marked with "no coverage". But all tests run for mutants that are covered.</li><li><strong>"perTest"</strong>: Mutant coverage is measured per test. Stryker runs only the tests that cover a specific mutant when it tests that mutant.</li></ul><p>Running with "perTest" coverage analysis allows for significant performance improvement, usually between 40% and 60%. However, most projects were unable to take advantage of it because Stryker relied on <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul code coverage</a> combined with test runner hooks. It only worked in scenarios without transpiling or bundling.</p><p>This changes with version 4. When Stryker instruments your code with mutants, it also injects the coverage instrumentation. No need for instanbul anymore, allowing Stryker to measure mutant coverage, <em>regardless of which bundler/transpiler you are using</em>. Hooking into the test runner is the only remaining requirement. All test runner plugins support these hooks, except for the <code>@stryker-mutator/jest-runner</code> (although we're <a href="https://github.com/stryker-mutator/stryker-js/issues/2316" target="_blank" rel="noopener noreferrer">planning to support it</a>).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-other-changes">üßπ Other changes<a class="hash-link" href="#-other-changes" title="Direct link to heading">‚Äã</a></h2><p>We also decided to take this opportunity to improve the maintainability of the Stryker code further. That's why we've decided to drop support for two more plugin types.</p><p><strong>The <code>TestFramework</code> plugins are removed.</strong></p><p>A test framework plugin used to be responsible for allowing Stryker to hook into the test framework to support "perTest" coverage analysis. In practice, this was often tightly coupled to the test runner itself. For example, the mocha test runner uses -you guessed it- the mocha test framework. It made configuring Stryker needlessly complicated. That's why we've decided to drop this plugin type and make the Test Runner plugin responsible for hooking into the test framework directly. As a result, the following dependencies are no longer needed: <code>@stryker-mutator/mocha-framework</code> and <code>@stryker-mutator/jasmine-framework</code>.</p><p><strong>The <code>OptionsEditor</code> plugins are removed.</strong></p><p>Options editors provided a way for plugins to edit the Stryker options directly. In practice, this was used to load plugin-specific options and attach them to the StrykerOptions object for later use. Plugins should now load their needed options in their life cycle, for example, in the <code>init</code> method of the plugin.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-breaking-changes">üí• Breaking changes<a class="hash-link" href="#-breaking-changes" title="Direct link to heading">‚Äã</a></h2><p>Here is a list of the most important breaking changes. For a full list, please see our <a href="https://github.com/stryker-mutator/stryker-js/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">changelog</a>.</p><ul><li>Configuring "transpilers" is no longer supported; please use <code>--buildCommand</code> instead.</li><li>Configuring <code>mutator</code> as a string, or configuring <code>mutator.name</code> is no longer supported, Stryker will always use its code instrumenter.</li><li>TypeScript 3.7 or higher is required if you're using TypeScript to transpile your code, either via a <code>--buildCommand</code> or via a test runner plugin, like <a href="https://www.npmjs.com/package/ts-jest" target="_blank" rel="noopener noreferrer">ts-jest</a>, <a href="https://www.npmjs.com/package/karma-webpack" target="_blank" rel="noopener noreferrer">karma-webpack</a> or using the <a href="https://www.npmjs.com/package/@angular/cli" target="_blank" rel="noopener noreferrer">angular-cli</a>. If you're dependent on TS &lt;3.7, please consider upgrading, or keep using Stryker V3. This is because the mutation instrumenter heavily leans on the support of <code>// @ts-nocheck</code> feature, added in TS3.7. If you're using another transpiler, like <a href="https://babeljs.io" target="_blank" rel="noopener noreferrer">babel</a> or <a href="https://github.com/TypeStrong/ts-node" target="_blank" rel="noopener noreferrer">ts-node with <code>transpileOnly</code></a>, then Stryker will work fine.</li><li>Because of the requirement for TS 3.7, Angular &gt;=9.0 is required for Angular projects.</li><li>The <code>"command"</code> test runner is now "best-effort". Stryker will use an environment variable to communicate which mutant should be active. Your test command should pass the environment variables to the test environment. We expect this to work for most test runners and test commands out there. One exception is Karma, but since we have the <code>@stryker-mutator/karma-runner</code> for this use case, it shouldn't be a problem.</li><li>Support for the Web Component Tester is dropped. Please see <a href="https://github.com/stryker-mutator/stryker-js/issues/2386" target="_blank" rel="noopener noreferrer">#2386</a> for reasoning.</li><li>Exporting a <code>function</code> from your "stryker.conf.js" file is deprecated. Please export your config as an object instead, or use a stryker.conf.json file. Please see <a href="https://github.com/stryker-mutator/stryker-js/issues/2429" target="_blank" rel="noopener noreferrer">#2429</a> for more details.</li><li>The <code>--maxConcurrentTestRunner</code> option is now deprecated, please use <code>--concurrency</code> instead. Stryker will use this setting to determine how to scale checkers or test runner processes. Note that Stryker will no longer prevent you from configuring more than the number of logical cores in your machine, i.e., <code>--concurrency 9999</code> might be a bad idea.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-next">üîÆ What's next?<a class="hash-link" href="#-whats-next" title="Direct link to heading">‚Äã</a></h2><p>Mutation switching was a considerable undertaking, but we had to do it since it allows for further performance and usability improvements. Let's discuss some here.</p><p>All these issues align with our project goals, which we've published in <a href="https://github.com/stryker-mutator/stryker-js/wiki/Roadmap" target="_blank" rel="noopener noreferrer">our roadmap</a>.</p><p><strong>Better Jest support</strong></p><p>With mutation switching in our backpack, implementing "perTest" coverage analysis for Jest is now on the table, allowing Stryker to run fewer tests in total. See <a href="https://github.com/stryker-mutator/stryker-js/issues/2316" target="_blank" rel="noopener noreferrer">#2316</a> for more info.</p><p><strong>Hot reload</strong></p><p>Currently, Stryker will reload all code files between test runs (clearing them from the <a href="https://nodejs.org/api/modules.html#modules_require_cache" target="_blank" rel="noopener noreferrer">require.cache</a> or doing a full page reload with Karma). However, thanks to mutation switching, the mutated code does not have to be reloaded. Instead, we can switch the active mutant and do another test run. Mocha will be the first test runner to receive this improvement. See <a href="https://github.com/stryker-mutator/stryker-js/issues/2413" target="_blank" rel="noopener noreferrer">#2413</a> for more info.</p><p><strong>In place mutation</strong></p><p>Stryker currently never mutates <em>your code</em> directly. Instead, it makes a copy of it in a "sandbox" directory, and it mutates your code there. The reason for this should be apparent; you don't want mutants to make there way into production.</p><p>However, in some corner cases, the simple act of copying your code to a sandbox directory makes running the tests impossible. See <a href="https://github.com/stryker-mutator/stryker-js/issues/2163" target="_blank" rel="noopener noreferrer">#2163</a> for some examples. To truly make Stryker work for all JavaScript projects, we will need to allow for "in place" mutation. Don't worry, this will be optional, and we will make sure to let you know what Stryker is doing üßê.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-thank-you">üéâ Thank you<a class="hash-link" href="#-thank-you" title="Direct link to heading">‚Äã</a></h2><p>Back in July, we released the first beta of Stryker 4. Since then, we got loads of responses resulting in the closing of <a href="https://github.com/stryker-mutator/stryker-js/issues?q=is%3Aissue+milestone%3A4.0+is%3Aclosed" target="_blank" rel="noopener noreferrer">more than 40 issues</a>, some of which were pretty major üòÖ. We want to thank everyone who helped to make this release possible! In particular (in no specific order)</p><p>üåπ <a href="https://github.com/gramster" target="_blank" rel="noopener noreferrer">gramster</a><br>
<!-- -->üíê<a href="https://github.com/kmdrGroch" target="_blank" rel="noopener noreferrer">kmdrGroch</a><br>
<!-- -->üåº<a href="https://github.com/Lakitna" target="_blank" rel="noopener noreferrer">Lakitna</a><br>
<!-- -->üåª<a href="https://github.com/brodybits" target="_blank" rel="noopener noreferrer">brodybits</a><br>
<!-- -->üå∫<a href="https://github.com/Garethp" target="_blank" rel="noopener noreferrer">Garethp</a></p><p>You guys are incredible!</p><p>If you read through this article: thank you! You're awesome! Now stop reading and give Stryker 4 a try. And let us know what you think üòÄ.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing Stryker 4.0 Beta]]></title>
        <id>announcing-stryker-4-beta-mutation-switching</id>
        <link href="https://stryker-mutator.io/blog/announcing-stryker-4-beta-mutation-switching"/>
        <updated>2020-07-13T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We're excited to announce the beta of the next major release of the Stryker mutation testing framework for JavaScript and friends: Stryker 4.0.]]></summary>
        <content type="html"><![CDATA[<p>We're excited to announce the beta of the next major release of the Stryker mutation testing framework for JavaScript and friends: Stryker 4.0.</p><p>This beta is a huge milestone because it means a fundamental shift in the way Stryker works internally. It now uses "Mutation switching", a technique that can improve performance.</p><p>This, unfortunately, couldn't be done without breaking changes. These changes are mostly limited to the internal plugin API's except for the changes highlighted in this blog article.</p><p>To get started using the beta, update your Stryker dependencies using npm or yarn.</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/core@next</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Don't forget to update Stryker plugins. For example, when using mocha:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/mocha-runner@next</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This beta is released early, in order to get community feedback. We've not yet updated the docs with the changes specified in this blog article. At this moment, the jest-runner and the command test runner <em>still need to be migrated and will not work as expected</em>.</p><p><em>Note: Since beta version <code>4.0.0-beta.2</code>, both the command test runner and the jest test runner are supported. However, the command test runner does have some <a href="https://github.com/stryker-mutator/stryker-js/pull/2345" target="_blank" rel="noopener noreferrer">limitations</a></em></p><p>If you're new to mutation testing, it's a way to measure your tests' effectiveness. Please take a look at <a href="/example/">our RoboBar ü§ñüç∑ example</a> and see how even 100% code coverage doesn't tell the whole story. Mutation testing is the only way to make sure your code is thoroughly tested.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-mutation-switching">üëΩ Mutation switching<a class="hash-link" href="#-mutation-switching" title="Direct link to heading">‚Äã</a></h2><p>Mutation switching is a way to simultaneously put all mutants into your code while making sure only one mutant is active at the same time. Let's take a look at an example.</p><p>Let's take this.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you feed this code to Stryker, it will generate two mutants:</p><p>üëΩ <code>function add(a, b) { return a - b }</code><br>
<!-- -->üëæ <code>function add(a, b) {}</code></p><p>Previous versions of Stryker would make two copies of the source code. One for each mutant. This changes with Stryker 4.0. Both mutants will be placed into the code <em>at the same time</em>.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(simplified example)</p><p>Stryker can now run your tests twice while changing which mutant is active in the process. Mutation switching can improve performance dramatically, depending on the type of project. For example, when you bundle your code with webpack before running the tests, then webpack only needs to run once. The same goes for TypeScript projects where you compile your code before testing.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-instrumentation-with-babel">üê† Instrumentation with Babel<a class="hash-link" href="#-instrumentation-with-babel" title="Direct link to heading">‚Äã</a></h2><p>Mutation Switching is a significant performance improvement, but it means that Stryker is required to perform some complex transformations of the <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree" target="_blank" rel="noopener noreferrer">Abstract Syntax Tree (AST)</a>.</p><p>Doing this <em>instrumentation</em> means visiting each node of the AST to collect and place mutants. This instrumentation is implemented with the <a href="https://babeljs.io/" target="_blank" rel="noopener noreferrer">Babel</a> parser and now ships with <code>@stryker-mutator/core</code>. We're taking advantage of Babel 7's support to parse and print any type of JavaScript, including TypeScript code.</p><p>This means that it is <em>no longer needed to configure the <code>mutator</code></em> in your Stryker configuration. Stryker will always use the new mutation instrumenter. It supports TypeScript, JavaScript, Flow, and JSX. It even supports mutating script tags in <code>.html</code> or <code>.vue</code> files. It also picks up your babel configuration out-of-the-box, so no custom configuration is needed.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-build-command-support">üë∑‚Äç‚Äç Build command support<a class="hash-link" href="#-build-command-support" title="Direct link to heading">‚Äã</a></h2><p>With mutation switching, all mutants are placed in the code at the same time. This also means that it only has to be built (transpiled or bundled) once.</p><p><em>Note: not all projects need building. Simple projects might deploy JS code as is, or the test runner might take care of this step for you. For example, running your tests with <code>ts-node</code> or <code>babel/register</code> or running it with <code>Jest</code> or <code>Karma</code> with the <a href="https://github.com/webpack-contrib/karma-webpack" target="_blank" rel="noopener noreferrer">webpack plugin</a>.</em></p><p>Before mutation switching, this would be the job of the <code>transpiler</code> plugin type. For example, <code>transpiler: ['babel']</code> would mean that all files would be transpiled with the <code>@stryker-mutator/babel-transpiler</code> plugin. It was a bit complex to create a transpiler plugin, and since every mutant needed to transpiled, it was slow. Every transpiler/bundler needed its a transpiler plugin.</p><p>Stryker 4.0 will no longer support the <code>transpiler</code> plugins. Instead, it allows you to configure a <code>buildCommand</code> yourself. A build command can be any command. Some examples include <code>npm run build</code>, <code>tsc -b</code> or <code>webpack --config webpack.config</code>. This means that the available plugins do not limit you.</p><p>The following dependencies are therefore no longer needed, and you can simply remove them:</p><ul><li><code>@stryker-mutator/babel-transpiler</code></li><li><code>@stryker-mutator/webpack-transpiler</code></li><li><code>@stryker-mutator/typescript</code></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="-checker-plugin">‚úÖ Checker plugin<a class="hash-link" href="#-checker-plugin" title="Direct link to heading">‚Äã</a></h2><p>You might know that the old <code>@stryker-mutator/typescript</code> transpiler not only transpiled your code but also filtered out mutants that resulted in type errors, marking them with <code>compile error</code> (or <code>transpile error</code>) in your report. Mutants with this status are marked as "invalid" and do not influence your mutation score.</p><p>Since Stryker 4.0 <a href="#build-command-support">removes the transpiler plugin type</a> we needed a new plugin that can perform this type checking. Introducing the <code>Checker</code> plugin type. In the Stryker 4 release, we will include one such checkers, the <code>@stryker-mutator/typescript-checker</code>.</p><p>Install it with <code>npm install @stryker-mutator/typescript-checker@next</code></p><p>Configure it with:</p><div class="language-ts codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-ts codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">"checkers"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"typescript"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">"tsconfigFile"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"tsconfig.json"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(tsconfig.json is the default setting for "tsconfigFile").</p><p>Please see <a href="https://github.com/stryker-mutator/stryker-js/tree/epic/mutation-switching/packages/typescript-checker#readme" target="_blank" rel="noopener noreferrer">the TypeScript checker's readme for more details</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-more-coverage-analysis">‚òî More coverage analysis<a class="hash-link" href="#-more-coverage-analysis" title="Direct link to heading">‚Äã</a></h2><p>Coverage analysis is a way to speed up mutation testing. Stryker always came with three flavors:</p><ul><li>"off": No coverage analysis</li><li>"all": Coverage is measured for the entire test suite. Mutants that are not covered by even one test are marked with "NoCoverage"</li><li>"perTest": Coverage is measured per test. Only tests that cover a specific mutant are run for that mutant.</li></ul><p>Running with "perTest" coverage yields a significant performance improvement (usually between 40% and 60%). However, most projects were unable to take advantage of it because Stryker relied on a complex mechanism of <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a> code coverage combined with hooks in the test runner. It only worked in scenarios without complicated transpiling or bundling.</p><p>With the introduction of mutation switching, the instrumenter is responsible for inserting coverage instrumentation into the code. This means that Stryker can measure mutant coverage, <em>regardless of which bundler/transpiler you are using</em>. The only requirement is that Stryker needs to be able to hook into the test runner. This is currently supported for <code>@stryker-mutator/mocha-runner</code>, <code>@stryker-mutator/karma-runner</code> and <code>@stryker-mutator/jasmine-runner</code>. Support for <a href="https://github.com/stryker-mutator/stryker-js/issues/2316" target="_blank" rel="noopener noreferrer"><code>@stryker-mutator/jest-runner</code> is planned</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-other-changes">üßπ Other changes<a class="hash-link" href="#-other-changes" title="Direct link to heading">‚Äã</a></h2><p>We also decided to take this opportunity to improve the maintainability of the Stryker code further. That's why we've decided to drop support for two more plugin types.</p><ul><li>The <code>TestFramework</code> plugin type is removed<br>A test framework plugin used to be responsible for allowing Stryker to hook into the test framework to implement test filtering and perTest coverage analysis. In practice, this was often tightly coupled to the test runner itself. That's why we've decided to drop this plugin type and make the Test Runner plugin responsible for hooking into the test framework directly. Therefore the following dependencies can simply be removed: <code>@stryker-mutator/mocha-framework</code> and <code>@stryker-mutator/jasmine-framework</code>.</li><li>The <code>OptionsEditor</code> plugin type is removed<br>Options editors provided a way for plugins to edit the Stryker options directly. In practice, this was used to load plugin-specific options and attach them to the StrykerOptions object for later use. Plugins are now expected to load their options in their life cycle.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-next">üîÆ What's next<a class="hash-link" href="#-whats-next" title="Direct link to heading">‚Äã</a></h2><p>We'll be focussing on getting Stryker 4.0 released. For that to happen, we would appreciate your feedback. Feel free to report any <a href="https://github.com/stryker-mutator/stryker-js/issues/new" target="_blank" rel="noopener noreferrer">issues</a> you have with this beta release.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Integrating Stryker.NET in your azure pipelines]]></title>
        <id>azure-pipelines-integration</id>
        <link href="https://stryker-mutator.io/blog/azure-pipelines-integration"/>
        <updated>2020-05-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Over the past few months we have been working hard to integrate Stryker.NET with azure pipelines. Learn how you can leverage our new features to include mutation testing in your continuous integration.]]></summary>
        <content type="html"><![CDATA[<p>Over the past few months we have been working hard to integrate Stryker.NET with azure pipelines. Learn how you can leverage our new features to include mutation testing in your continuous integration.</p><p>When using continuous integration it can be hard to keep track of quality. By integrating Stryker in your build pipelines you can ensure a continued focus on test quality, no matter how many changes your code gets to see.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-speed">üöÄ Speed<a class="hash-link" href="#-speed" title="Direct link to heading">‚Äã</a></h2><p>Stryker.NET is now faster than ever! This means you can run mutation testing for every pull request without waiting too long for your build to succeed.</p><p>Some performance improvements we have implemented:</p><ul><li>Mutation switching<ul><li>We compile all mutants at once using conditional statements around the mutations. When testing the mutants we only have to flip the switch to turn it on üîõ</li></ul></li><li>Integration with VSTest<ul><li>This is the fastest way to run your tests. And VSTest supports all well known test frameworks.</li></ul></li><li>Coverage analysis<ul><li>We do not test mutants that are not covered by any test. And we only run the tests that cover the mutant when testing that mutant.</li></ul></li><li>Testing mutants in parallel<ul><li>We run multiple test sessions at once to test the mutants even faster.</li></ul></li><li>Using the same test session for non overlapping mutants<ul><li>Mutants that are in a different file and have no overlapping covered tests are run in the same test session to remove the overhead of starting a new test session.</li></ul></li></ul><p>By implementing all these performance tweaks we can now proudly say we are fast enough to use in your pipeline! So if performance was holding you back, now is the moment to give Stryker.NET a try! üöÄ</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-git-integration">üîé Git integration<a class="hash-link" href="#-git-integration" title="Direct link to heading">‚Äã</a></h2><p>On large projects we can also use git to filter changed files in a pull request. That way only the changed code will be mutated. This helps to use mutation testing in pull request even on the largest projects.</p><p>How does this work? Simply run Stryker.NET with the following command in your PR build:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet stryker --diff</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will use the master branch as base by default. If you use a different branch as base for your pull requests you can change the base branch like this:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet stryker --diff --git-source "coalesce(variables['System.PullRequest.TargetBranch'], variables['Build.SourceBranchName'])"</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will get the pull request target branch, or the build source branch if no pull request target branch is available.</p><p>üí° Tip:
You can use this feature locally too, if you want to quickly mutate your new feature.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-reporting">‚ú® Reporting<a class="hash-link" href="#-reporting" title="Direct link to heading">‚Äã</a></h2><p>Another feature we are proud of is our integration with azure devops.</p><p>You can now display the html report in your azure devops environment using an <a href="https://marketplace.visualstudio.com/items?itemName=stryker-mutator.mutation-report-publisher" target="_blank" rel="noopener noreferrer">azure devops extension</a>.</p><p><img loading="lazy" src="/assets/images/azure-devops-extension1-df924006f9db056386c1272353dee980.png" width="1660" height="609" class="img_E7b_"></p><p><img loading="lazy" src="/assets/images/azure-devops-extension3-ae41ccf2157de44828c7dc9bb162c264.png" width="1662" height="894" class="img_E7b_"></p><p>The extension will add a new tab to your build result page. This new tab will contain the full html report that is also available locally and on the stryker dashboard.</p><p>How to use the extension:</p><ul><li>Install the <a href="https://marketplace.visualstudio.com/items?itemName=stryker-mutator.mutation-report-publisher" target="_blank" rel="noopener noreferrer">extension</a> on your azure devops environment</li><li>Run <code>dotnet stryker</code> in your pipeline.</li><li>Make sure the <code>html reporter</code> is enabled (default).</li><li>Add the <code>publish mutation report</code> task to your pipeline (after <code>dotnet stryker</code>)</li><li>Pass the path to the html report</li></ul><p>Example:
<img loading="lazy" src="/assets/images/azure-devops-extension2-4efaa064e4738aba5845296c6a82c790.png" width="1107" height="413" class="img_E7b_"></p><p>üí° Note: The extension does work for other mutation test frameworks as well. As long as the framework outputs a html report and you provide the location to the task, it will be displayed in your build result tab.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-forcing-test-quality">‚õî Forcing test quality<a class="hash-link" href="#-forcing-test-quality" title="Direct link to heading">‚Äã</a></h2><p>It's great that it is now possible to monitor the test quality automatically. But if you want to take a step even further towards maintaining your test quality you can set a breaking threshold.</p><p>This will break your pipeline if a minimum mutation score wasn't reached.</p><p>How to use custom thresholds:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet stryker --threshold-high 90 --threshold-low 75 --threshold-break 60</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>or in <code>stryker-config.json</code></p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    "stryker-config":</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        "threshold-high": 90,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        "threshold-low": 75,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        "threshold-break": 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will make Stryker return a non-zero exit code when the mutation score is below 60.</p><p><img loading="lazy" src="/assets/images/threshold-break-d641499daa8b61067d4f1c6a589c6ce1.png" width="722" height="166" class="img_E7b_"></p><p>üí° Tip:
If you think your mutation score is too low, try to increase the threshold every few months to gradually improve your tests.</p><p>üí° Tip:
If you can't seem to kill a mutant, maybe the mutated code is not needed and can be safely removed.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-conclusion">üéÜ Conclusion<a class="hash-link" href="#-conclusion" title="Direct link to heading">‚Äã</a></h2><p>With all these features nothing stands in your way to go and add Stryker.NET to your build pipeline.</p><p>If we put all these features together your pipeline could look like this:</p><div class="language-yaml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-yaml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> UseDotNet@2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Use .Net Core runtime 3.1.x'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">packageType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 3.1.x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DotNetCoreCLI@2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Install dotnet tools for Stryker.CLI'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> custom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">custom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'tool restore'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">workingDirectory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'src\Stryker.CLI\Stryker.CLI.UnitTest'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DotNetCoreCLI@2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Run stryker on Stryker.CLI'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> custom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">custom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 'stryker </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">reporters "</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">''dashboard''</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ''html''</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">" </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">threshold</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">high 90 </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">threshold</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">low 75 </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">threshold</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">break 60 </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">diff'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">workingDirectory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'src\Stryker.CLI\Stryker.CLI.UnitTest'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> stryker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mutator.mutation</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">report</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">publisher.publish</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mutation</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">report.publish</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mutation</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">report@0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Publish Mutation Test Report'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">reportPattern</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'src\Stryker.CLI\Stryker.CLI.UnitTest\**\mutation-report.html'</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you run into trouble during installation or running, please let us know so we can improve.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-next">üîÆ What's next?<a class="hash-link" href="#-whats-next" title="Direct link to heading">‚Äã</a></h2><p>The upcoming months you can expect even more awesome features and improvements in Stryker.NET.</p><ul><li>The <code>git diff</code> feature will be greatly improved and result in a full report.</li><li>Regex mutator (never seen before in mutation testing)</li><li>Mutating a whole solution at once</li></ul><p>Want to help make Stryker even better? Check out our <a href="https://github.com/stryker-mutator/stryker-net/issues" target="_blank" rel="noopener noreferrer">open issues</a>. Or help with implementing <a href="https://github.com/stryker-mutator/stryker-js/issues/1514" target="_blank" rel="noopener noreferrer">mutation switching for Stryker (js)</a></p>]]></content>
        <author>
            <name>Richard Werkman</name>
            <uri>https://github.com/richardwerkman</uri>
        </author>
        <category label="stryker.net" term="stryker.net"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing Stryker 100% mode]]></title>
        <id>announcing-100-mode</id>
        <link href="https://stryker-mutator.io/blog/announcing-100-mode"/>
        <updated>2020-04-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Over the years, we've been privileged to explain the concept of Mutation Testing to great developers, testers and others.]]></summary>
        <content type="html"><![CDATA[<p>Over the years, we've been privileged to explain the concept of Mutation Testing to great developers, testers and others.
The concept of <em>inserting bugs into your production code</em> in order to <em>test your tests</em> sparks the imagination.</p><p>But when people start using mutation testing in practice, they
quickly realize that things are not as easy as they seem.
One of the most common questions is: "what 'mutation score' is good enough"?
Our general advice is not to strive for 100%. But should you use 80%? Or some other percentage?
Some users just want to see that everything is great with their tests.</p><p>That's why we're introducing a new '100%' mode!
With this mode, Stryker itself will strive to improve your mutation score to be 100%.
You can activate it with the <code>--100</code> command line flag,
but we're thinking of making this the default mode.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-an-example">üôâ An example<a class="hash-link" href="#-an-example" title="Direct link to heading">‚Äã</a></h2><p>A picture says more than a thousand words. First without the new <code>--100</code> mode:</p><p><img loading="lazy" src="/assets/images/stryker-without-100-mode-5e2d9b4c7b4607e4774821b1bc860d0a.png" width="580" height="320" class="img_E7b_"></p><p>And now with the new <code>--100</code> mode:</p><p><img loading="lazy" src="/assets/images/stryker-with-100-mode-3d6cc1d97703fcb4b69c79c0a2841c0c.png" width="580" height="320" class="img_E7b_"></p><p>As you can see, this new mode makes for a far better-looking report!</p><p>And things just keep getting better. Since all mutants will be <em>killed - no matter what</em>, you'll not have to wait long,
because Stryker can internally optimize the process to <em>not do actual testing whatsoever</em>. A huge performance gain!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-next">üîÆ What's next?<a class="hash-link" href="#-whats-next" title="Direct link to heading">‚Äã</a></h2><p>Seeing as this is such an obvious improvement, it will not take long for other mutation testing frameworks
to follow suit. That's why it's only a matter of time before
the legendary <a href="https://github.com/mull-project/mull#mull" target="_blank" rel="noopener noreferrer">Mull</a>,
<a href="https://infection.github.io/guide/" target="_blank" rel="noopener noreferrer">InfectionPHP</a> and <a href="https://pitest.org/" target="_blank" rel="noopener noreferrer">Pitest</a> will have this new and very important feature.</p><p>Don't hesitate to open an issue if this important mode is missing.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="april fools" term="april fools"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing Stryker 3.0]]></title>
        <id>stryker-version-3</id>
        <link href="https://stryker-mutator.io/blog/stryker-version-3"/>
        <updated>2020-03-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[With version 3 of Stryker, we've been focussing on usability. We also did some smaller changes worth pointing out.]]></summary>
        <content type="html"><![CDATA[<p>With version 3 of Stryker, we've been focussing on usability. We also did some smaller changes worth pointing out.
For a full list of changes, please read <a href="https://github.com/stryker-mutator/stryker-js/blob/master/CHANGELOG.md#300-2020-03-11" target="_blank" rel="noopener noreferrer">our changelog</a>.</p><p>If you're new to mutation testing, it's a way to measure how effective your tests are at finding bugs.
Please take a look at <a href="/example/">our RoboBar ü§ñüç∑ example</a> and see how even 100% code coverage doesn't tell the whole story.
Mutation testing is the only way to make sure your code is tested.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-migration">üöÄ Migration<a class="hash-link" href="#-migration" title="Direct link to heading">‚Äã</a></h2><p>Migrating to the latest major version is easy! Just update all <code>@stryker-mutator</code> dependencies to at least 3.0.0.
Please note that Node 8 is <em>no longer supported</em>. For other breaking changes, please read the <a href="#breaking-changes">üî• Breaking changes</a></p><p>If you're new to Stryker, please see <a href="/stryker/quickstart/">our quickstart</a>. Have fun with mutation testing!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-new-config-format">üìÉ New config format<a class="hash-link" href="#-new-config-format" title="Direct link to heading">‚Äã</a></h2><p>We've always supported a stryker.conf.js file for your Stryker options.
In that file, you had to export a function that would be executed by Stryker
in which you could set your config options.</p><p>Although this is still allowed, it is unnecessarily complex. That's why Stryker now supports direct
object exports.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Stryker config here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Stryker also doesn't force the <code>.js</code> extension anymore. This allows you to write your
config in a <code>stryker.conf.json</code> file (or, if you're feeling adventures, you could also
use something like <a href="https://github.com/TypeStrong/ts-node" target="_blank" rel="noopener noreferrer">ts-node</a> or <a href="https://coffeescript.org/#nodejs-usage" target="_blank" rel="noopener noreferrer">CoffeeScript/register</a> to use other file formats).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-intellisense-in-configuration">üëì IntelliSense in configuration<a class="hash-link" href="#-intellisense-in-configuration" title="Direct link to heading">‚Äã</a></h2><p>With the rising popularity of <a href="https://json-schema.org/" target="_blank" rel="noopener noreferrer">JSON schema</a>
(and the code editors supporting it) it's more common to use JSON files for configuration. That's why we now also support
the <code>stryker.conf.json</code> format. By pointing the <code>$schema</code> key to <a href="https://raw.githubusercontent.com/stryker-mutator/stryker/master/packages/api/schema/stryker-core.json" target="_blank" rel="noopener noreferrer">our <code>stryker-core.json</code> schema file</a>, you'll be able to get IntelliSense
in your code editor of choice.</p><p><img loading="lazy" alt="IntelliSense" src="/assets/images/intellisense-7aeebc2cffd9eafa04fe131a733b3908.png" width="500" height="250" class="img_E7b_"></p><p>This now also the default generated by <code>npx stryker init</code>.</p><p>If you still want to use the JS file format, it is also possible to get IntelliSense,
as long as your editor supports TypeScript notation in JSDoc.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @type {import('@stryker-mutator/api/core').StrykerOptions}</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// IntelliSense here!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="-html-reporter-by-default">üé® HTML reporter by default<a class="hash-link" href="#-html-reporter-by-default" title="Direct link to heading">‚Äã</a></h2><p>We've noticed that most developers like the HTML reporter a lot.
However, it was always a separate package. This was originally done
because it depended on a somewhat expensive template library (namely <a href="https://handlebarsjs.com/" target="_blank" rel="noopener noreferrer">handlebars</a>).
Since the release of the <a href="/blog/2019-04-03/one-mutation-testing-html-report/">mutation testing HTML report</a>,
this is no longer the case.</p><p>That's why Stryker now comes with the HTML reporter included. It is also enabled by default. You can still disable it
by overriding the <code>"reporters"</code> property manually.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-breaking-changes">üî• Breaking changes<a class="hash-link" href="#-breaking-changes" title="Direct link to heading">‚Äã</a></h2><p>This major release comes with some breaking changes:</p><ol><li><strong>Platform</strong><ul><li><a href="https://github.com/stryker-mutator/stryker-js/pull/2028" target="_blank" rel="noopener noreferrer">#2028</a> NodeJS version 10 or higher is now required to run Stryker.</li></ul></li><li><strong>Core</strong><ul><li><a href="https://github.com/stryker-mutator/stryker-js/issues/1996" target="_blank" rel="noopener noreferrer">#1996</a> Always exit with exit code 1 if an error of any kind occurs (previously there were scenarios where it didn't fail).</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/2039" target="_blank" rel="noopener noreferrer">#2039</a> The Dashboard reporter (if enabled) will now default to uploading the full report.</li></ul></li><li><strong>HTML Reporter</strong><ul><li><a href="https://github.com/stryker-mutator/stryker-js/pull/2036" target="_blank" rel="noopener noreferrer">#2036</a> The HTML reporter is now included in the Stryker core. You should remove the dependency on <code>"@stryker-mutator/html-reporter"</code>.
Please override the <code>"reporters"</code> option to disable the reporter.</li></ul></li><li><strong>Karma runner</strong><ul><li><a href="https://github.com/stryker-mutator/stryker-js/pull/2048" target="_blank" rel="noopener noreferrer">#2048</a> Always run with <code>client.clearContext</code> to prevent a race condition.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/2035" target="_blank" rel="noopener noreferrer">#2035</a> Use <code>ChromeHeadless</code> by default instead of <code>PhantomJS</code>.</li></ul></li></ol>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Host your mutation testing report]]></title>
        <id>stryker-dashboard-host-your-mutation-testing-report</id>
        <link href="https://stryker-mutator.io/blog/stryker-dashboard-host-your-mutation-testing-report"/>
        <updated>2019-12-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[üìä The Stryker Dashboard can now host your mutation testing report in the cloud.]]></summary>
        <content type="html"><![CDATA[<p>üìä The Stryker Dashboard can now host your mutation testing report in the cloud.</p><p>If you're new to mutation testing, it's a way to measure how effective your tests are at finding bugs.
Please take a look at <a href="/example/">our RoboBar ü§ñüç∑ example</a> and see how even 100% code coverage doesn't tell the whole story.
Mutation testing is the only way to make sure your code is tested.</p><p>Mutation testing is done by a mutation testing framework. After a mutation test run, you'll get a report that gives you all the details.
Since mutation testing is still growing in popularity, there wasn't a convenient way yet to view the report in the cloud.
The Stryker Dashboard solves that problem.</p><p>The dashboard now has several new features:</p><p>üíÑ Store and show gorgeous reports.<br>
<!-- -->ü•á Brag about your mutation score with the mutation score badge.<br>
<!-- -->üîÄ Support for Git workflows with mutation reports per branch and tag.<br>
<!-- -->üêâ Support for Monorepos. Multiple reports are aggregated to show a report of all your modules.<br>
<!-- -->üí∏ Free for open source projects.<br>
<!-- -->ü§ù Supports all Stryker mutation testing frameworks. Other frameworks will add support over time or you can send your report through a cURL request. See <a href="https://github.com/stryker-mutator/stryker-handbook/blob/master/dashboard.md" target="_blank" rel="noopener noreferrer">the Stryker handbook</a> for more details.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="some-examples">Some examples<a class="hash-link" href="#some-examples" title="Direct link to heading">‚Äã</a></h2><p>Click on the links below to see some examples of mutation testing reports hosted in the Stryker Dashboard.</p><ul><li><a href="https://dashboard.stryker-mutator.io/reports/github.com/stryker-mutator/stryker-js/master" target="_blank" rel="noopener noreferrer">Stryker <img loading="lazy" src="https://img.shields.io/endpoint?style=flat&amp;url=https%3A%2F%2Fbadge-api.stryker-mutator.io%2Fgithub.com%2Fstryker-mutator%2Fstryker%2Fmaster" alt="badge" class="img_E7b_"></a></li><li><a href="https://dashboard.stryker-mutator.io/reports/github.com/stryker-mutator/stryker4s/master" target="_blank" rel="noopener noreferrer">Stryker4s <img loading="lazy" src="https://img.shields.io/endpoint?style=flat&amp;url=https%3A%2F%2Fbadge-api.stryker-mutator.io%2Fgithub.com%2Fstryker-mutator%2Fstryker4s%2Fmaster" alt="badge" class="img_E7b_"></a></li><li><a href="https://dashboard.stryker-mutator.io/reports/github.com/stryker-mutator/stryker-net/master" target="_blank" rel="noopener noreferrer">Stryker.NET <img loading="lazy" src="https://img.shields.io/endpoint?style=flat&amp;url=https%3A%2F%2Fbadge-api.stryker-mutator.io%2Fgithub.com%2Fstryker-mutator%2Fstryker-net%2Fmaster" alt="badge" class="img_E7b_"></a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="why-do-we-need-it">Why do we need it?<a class="hash-link" href="#why-do-we-need-it" title="Direct link to heading">‚Äã</a></h2><p>Mutation testing can be time-consuming.
Using your PC to do it is fine for small projects, but for bigger projects, you really want to run it in your CI/CD pipeline.</p><p>This is also something we've experienced developing Stryker, the mutation testing framework for JavaScript and TypeScript.
At first, we would run Stryker on Stryker every week.
But as our codebase grew, this became impractical.</p><p>Luckily, running mutation testing in your CI/CD pipeline is a trivial task.
Most mutation testing frameworks can be run from the command line.
This is also true for the Stryker family of frameworks.</p><p>The problem becomes: what is a convenient way to read the mutation testing report üëÄ?
Manually downloading files and opening them in your browser isn't a way anyone should be forced to spend an afternoon.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="where-can-i-get-my-own">Where can I get my own?<a class="hash-link" href="#where-can-i-get-my-own" title="Direct link to heading">‚Äã</a></h2><p>Getting up and running with the dashboard is simple.</p><p>üéØ Navigate to <a href="https://dashboard.stryker-mutator.io" target="_blank" rel="noopener noreferrer">dashboard.stryker-mutator.io</a> and log in with your GitHub account.<br>
<!-- -->‚úÖ Enable the Stryker Dashboard for your repository.<br>
<!-- -->üîë Configure your API key. See <a href="https://github.com/stryker-mutator/stryker-handbook/blob/master/dashboard.md" target="_blank" rel="noopener noreferrer">the dashboard article on the Stryker handbook for the details</a><br>
<!-- -->üèÉ‚Äç‚ôÄÔ∏è Run Stryker.NET, Stryker4s or Stryker (with the dashboard reporter enabled) and upload your first report.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="eating-our-own-dog-food-">Eating our own dog food üç¥üê∂ü•´<a class="hash-link" href="#eating-our-own-dog-food-" title="Direct link to heading">‚Äã</a></h2><p>We are eating our own dog food since we're using the new dashboard features to make our own mutation testing reports visible.
We're naturally welcoming pull requests to help improve our tests.
Improving tests is a good way to get to know a new codebase.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-next">What's next?<a class="hash-link" href="#whats-next" title="Direct link to heading">‚Äã</a></h2><p>We can't wait for people to start using the dashboard and give feedback.
Please enable it on your open-source project and tell us what you think!
Together, we'll be able to spread the word about mutation testing
and test quality by making it more visible</p><p>We'd like to get more mutation testing frameworks on board. To this date, <a href="https://twitter.com/maks_rafalko/status/1207256423404638208" target="_blank" rel="noopener noreferrer">InfectionPHP</a> for PHP,
<a href="https://twitter.com/1101_debian/status/1206613696564346881" target="_blank" rel="noopener noreferrer">Mull</a> for C++ and <a href="https://twitter.com/_pitest/status/1207251028653068288" target="_blank" rel="noopener noreferrer">Pitest</a> for Java
have shown interest.</p><p>We're looking to improve the dashboard further. You can expect more features and open-source git providers to be added.
We're always looking for feedback, please don't hesitate to create <a href="https://github.com/stryker-mutator/stryker-dashboard/issues/new" target="_blank" rel="noopener noreferrer">an issue</a>.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="dashboard" term="dashboard"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing Stryker 2.0]]></title>
        <id>announcing-stryker-2-0</id>
        <link href="https://stryker-mutator.io/blog/announcing-stryker-2-0"/>
        <updated>2019-05-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A new major version of Stryker for JavaScript and TypeScript has been released: version 2.0.0.]]></summary>
        <content type="html"><![CDATA[<p>A new major version of Stryker for JavaScript and TypeScript has been released: version 2.0.0.
This blog post will cover some of the changes. For a full list of changes, please read <a href="https://github.com/stryker-mutator/stryker-js/blob/master/CHANGELOG.md#200-2019-05-17" target="_blank" rel="noopener noreferrer">our changelog</a>.</p><p>If you run into any issues using the latest version of Stryker, please let us know!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-migration">üöÄ Migration<a class="hash-link" href="#-migration" title="Direct link to heading">‚Äã</a></h2><p>Migrating to the latest major version is easy! Just update all <code>@stryker-mutator</code> dependencies to at least version 2.0.0. If you are still using version 0.x.x, then please look at <a href="https://stryker-mutator.io/blog/2019-02-13/announcing-stryker-1-0" target="_blank" rel="noopener noreferrer">our blog post regarding stryker v1</a>.</p><p>If you're new to Stryker, please see <a href="/stryker/quickstart/">our quickstart</a>. Have fun with mutation testing!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-breaking-changes">üî• Breaking changes<a class="hash-link" href="#-breaking-changes" title="Direct link to heading">‚Äã</a></h2><p>This major release comes with some breaking changes:</p><ol><li>NodeJS version 8 or higher is now required to run Stryker</li><li>The code of Stryker is now es2017 code instead of es5</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-new">‚ú® What's new<a class="hash-link" href="#-whats-new" title="Direct link to heading">‚Äã</a></h2><p>Not a big list of new features this time around. Mainly housekeeping and other optimizations. Here you'll find a list of small improvements.</p><ul><li>Prettier has been removed as a direct dependency. We use prettier when initially writing your stryker.conf.js to disk (with <code>stryker init</code>).
We now run prettier using the npx command instead of packaging it with Stryker, keeping Stryker lean and mean.</li><li>We've updated our source-map dependency to enable lazy loading. This ensures that coverage data is only mapped when (and if) it's required.</li><li>VueJS files are only mutated when they contain <code>&lt;script&gt;</code> blocks.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="-deprecations">üë¥ Deprecations<a class="hash-link" href="#-deprecations" title="Direct link to heading">‚Äã</a></h2><p>Since Stryker v1, we've introduced a deprecation policy. This means that we'll support features for one major release after we've deprecated them.
This is a (small) list of stuff we've deprecated. You'll also get a warning if you still use them in your setup.</p><ul><li>The use of mocha version 5 and below is deprecated. This is mainly because of big changes the way you configure mocha.
Please upgrade to mocha 6 or above. See <a href="https://github.com/mochajs/mocha/blob/master/CHANGELOG.md#600--2019-02-18" target="_blank" rel="noopener noreferrer">their changelog</a> for more information about upgrading.
Support for mocha version 5 and below will be removed in the future (with Stryker v3 probably).</li><li>The <code>onScoreCalculated</code> internal reporter event is deprecated. Please use <code>onMutationTestReportReady</code> and calculate the score using <a href="https://github.com/stryker-mutator/mutation-testing-elements/tree/master/packages/mutation-testing-metrics#readme" target="_blank" rel="noopener noreferrer">mutation-testing-metrics</a>.
All reporters maintained by the Stryker team are already migrated.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="-release-schedule">üìÖ Release schedule<a class="hash-link" href="#-release-schedule" title="Direct link to heading">‚Äã</a></h2><p>We'll keep improving Stryker by fixing nasty bugs, improving code (and test) quality and by adding new features.
The next major release of Stryker will probably be at the start of 2020 due to the LTS support of NodeJS version 8 ending.</p>]]></content>
        <author>
            <name>Simon de Lang</name>
            <uri>https://github.com/simondel</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing Stryker.NET 0.10 with .NET Framework support]]></title>
        <id>announcing-dotnet-framework-support</id>
        <link href="https://stryker-mutator.io/blog/announcing-dotnet-framework-support"/>
        <updated>2019-04-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Stryker.NET 0.10 is here! This brings new features to mutation testing for .NET. Read all about these features in this blog.]]></summary>
        <content type="html"><![CDATA[<p>Stryker.NET 0.10 is here! This brings new features to mutation testing for .NET. Read all about these features in this blog.</p><p>Stryker.NET has been under very active development. Up to now, we focussed on performance and .NET core.
That all changes with v0.10, as we now also support <strong>.NET Framework</strong>. Both frameworks are supported now,
with 100% feature parity. We also introduce some cool new features.</p><p>In this article we want to briefly recap what mutation testing is.
After that we'll explain how you install and use Stryker.NET.
We also want to highlight some cool new features, before we end with a quick look at what's next.
Jump right into it:</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-mutation-testing">üëæ Mutation testing<a class="hash-link" href="#-mutation-testing" title="Direct link to heading">‚Äã</a></h2><p>For those of you who might not be familiar with Stryker.NET and Mutation Testing, here is a brief reminder.
Please see <a href="/example/">our RoboBar example</a> for the full introduction.</p><p>Stryker.NET places <em>mutants</em> (bugs) inside your source code. After that, it runs your tests for each mutant.
If at least one tests fails, that's great! Your tests just killed that mutant. If not, too bad, the mutant survived.
Apparently, you're missing a test.</p><p>Calculating the percentage of mutants that were killed results in the mutation score. The higher the number, the better.
It is the only way to measure <em>your tests effectiveness</em>. It's really as simple as that.</p><p>To cover as much logic as possible Stryker.NET provides a wide range of mutations.
An overview of these mutations can be found <a href="/docs/stryker-net/mutations/">here</a>.
You can run Stryker.NET with .NET Core on Windows, Mac and Linux as well as .NET Framework on Windows.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-start-using-strykernet">üí™ Start using Stryker.NET<a class="hash-link" href="#-start-using-strykernet" title="Direct link to heading">‚Äã</a></h2><p>Stryker.NET is now installed as a (global) <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/global-tools" target="_blank" rel="noopener noreferrer">dotnet tool</a>
instead of a <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/extensibility" target="_blank" rel="noopener noreferrer">Per-project tool</a>.
This has the advantage of not competing with your local project dependencies, but this also means that
Stryker.NET has to be installed globally on your system. From .NET core 3.0, you will be able to install dotnet tools locally inside your project.</p><ol><li><p>Installation</p><p>Install <strong>globally</strong> (.NET Core runtime 2.2+):</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet tool install -g dotnet-stryker</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or install <strong>locally</strong> (.NET Core runtime 3.0+):</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> my-test-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet new tool-manifest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet tool </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> dotnet-stryker</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will create a file called dotnet-tools.json in your project folder. You should check this file into source control to make sure all team members have access to Stryker and other tools specified here.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet tool install dotnet-stryker</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Install NuGet</p><p>For .NET Core projects this step can be skipped.<br>
<!-- -->For .NET Framework projects, make sure <code>nuget.exe</code> is installed on your system.
Please follow their <a href="https://docs.microsoft.com/en-us/nuget/install-nuget-client-tools#windows" target="_blank" rel="noopener noreferrer">installation instructions</a>.</p></li><li><p>Remove old references</p><p>Remove the old <code>DotNetCliToolReference</code> from your test project since they won't be updated anymore.</p></li><li><p>Have fun using stryker!</p><p>You can now kick off stryker using</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet stryker --solution-path "../MySolution.sln"</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If stryker is installed as a dotnet core 3.0 local tool, use the following instead:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet tool run dotnet-stryker --solution-path "../MySolution.sln"</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="-vstest-integration">‚è© VSTest integration<a class="hash-link" href="#-vstest-integration" title="Direct link to heading">‚Äã</a></h2><p>Stryker.NET now hooks right into VSTest to execute your unit tests instead of running your tests from the command line.
This means a big performance boost, because it keeps the VSTest connection alive between test runs.
Because Stryker.NET supports VSTest, this performance boost wil work for most test frameworks, including <a href="https://xunit.github.io/" target="_blank" rel="noopener noreferrer">XUnit</a>,
<a href="https://nunit.org/" target="_blank" rel="noopener noreferrer">NUnit</a> and <a href="https://docs.microsoft.com/en-us/dotnet/core/testing/unit-testing-with-mstest" target="_blank" rel="noopener noreferrer">MSTest</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-new-html-report">üìä New HTML report<a class="hash-link" href="#-new-html-report" title="Direct link to heading">‚Äã</a></h2><p>This might catch your eye. As of v0.10, Stryker.NET comes with an HTML reporter.
It shows a report in your browser with insights in your test quality, directly after your run Stryker.<br>
<!-- -->It even goes into detail and shows you exactly what mutants were made and if your tests killed them!</p><p><img loading="lazy" src="/assets/images/html-report-net-5d95a90c798dfc78504a2c4bc307348f.png" width="1153" height="395" class="img_E7b_"></p><p>It uses the generic <a href="https://github.com/stryker-mutator/mutation-testing-elements" target="_blank" rel="noopener noreferrer">mutation-testing-elements</a>,
which is an open standard for reporting mutation test results. See our <a href="/blog/one-mutation-testing-html-report/">previous blog</a> for more information about the mutation-testing-elements</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-progress-bar">üèÉ‚Äç Progress bar<a class="hash-link" href="#-progress-bar" title="Direct link to heading">‚Äã</a></h2><p>You can now track the progress of the mutation testing process, as well as preview the mutant stats.
It also includes an indication of the remaining time to finish.
<img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmYAAABkCAYAAAAse/yoAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABG+SURBVHhe7d27rtvGGoZh7S5VKjep3PgW0uQW0qRKm86tgQD2JbgLYLv1BQRwY6RxZ8D1Agy3ARaQzmU29h1oz4FD/vNzjhQljZZfAQ9sccjhzPCgT5QWdfjPk1+PAAAAuD6CGQAAwCAIZgAAAIMgmAEAAAyCYAYAADAIghkAAMAgCGYAAACDIJgBAAAMgmAGAAAwCIIZgJt0+PnP4+d//3d89yxdDrRiX/o2jbrdXTALjfuv9eXP4496pie/H19+seWfjr+psr0dnvxxfLfzevau8xxt3GqktlzDHv3fawx/+2s6hoK//kjO1+oa2/Yc6zxXP1In1eVcZcXrLJWN5GzjNei23atduXpa6h89mPXsuz3juWXsfVv+Pr78OV0+iq3bfYTzxME3Ylm5fXH5/Pr3aKYfX/9tXmQ+dW/ALbbsKDV713mONm41UluuYY/+7zWG9tjZ88R+jW17jnWO1o9rtKfHudo36rbdq125es41ntfQ0pee/m4Zm4cUzEquud+sPsr0IWx5p+8TpW1cx8Z+9un42QQ5dxXuy5/Hl9OVBPuipTsrn6+uOFiiLbo8vAiGOl7atk9lIVzW6oyuFho6lKak1idfkLPtnMcy1OOTedyP9XIlpb4v5ek6c2W1Omui/kfbzxzMz8R4i6uzpXbmxrO6bUt9V9t9j3dGtj1yHbpsWdd6vtSYpbZDrn7plo6/HHse0vtcmNbyjlb3s7UspdQ/V672pTAupT7IaVp1fa58vb6S2nYo1Zk7R+5Z56nHX6ktqfFc9t3yvpTre4uoTXJcMvtLaGdog36em+ambxjP2vbT5fGYLcHMZYZ/l+el7V6SW19J+Tyxfbv7eTJjvbF/PVbBzA6Obrx9nmtkin1h8J31HbCDpAcr1FN7nuN3RD/fPFDhQLRlqxf9dZ16B2tVW180b9TOeH1yOV+2YRx0W9xzv45SneUyVWehf5o7uMTBvSoT9YR9rafvcjxL89b7p08k6fX10CeW3Elc9yE3Zr5dS1nrdriV46/E9cHUJ5e1fZAnwVK9W8tS/Pzp/vkydUyH46+hDymr9Yl1bD1PWLl56+eJpX/atjrt//c//vJtsdPLx1Fq2VrfS8rHtOi73F9UG9Jtyk3bNp6t8/p2+vnkuNj9OX6Dnd/usr4aub5UeVA6xvy0/u1eKturfzVRMNOD7J5HJ4e2BuQG69QXBv+CYwZ65uc7pU7XR1NX7kU0pbq+TDttWRgH/X+/I8plrPpJYd0Wu+NMgadQZ7GsY/wkP1++zSGI6em1vpfGM9e2Yv+m/XOet7F/Nbn+WeV9Nz1mul2t7Qz9k/OPevzluO1n+2D+fWdeBOy4uiuuYpyKbd1YllLqj96XrLAftPQhZb2+tmNa16Pl+l2rs3SO3FLnuY6/bFtW47meL7fs9teH9DYp7i8b23nKeJbmzR/vfn9003TQOWX/zKwvNW/g1pc5xraOZ6nslP71mIOZ2wFXyVc3wLOdD8ulhB1FduzUFwY/fRkAOd/WOqVwAOqDJqVUv/9/up3zczfOKnnbDa528hbr+m29045ZqLNYlmqzeJ5Tm68YzIptqYxnYp3FOk84kZVk+1foQ2nduqy1nbd4/Glh+/32+pP7+Pvd6z/m/Xqep1Dv1rKUUn/0vmRFwazSh5T1+tqO6Zpcv1vrTJ0jt9R5ruMv25bVeK7nq7XhlNeHqKy0v2xs5ynjmZvXT88d79P+aPZrHZ627p+l9el5pdIxputI1VlaT3L+E46/Hi6YuZ2usrLWgbLqLwzLBrA7pdy4unyus7Ccblv6+bpOrXXQS+vT69L989NMuf2u1epgqodebdUWO/ZRW0phoVSW7p+eV7P9zb27DCcgPb3elvx46vJ4uUyddjvPYxTegMT98+OYXj6n3L98H3Jj5pfTfY3bmXKrx58U6nj32h6PZhvZPz4Sb2TkPHLaqWUpen753O9LS9/k8zBfqQ8pq/U1HtM1ftnctm2rU58jt9R5ruOv3BYxnup5bpqm+16SPaar+8tSpo9NN3+q7Q3jmaPXmZseH+92HVObxb65LNe/f7b0PSWMR+oYC2Vx2+I6U9NKZX5auX9b9l3tEFbk3g3M1g0tdUArvTDY8vndh/HZDKiuV5bLdwJ+Y62X021LtTVV57rv6x00pba+XDvn5TMbzh9goj3NIVEso9dVqDNXVutfyao9avvldtZSO2vjmdtfSnXKZd49W/dvy8El2+k07Lu2LDdmW7fDrRx/JfMLzDSvW3e0f051BSeW6fVLtf6FfcVbziGlPtjnOet2xmO55TwR5LZD+VwgpifOkb116mWSx9+0bCrclKTaUtp+6/4ZHX3PWS0rxyWzv1iy/etjLCwz6RjPktz2yx/vSzCz8+lz5db9s3SOzKmfJ5Y65PPSeNbGuta/La8d2urL/wAAXFN4cTzlxQ24VQQzAMAwwhWc3qtlwENBMAMAABgEwQwAAGAQBDMAAIBBEMwAAAAGQTADAAAYBMEMAABgEAQzAACAQRDMAAAABkEwAwAAGATBDAAAYBAEMwAAgEEQzAAAAAZBMAMAABgEwQwAAGAQBDMAAIBBEMwAAAAGQTC7IYcnb44fjnfHp4mylMPxeOPuTJ/TfTu33rH+VjyEcWHbpjEuwBgIZjeEYHY5vEilEcweLsYFGMPh8OLOvATqx9fjq1/SC7TiIN9f75imw84tua1gdnjy/PjqO9/4Dz+osh/McSY6d//oeVTe4qe3X4/3b9uWOzx+f7wP6/vu/fEnXT63tbePnfug6rdsjxyv2fdvkvVIh19M38ys4Tzl6vnHjPmL9Pza3ucm256lC1/N8/R8PWyfDqZPrk7Vr2h9/5j/i7JTcM4GxjBfMdv9ZMVBvrvuF8X5xeJW3U4w8yHDBIXHPmzIYObqEgFIP2/R0x7flmXep9+vg+BPj76aEHR31nakuKA2ha9lzNLz5jz96EOYe1P58U1XYLVO7YNk63L76hSefGg6bb/1ocwGvCmciWDmy5b6D2YsDh19L9lzXABsVw1mfvrykO9Kl3eu/hFOjvbEuXqYE2htuZLQvlfmJBwecrmnH80J/oWo17yTDFcJ9PpKfbCPpR+FOjeMS62spvfEuQ46t+b2Psr0YUMHMz8thCMXThJXsUp6w4fkQ5g4/tzVNNs308cLBjMdxPTzVlEwMwHmXhyXLU7pg2bbIK9aHcx2cvvu1L7DR8M+t/PYEDWV6XpSfAgrz+/Wp86ty/FjnPH8AuA8isHMnTjNu7MwTc7jy8xJNXPZPneQ15bL8fWZx3QS8s+XelwYFCfo+eSt5vPByD9flU3vwO3/y3VuG5etfQ/kelLlWnSCvkkPI5gF9sqV61jDx3XSqfuNXW9oj2yf6+Mlg5m4WuaeT21ZNrjpY0NIc8fp/Ogfl1P6oMlg5IJXCGAhmLl9eLqqZkKSm78xLNnxqQazaV3u/25+e6VtPV+LPccFwHblYJa4miRPhPZdvH2k3smXDvLScjm6Pv9i5YOSfR5Ck1zGzafClpUNbYlglqzzhHHZ0veg98Q5v97dLB/M5qsQYtrcx41lNb1jHcjgo6eFUOICWscVs9Q+3MpdLRPrklfPXB8vFMxS46L576O11+2vIr437fGP1mOq+ziSV6FCCLP7llmf/9cELxugpvVHwczMb9cX7cvN7SwHM1eXuFo3T7PtvMD5BcB51IOZuGKUE8KGfPFoOchTy+Xo+nwwW8LQlmAW/r884vYWg9nGcWkpy+k9cS6h5Fb1hak9bX2RSgaz+aPD/Dw5ej/voUNZWG9ioJvaYm0el4aPb13djcEsHINPzXFkA1nrMWl1H0dmHS6EmfFzQckN2RS0bPiyz6fzxDyPeX7OYJYKZaty264znl8AnEflo0w7LR1ONH1i9MvWX1BaT6i6fS5wieflq1viqph4Xlt3ts4TxqW1LCW1jUqm19wb9pCCmdnn5u9WmbpbP7br3EcCHcpSfDv6+rhlXFJjkqK/C5fj6pvCqr9qdt5gVmLrkn+J6cKYaccc2s4QzGqhLLBj0jJfsOe4ANiu/uV/e8IzL5LzYzr5+fnlYwk/wXxVyD6md24ty6Wsl4vbmgtRlg9x4RGvL75iZh9LebHODeOyte+BX779xJkOO7fkdoJZCB9xB5blXegQZa1XqEr7YI5ru1iXlzi23XztfbR6x8XKXS1btbPxu3dyTHx7/KN1nLb0ocQFILN+b9lntwazOZDNdS71+rpay5bA2GLvcQGwzRzMRneOk4YLbFOgCtPsSX/L978uoXcM4pP0LVpe5C5thBepnqtAl/IQXrwJIGmMCzCGbzuYuTrVo+M7GZfWOwbpsHNLvu1gNqKHMC5s2zTGBRjDzQQz9EuHnVtyvWAGAMA1EMwAAAAGQTADAAAYRFMwC3+B2PvXYQAAAGh30F/4dLe4UH8Jlgpm/l5CZqJ7xF8YLZX1uNSXUZdbHfDFVwAAcD1RMNvy5/ml8HRqsLpUMPM3trzrvqcTAADAnkQwW+6mPRc2XPnaEsz89OURXYmbrs4tj/aw5JftvGnr/HM5pk0EMwAAcEVzMHv11v+0SXKmDeErV+bD3jJNzuP/r++Un647pTeYhY8w7V3Y3boIZgAA4IqmYOYfFwlmqyti9uHDlLsTv7jBa6nuPcjf5nPrIpgBAIArEh9l2n/TV5t6w1eprPQ9tksHs/VvG3qtv2MIAACwp/WX/xNBaNdg5qalb70h1798vy1dd0rvR5mSaxdXzAAAwBVFwcxOcLfLmMORD1HRY7ratbXMrVR/nCnK/Pr948OLuG01BDMAAHDLuPM/AADAIAhmAAAAgyCYAQAADIJgBgAAMAiCGQAAwCCuFszCX2ambpsBAADwLXLBbHX7CnGT13M5ZzDTtwDZKvxkU+6ms0s5t9kAAACnm+5jtu3eX6PaI5j50GXG5fHye5p6Hv+TTnfc/wwAAOziULopqw44+vnTj2a5F+JqW7jBrKtTLufv4m+vji139LePONCUlvPP7fqXh7zatrrql6y7P4CGq2I6mB0em/pcIDNtIpgBAIAduI8y57vtizvwu8JqMIuXsc+X8LWEIBeKKnX7afnlfFm6Lf7/YrlU3TsGMznNrYtgBgAAdhB9+X8OaNN3zHTA0c9DEAvLS7au+7fPV/8PUuHJyi23viJmHz5onfPHz1PBzH+EKcaIYAYAAHaw+qtMH2qmwKMCjn5eCmZuXne1K77SFZUnwlNuudRVt3mZCwaz8Nz+QYCmP+4EAADosQ5m4iM/H3CWj//cR5eNwcyav4OW+CvPUnhKLefnT6/Pt9nX5YKT+w5bXPeeH2XG5aZdXDEDAAA7OLirTdEjDi/zx5vmcf/2fRSmasEs1C3nCQEreujvnyWWc9P1x5liOdnODy/Woa83mKWvjK0DGMEMAADsZXXFDAAAANdBMAMAABgEwQwAAGAQBDMAAIBBEMwAAAAG0RTMwl9Dlv4CEwAAAKdJ3C7DPuLbSowSzEr3PjsH/3uYpuOOGZPH6fkAAAD2MF8xu3To2eKSbfT3JzNhNNzxf/7R8vW8AAAAeygGs+Uu+vahyl7cHe8/Grbon/fHV+5XAZarar6+5RHdZFbdKDZeZlmPfO5/dUA9Er8okNN9g9kf7o7H78QNbO3vY4qgBgAAsLemK2bJ0OY+ArXTfACzPzYefnTcB7p0wPL/XwKSDEx6PbXnPXqDmfyh8qffmw6akPbK/EswAwAA53JaMPv4Jiqbg5m6IuYfU/ialpP1h592qgWxUhv3ZoPZ/aM37meZ7h89d9NsQCOYAQCAczlfMFO/f6mXk9NGDGbuo0z5HbPKj5kDAACc6jzBzE3zYUvW45ZTHymuP8pcyvz3ynQwa/84Uur9KNOtS/wlpv7OGQAAwN4qX/73ASt6TFfCSsHMLas/zhRX0Nyy8yMOS7aO8Lh/+37VJlmur7yV9AYzK75dRtwOAACAvc3BDAAAANdFMAMAABgEwQwAAGAQBDMAAIBBEMwAAAAGQTADAAAYBMEMAABgEAQzAACAQRDMAAAABkEwAwAAGATBDAAAYBAEMwAAgCH8evw/KSp3YuibZo8AAAAASUVORK5CYII=" width="614" height="100" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-next">üîÆ What's next?<a class="hash-link" href="#-whats-next" title="Direct link to heading">‚Äã</a></h2><p>The following months we will be focusing on performance and stability.
The main next feature will be coverage analysis. How does that work?</p><p>Stryker.NET will use code coverage analysis to find mutants that are not covered by your tests.
If it's not covered, it cannot be killed by any test, right? The mutant will be marked as <code>no coverage</code>,
meaning the mutant survived while we saved valuable time.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="contribute">Contribute<a class="hash-link" href="#contribute" title="Direct link to heading">‚Äã</a></h2><p>Want to help make Stryker.NET even better?
Check out our <a href="https://github.com/stryker-mutator/stryker-net/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">contribution guide</a>
and <a href="https://waffle.io/stryker-mutator/stryker-net" target="_blank" rel="noopener noreferrer">backlog</a> to see what help we need.</p><p>Special thanks to <a href="https://github.com/stryker-mutator/stryker-net/commits?author=dupdob" target="_blank" rel="noopener noreferrer">@dubdop</a> for all his contributions. Keep up the good work! üí™</p>]]></content>
        <author>
            <name>Richard Werkman</name>
            <uri>https://github.com/richardwerkman</uri>
        </author>
        <category label="stryker.net" term="stryker.net"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[One mutation testing HTML report]]></title>
        <id>one-mutation-testing-html-report</id>
        <link href="https://stryker-mutator.io/blog/one-mutation-testing-html-report"/>
        <updated>2019-04-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[If you've used Stryker before, you'll know that it produces a gorgeous report you can view in the browser.]]></summary>
        <content type="html"><![CDATA[<p>If you've used Stryker before, you'll know that it produces a gorgeous report you can view in the browser.
It works by generating HTML files based on the events raised by Stryker.
During development of Stryker4s and Stryker.NET, we realized that producing the same report would be a lot of
work.</p><p>Instead of a new HTML reporter implementation for each Stryker framework, we've decided to move the logic of presenting the report to your browser.
That way, any framework can support an HTML report simply by producing a JSON file.</p><p>We call it <a href="https://github.com/stryker-mutator/mutation-testing-elements#readme" target="_blank" rel="noopener noreferrer">mutation testing elements</a> and
it is implemented using the mature
<a href="https://www.w3.org/TR/components-intro/" target="_blank" rel="noopener noreferrer">web components suite of features</a>.
You can now use it in Stryker, Stryker.NET and Stryker4s</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-usage">üë∑‚Äç Usage<a class="hash-link" href="#-usage" title="Direct link to heading">‚Äã</a></h2><p>To enable the new HTML reporter, simply update to the latest Stryker release and
enable the HTML reporter in the implementation of your choice.</p><ul><li><strong>Stryker</strong> (since v1.2)<br>Enable by adding <code>'html'</code> to your <code>reporters</code> in your <code>stryker.conf.js</code> file.</li><li><strong>Stryker4s</strong> (since v0.3.1)<br>Enable by adding <code>"html"</code> to your <code>reporters</code> in your <code>stryker4s.conf</code> file.</li><li><strong>Stryker.NET</strong> (since v0.9)<br>Enable <code>"html"</code> as reporter in your <code>stryker-config.json</code> file.</li></ul><p>Upgrading should be painless.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-show-me-the-money">üí∏ Show me the money<a class="hash-link" href="#-show-me-the-money" title="Direct link to heading">‚Äã</a></h2><p>See two screenshots taken from a mutation testing report of Stryker itself üéâ</p><p><img loading="lazy" alt="Directory" src="/assets/images/mutation-testing-elements-directory-f919eca129ceb16039516b419252d0e2.png" width="800" height="269" class="img_E7b_"></p><p><img loading="lazy" alt="File" src="/assets/images/mutation-testing-elements-file-2d576e8094884654c30afabce2975b69.png" width="800" height="407" class="img_E7b_"></p><p>Mutation testing elements comes with batteries included:</p><p>üìä Calculates and displays the mutation score and other metrics<br>
<!-- -->üìÅ Group results into directories<br>
<!-- -->üëì Show mutants directly in your source code<br>
<!-- -->üòé Highlight code with embedded <a href="https://highlightjs.org/" target="_blank" rel="noopener noreferrer">highlightjs</a><br>
<!-- -->üßô‚Äç Filter mutants based on the outcome<br>
<!-- -->üîó Deep linking using anchors (uses fragment, so path will not be contaminated)<br>
<!-- -->‚ú® A nice (yet basic) UI with embedded <a href="https://getbootstrap.com" target="_blank" rel="noopener noreferrer">bootstrap</a> css<br>
<!-- -->üéì Adheres to <a href="https://developers.google.com/web/fundamentals/web-components/best-practices" target="_blank" rel="noopener noreferrer">custom element best practices</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-how-it-works">üí≠ How it works<a class="hash-link" href="#-how-it-works" title="Direct link to heading">‚Äã</a></h2><p>Using mutation testing elements is as simple as loading the JavaScript bundle and adding
the <code>mutation-test-report-app</code> to your page, pointing the <code>src</code> to a json file that contains the
mutation testing results to be displayed.</p><div class="language-html codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-html codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">https://www.unpkg.com/mutation-testing-elements@1.0.2/dist/mutation-test-elements.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mutation-test-report-app</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">mutation-report.json</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Your browser does not support custom elements. Please use a modern browser.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mutation-test-report-app</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Loading from an external source (using <code>src="..."</code>) only works if you serve the HTML file from a server.
Use property binding to also support opening your HTML report from disk directly.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">querySelector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'mutation-test-report-app'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">report</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/*... report data ...*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The report json should adhere to the <a href="https://github.com/stryker-mutator/mutation-testing-elements/tree/master/packages/mutation-testing-report-schema#readme" target="_blank" rel="noopener noreferrer">mutation testing report json schema</a>,
we've designed it with this specific goal in mind.</p><p>For more information on how to use it, as well as where to find the JavaScript implementation, please see the <a href="https://github.com/stryker-mutator/mutation-testing-elements/tree/master/packages/mutation-testing-elements#readme" target="_blank" rel="noopener noreferrer">readme of mutation testing elements</a>
on github. Want to contribute or suggest changes? Feel free to do so in the <a href="https://github.com/stryker-mutator/mutation-testing-elements" target="_blank" rel="noopener noreferrer">mutation testing elements mono repo</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-call-to-action">üí™ Call to action<a class="hash-link" href="#-call-to-action" title="Direct link to heading">‚Äã</a></h2><p>Mutation testing elements is here to help out all mutation testing frameworks.
We've contacted the guys over at <a href="https://infection.github.io/" target="_blank" rel="noopener noreferrer">Infection</a> (PHP)
and they will <a href="https://github.com/infection/infection/issues/340#issuecomment-477148001" target="_blank" rel="noopener noreferrer">support it in the future</a>.</p><p>If your mutation testing framework isn't supported, why not open up an issue at their side.
Or better yet, implement it in a pull request. Most of them are open source after all.
Spread the word üíñ to help us grow üå≥.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-next">üîÆ What's next?<a class="hash-link" href="#-whats-next" title="Direct link to heading">‚Äã</a></h2><p>We're planning to upgrade the <a href="https://dashboard.stryker-mutator.io" target="_blank" rel="noopener noreferrer">Stryker dashboard</a>.
Right now it already supports <a href="/blog/2018-02-08/get-your-mutation-score-badge-now/">showing a mutation score badge</a>.
In the future, you will be able to host your entire mutation testing report there. Stay tuned.</p><p>Happy mutation testing!</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
        <category label="stryker4s" term="stryker4s"/>
        <category label="stryker.net" term="stryker.net"/>
        <category label="mutation testing elements" term="mutation testing elements"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing Stryker 1.0]]></title>
        <id>announcing-stryker-1-0</id>
        <link href="https://stryker-mutator.io/blog/announcing-stryker-1-0"/>
        <updated>2019-02-13T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Stryker 1.0 is here! This is an important milestone for mutation testing in JavaScript and TypeScript.]]></summary>
        <content type="html"><![CDATA[<p>Stryker 1.0 is here! This is an important milestone for mutation testing in JavaScript and TypeScript.</p><p>If you‚Äôre unfamiliar with Stryker and mutation testing, now is the perfect time to try it out!
We've updated <a href="/stryker/quickstart/">our quickstart</a>, so go ahead and start using Stryker today.
Stryker can help you to improve your test quality by inserting bugs in your code and validating
that your tests can find them. The output is a comprehensive report telling you exactly what your unit tests missed.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-new">What's new<a class="hash-link" href="#whats-new" title="Direct link to heading">‚Äã</a></h2><p>Here you find a list of all the new features in Stryker 1.0 (alphabetical order):</p><p><img loading="lazy" src="/assets/images/tumble-weed-b22dfe541587b8f11ba104d153ad2307.jpg" width="800" height="533" class="img_E7b_">
<em>Nothing to see here</em></p><p>That's right! We chose to not introduce new features. Instead, we've <em>removed all deprecated functionality</em>.
Also, we've renamed all packages to be part of the @stryker-mutator <a href="https://docs.npmjs.com/orgs/" target="_blank" rel="noopener noreferrer">organization on NPM</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="migrating-from-stryker-0x">Migrating from Stryker 0.x<a class="hash-link" href="#migrating-from-stryker-0x" title="Direct link to heading">‚Äã</a></h2><p>Please use this migration guide to update your older Stryker version. If you're feeling adventurous ü§†üêä, you can skip to step 3.</p><ol><li><p><strong>Make sure you're on the latest version of 0.x</strong></p><p>Please make sure you're on the latest 0.x version first. Here is a list of all the latest versions:</p><ul><li><code>grunt-stryker@0.13.17</code></li><li><code>stryker-api@0.24.1</code></li><li><code>stryker-babel-transpiler@0.10.1</code></li><li><code>stryker-html-reporter@0.18.1</code></li><li><code>stryker-jasmine-runner@0.4.1</code></li><li><code>stryker-jasmine@0.12.1</code></li><li><code>stryker-javascript-mutator@0.14.1</code></li><li><code>stryker-jest-runner@1.4.1</code></li><li><code>stryker-karma-runner@0.24.1</code></li><li><code>stryker-mocha-framework@0.15.1</code></li><li><code>stryker-mocha-runner@0.17.1</code></li><li><code>@stryker-mutator/test-helpers@0.1.1</code></li><li><code>stryker-typescript@0.18.1</code></li><li><code>stryker-vue-mutator@0.4.1</code></li><li><code>stryker-wct-runner@0.3.1</code></li><li><code>stryker-webpack-transpiler@0.9.1</code></li><li><code>stryker@0.35.1</code></li></ul><p>First update them in your package.json file, next use <code>npm install</code> (or <code>yarn install</code>) to install the versions.</p></li><li><p><strong>Fix all deprecation warnings</strong></p><p>If you're on the latest 0.x release, run <code>npx stryker run</code> and fix any deprecation warnings that are logged.
If Stryker runs without deprecation warnings, you're ready to upgrade</p></li><li><p><strong>Update your global stryker-cli</strong></p><p>If you've installed the <code>stryker-cli</code>, please update that one as well: <code>npm i -g stryker-cli</code></p></li><li><p><strong>Upgrade your dependencies</strong></p><p>Update your package.json file.</p><ul><li><code>stryker</code> ‚û° <code>@stryker-mutator/core</code></li><li><code>stryker-api</code> ‚û° <em>none, this can be removed</em></li><li><code>stryker-babel-transpiler</code> ‚û° <code>@stryker-mutator/babel-transpiler</code></li><li><code>grunt-stryker</code> ‚û° <code>@stryker-mutator/grunt-stryker</code></li><li><code>stryker-html-reporter</code> ‚û° <code>@stryker-mutator/html-reporter</code></li><li><code>stryker-jasmine</code> ‚û° <code>@stryker-mutator/jasmine-framework</code></li><li><code>stryker-jasmine-runner</code> ‚û° <code>@stryker-mutator/jasmine-runner</code></li><li><code>stryker-javascript-mutator</code> ‚û° <code>@stryker-mutator/javascript-mutator</code></li><li><code>stryker-jest-runner</code> ‚û° <code>@stryker-mutator/jest-runner</code></li><li><code>stryker-karma-runner</code> ‚û° <code>@stryker-mutator/karma-runner</code></li><li><code>stryker-mocha-framework</code> ‚û° <code>@stryker-mutator/mocha-framework</code></li><li><code>stryker-mocha-runner</code> ‚û° <code>@stryker-mutator/mocha-runner</code></li><li><code>stryker-mutator-specification</code> ‚û° <code>@stryker-mutator/mutator-specification</code></li><li><code>stryker-test-helpers</code> ‚û° <code>@stryker-mutator/test-helpers</code></li><li><code>stryker-typescript</code> ‚û° <code>@stryker-mutator/typescript</code></li><li><code>stryker-util</code> ‚û° <code>@stryker-mutator/util</code></li><li><code>stryker-vue-mutator</code> ‚û° <code>@stryker-mutator/vue-mutator</code></li><li><code>stryker-wct-runner</code> ‚û° <code>@stryker-mutator/wct-runner</code></li><li><code>stryker-webpack-transpiler</code> ‚û° <code>@stryker-mutator/webpack-transpiler</code></li></ul><p>The versioning of these dependencies start at 1.0.0, so feel free to use <code>^1.0.0</code> to specify the version.</p><p>After updating your package.json, you'll need to run <code>npm install</code> (or <code>yarn install</code>) once more.</p></li><li><p><strong>Take it for a spin</strong></p><p>Stryker should now work as expected. Try it out with: <code>npx stryker run</code>.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="release-cycle">Release cycle<a class="hash-link" href="#release-cycle" title="Direct link to heading">‚Äã</a></h2><p>From now on we'll adhere to strict <a href="https://semver.org/spec/v2.0.0.html" target="_blank" rel="noopener noreferrer">semantic versioning</a>, or semver for short.
This means that it's easy to distinguish between bug fixes, new features or breaking changes just
by looking at the version number.</p><p>Futhermore, we've decided to use <em>fixed versioning</em> for our packages, meaning that all <code>@stryker-mutator/*</code> packages
will <em>have the same version number</em>. For example, if your local <code>@stryker-mutator/core</code> version is <code>1.0.0</code>, your
<code>@stryker-mutator/html-reporter</code> should also be at that exact version. This makes maintaining your Stryker dependencies a breeze.</p><p>This is comparable to how Angular or React do their versioning.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="release-schedule">Release schedule<a class="hash-link" href="#release-schedule" title="Direct link to heading">‚Äã</a></h2><p>We'll be releasing about as often as we were doing. The key difference is that we'll be extra focused on
semver. Since we will be dropping support for old NodeJS versions as soon as
<a href="https://github.com/nodejs/Release#release-schedule" target="_blank" rel="noopener noreferrer">it reaches end-of-life</a>,
expect <em>at least</em> one major release a year, (however, we might do more major releases).
So you can expect a v2 release around April 30th, since we'll be dropping Node.JS 6 support at that time
(the best birthday gift for me each year üéÅ)</p><p>We'll also keep a healthy deprecation policy, making sure that deprecated features remain in tact for at least one major release.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Stryker4s 0.1.0 released]]></title>
        <id>stryker4s-0-1-0-released</id>
        <link href="https://stryker-mutator.io/blog/stryker4s-0-1-0-released"/>
        <updated>2018-12-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[This is the first official release of Stryker4s! Bringing easy mutation testing to Scala sbt projects. And it comes with some great features.]]></summary>
        <content type="html"><![CDATA[<p>This is the first official release of Stryker4s! Bringing easy mutation testing to Scala sbt projects. And it comes with some great features.</p><p>It's taken a little longer than we maybe would've liked, but we are very proud of this first release. In this blog post we'll tell you about why running with the sbt plugin is a big improvement, and some of the features you can use today for Stryker4s. Although it's still possible to use the command-runner for non-sbt projects, we decided a sbt plugin was an important for the first release.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="sbt-plugin">Sbt plugin<a class="hash-link" href="#sbt-plugin" title="Direct link to heading">‚Äã</a></h2><p>The biggest thing in our first release is the addition of a plugin for sbt. With this plugin, adding Stryker4s is as easy as adding the following line to your <code>plugins.sbt</code> file:</p><div class="language-scala codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-scala codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">addSbtPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"io.stryker-mutator"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"sbt-stryker4s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"0.1.0"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then just run <code>sbt stryker</code> and you are good to go!</p><p>Not only does this plugin make it a lot easier to add Stryker4s to your project, it also dramatically improves the speed compared to the old command-runner. The reason for this is that the command-runner would simply run the command <code>sbt test</code> for each mutant. This meant that sbt would have to start a new process every single time. If you have ever used sbt before, you probably know this can take a while.</p><p>With the new plugin we can hook into the sbt process and keep it alive. This means sbt only has to start once, and all we have to do is tell sbt to run tests for all the mutants we found. If you've used Stryker for JavaScript before, this may sound familiar. Adding to it, we don't even have to compile between mutant runs, which also gives a speed boost. You can read more about that in our <a href="/blog/2018-10-6/mutation-switching/">last blog post about mutation switching</a>.</p><p>Big thanks to <a href="https://github.com/scelestino" target="_blank" rel="noopener noreferrer">Scelestino</a> and <a href="https://github.com/Wmaarts" target="_blank" rel="noopener noreferrer">Wmaarts</a> for the help on the plugin.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="other-features">Other features<a class="hash-link" href="#other-features" title="Direct link to heading">‚Äã</a></h2><p>Here are some other things we recently did to improve your mutation testing experience:</p><ul><li>We already support the new categories of mutators that are now <a href="https://github.com/stryker-mutator/stryker4s/pull/115" target="_blank" rel="noopener noreferrer">standardized across Stryker versions</a>.</li><li><a href="https://github.com/stryker-mutator/stryker-handbook/blob/master/mutator-types.md#stryker4s" target="_blank" rel="noopener noreferrer">Scala-specific function mutators</a></li><li><a href="https://github.com/stryker-mutator/stryker4s/blob/master/docs/CONFIGURATION.md#excluded-mutations" target="_blank" rel="noopener noreferrer">Excluding mutations</a> you might not want to test</li><li><a href="https://github.com/stryker-mutator/stryker4s/blob/master/docs/CONFIGURATION.md#excluded-mutations" target="_blank" rel="noopener noreferrer">Setting a minimum mutation score</a> threshold for your build.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-next">What's next<a class="hash-link" href="#whats-next" title="Direct link to heading">‚Äã</a></h2><p>We have a lot planned for the future of Stryker4s. We'll keep looking at ways to optimize the performance, and add new features. As well as sorting out some smaller bugs with the current plugin, such as providing proper support for multi-module projects (<a href="https://github.com/stryker-mutator/stryker4s#multi-module-projects" target="_blank" rel="noopener noreferrer">although we have a workaround</a>). We also want to provide a Maven plugin to give Maven users the same benefits and ease of use. Some other things on the roadmap are the new cross-Stryker HTML dashboard, new mutators and focusing on providing a stable working plugin for many different types of projects.</p><p>So, whether you might have a quiet week at work, or want to get away from the family during Christmas dinner, why not try adding mutation testing to your Scala projects? Let us know how it goes üéÑ!</p>]]></content>
        <author>
            <name>Hugo van Rijswijk</name>
            <uri>https://github.com/hugo-vrijswijk</uri>
        </author>
        <category label="stryker4s" term="stryker4s"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing Stryker 0.34]]></title>
        <id>announcing-stryker-0-34</id>
        <link href="https://stryker-mutator.io/blog/announcing-stryker-0-34"/>
        <updated>2018-12-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Stryker 0.34 is here. This new version comes with features to help you get started. It's never been this easy to mutation test your JS project!]]></summary>
        <content type="html"><![CDATA[<p>Stryker 0.34 is here. This new version comes with features to help you get started. It's never been this easy to mutation test your JS project!</p><p>Install Stryker via the command line:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npm i stryker stryker-api --save-dev</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or run <code>stryker init</code> in the root of your project:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npx stryker init</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Some features we want to talk about:</p><ul><li><a href="#command-test-runner">Command test runner</a></li><li><a href="#zero-configuration">Zero configuration</a></li><li><a href="#init-presets">Init presets</a></li><li><a href="#web-component-tester-test-runner-plugin">Web component tester test runner plugin</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="command-test-runner">Command test runner<a class="hash-link" href="#command-test-runner" title="Direct link to heading">‚Äã</a></h2><p>Stryker always was and always will be test runner agnostic. It doesn't care which test runner you use.
However, it always required you to install a test runner plugin.
Are you using Jest? Install the 'stryker-jest-runner'. Want to use mocha? Then the 'stryker-mocha-runner' is just what you need.
This works great if the test runner of choice is supported, but what do you do when your test runner isn't supported?
Like <a href="https://github.com/stryker-mutator/stryker-js/issues/243" target="_blank" rel="noopener noreferrer">Ava.js</a> or <a href="https://github.com/stryker-mutator/stryker-js/issues/325" target="_blank" rel="noopener noreferrer">node-tap</a>
or <a href="https://github.com/stryker-mutator/stryker-js/issues/430" target="_blank" rel="noopener noreferrer">Intern</a> or
maybe you have a custom <code>npm test</code> command. This is why we've added the <code>'command'</code> test runner.</p><p>Configure it in your stryker configuration:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// stryker.conf.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">testRunner</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'command'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Or leave out testRunner, 'command' is the default test runner</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">commandRunner</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">command</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'npm run mocha'</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// optionally choose a different command to run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Stryker ships with the command test runner, so it doesn't need additional plugins. The command test runner will simply run your <code>npm test</code> script.
If the exit code is <code>0</code>, the tests succeeded. If not, they failed.</p><p>Stryker is limited in the ways it can optimize for performance. For example, it starts a fresh node process for each test run.
So if your test runner is supported via a test runner plugin, that would still be the way to go.</p><p>The command test runner runs <code>npm test</code> by default. You can configure a different command with the <code>commandRunner</code> configuration key.</p><p>Special thanks to <a href="https://twitter.com/DiegoRBaquero" target="_blank" rel="noopener noreferrer">Diego R.B.</a> for inspiring us to implement this.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="zero-configuration">Zero configuration<a class="hash-link" href="#zero-configuration" title="Direct link to heading">‚Äã</a></h2><p>Stryker now chooses sensible defaults for all settings. Meaning that you can now run Stryker without any configuration.
It will look for <!-- -->*<!-- -->.js files to mutate in your <code>src</code> and <code>lib</code> directories (excluding obvious test files, like app.spec.js).
Coverage analysis will be turned off and the <a href="#command-test-runner">command test runner</a> is used.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npm install --save-dev stryker stryker-api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx stryker run</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Note:</strong> The default mutator Stryker uses will still be the deprecated <code>es5</code> mutator (comes with Stryker). In time, we'll be migrating this to
use the <code>'javascript'</code> mutator (supporting ESNext).</p><p>With these defaults in place, it is now also easy to run Stryker without a configuration file if you want just one or two config options
to change. For example:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npx stryker run --testRunner mocha --mutator javascript</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Again, special thanks to <a href="https://twitter.com/DiegoRBaquero" target="_blank" rel="noopener noreferrer">Diego R.B.</a> for inspiring us to implement this.</p><p>With this feature in place, Stryker is now effectively a drop in replacement for <a href="https://github.com/TheSoftwareDesignLab/mutode" target="_blank" rel="noopener noreferrer">mutode</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="init-presets">Init presets<a class="hash-link" href="#init-presets" title="Direct link to heading">‚Äã</a></h2><p>With <code>stryker init</code> (either using the <a href="https://github.com/stryker-mutator/stryker-cli" target="_blank" rel="noopener noreferrer">stryker-cli</a>, or using <code>npx stryker init</code>)
you can initialize Stryker in your repository. It asks questions via a questionnaire, like "Which test runner do you want to use?" and
"Which test framework do you want to use?". Sometimes you might not know the answer to those questions. It also might take a lot more
configuration to get you started. This is why we added a <a href="https://github.com/stryker-mutator/stryker-handbook/tree/master/stryker/guides" target="_blank" rel="noopener noreferrer">guides section to the stryker handbook</a>.
We've now integrated those into the <code>stryker init</code> command.</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">$ stryker init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? Are you using one of these frameworks? Then select a preset configuration. (Use arrow keys)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; angular-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">react</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vueJs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">None/other</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Choosing for a preset immediately gets you started! It creates the configuration file and installs the correct plugins.
Choosing <code>None/other</code> here will still take you to the normal questionnaire.</p><p>Special thanks to <a href="https://github.com/Wmaarts" target="_blank" rel="noopener noreferrer">wmaarts</a> for adding this feature.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="web-component-tester-plugin">Web component tester plugin<a class="hash-link" href="#web-component-tester-plugin" title="Direct link to heading">‚Äã</a></h2><p>With this release of Stryker, we've also released version 0.1.0 of the stryker-wct-runner. Install it with:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">$ npm install --save-dev stryker-wct-runner</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Configure it with:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">testRunner</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'wct'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With this plugin, we now support <a href="https://www.polymer-project.org/" target="_blank" rel="noopener noreferrer">Polymer</a> cli projects.
The <a href="https://www.npmjs.com/package/web-component-tester" target="_blank" rel="noopener noreferrer">web-component-tester</a> runs your tests in an actual browser.
However, it doesn't support any of the coverage analysis performance features for now. If you want those to be supported,
please open an issue. You're also welcome to take a look at the <a href="https://github.com/Polymer/tools/issues/created_by/nicojs" target="_blank" rel="noopener noreferrer">issues we've opened at Polymer side</a>.
Any help there is really appreciated.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-next">What's next?<a class="hash-link" href="#whats-next" title="Direct link to heading">‚Äã</a></h2><p>We're still focussing on getting v1 out of the door. We're reasonably certain it will happen in Q1 of next year.
V1 will mostly be removing deprecated features. We'll also introduce a more predictable release schedule with
strict <a href="https://semver.org/spec/v2.0.0.html" target="_blank" rel="noopener noreferrer">Semantic Versioning</a> policies. Stay tuned.</p><p>Input on these new features or the v1 preparations are welcome!</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mutation switching in Stryker4s]]></title>
        <id>mutation-switching</id>
        <link href="https://stryker-mutator.io/blog/mutation-switching"/>
        <updated>2018-10-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Learn how Stryker4s uses mutation switching to improve performance.]]></summary>
        <content type="html"><![CDATA[<p>Learn how Stryker4s uses mutation switching to improve performance.</p><p>We are very happy with Stryker's new friends! One of those new friends is Stryker4s(cala).
Scala developers can now use mutation testing to improve their tests!
Creating a mutation testing framework for Scala comes with many challenges.
One of those challenges is the Scala compiler itself.
We all know it's not the <a href="https://scala-ci.typesafe.com/grafana/dashboard/db/scala-benchmark?from=1429139130109&amp;to=1492531027936h&amp;orgId=1&amp;var-branch=2.11.x&amp;var-branch=2.12.x&amp;var-branch=2.13.x&amp;var-source=scala&amp;var-bench=HotScalacBenchmark.compile&amp;var-host=scalabench@scalabench@" target="_blank" rel="noopener noreferrer">fastest in its kind</a>.
One of the main goals of Stryker is to be fast. This means we need to come up with an intelligent way to introduce the mutants into the source code.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="attempt-one-compiling-each-mutation">Attempt one: Compiling each mutation<a class="hash-link" href="#attempt-one-compiling-each-mutation" title="Direct link to heading">‚Äã</a></h2><p>One way of introducing mutants to a codebase is by mutating one statement, compile the code, run tests, gather the results and repeat.
This seems like a logical choice because it mimics the way a developer would go about it.</p><p>Let's look at an example.</p><div class="language-scala codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-scala codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> Numbers </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> greaterThan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        a </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Mutant 1: a &gt;= b</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Mutant 2: a &lt; b</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Mutant 3: a == b</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can see, there are three possible mutants:</p><ol><li>Change <code>&gt;</code> to <code>&gt;=</code></li><li>Change <code>&gt;</code> to <code>&lt;</code></li><li>Change <code>&gt;</code> to <code>==</code></li></ol><p>If we apply the mutation one by one, we would need to compile the code base three times.
If we assume the compile time of this program is 10 seconds, we already have 30 seconds of compile time for one full mutation run.
This would quickly get out of hand when the codebase is bigger and generates more mutants.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="attempt-two-mutating-bytecode">Attempt two: Mutating bytecode<a class="hash-link" href="#attempt-two-mutating-bytecode" title="Direct link to heading">‚Äã</a></h2><p>As you might know, Scala gets compiled to Java bytecode. This gives us an alternative way to introduce mutations in a codebase.
We would be able to mutate the bytecode directly, eliminating the need for recompiling.</p><p>The main challenge with this approach is that <a href="https://docs.scala-lang.org/overviews/core/binary-compatibility-of-scala-releases.html" target="_blank" rel="noopener noreferrer">Scala doesn't guarantee the bytecode output for each version of the compiler</a> (or even JDK version).
Even the jump from Scala 2.12 to 2.13 produces different bytecode. This would make manipulating bytecode complicated, unpredictable and hard to maintain.</p><p>Furthermore, if you mutate the bytecode, it can be difficult to reproduce the exact Scala code that you changed.
Details, like the exact location, are not represented in bytecode.
Scala makes this extra challenging, as 1 <code>.scala</code> file can easily result in 100 <code>.class</code> files in bytecode.</p><p>For performance reasons, mutating bytecode might sound like a fast solution, but you would still need to load (or hot reload) the mutated class files
for each mutant.</p><p>There should be a better solution out there, right?</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="solution-mutation-switching">Solution: Mutation switching<a class="hash-link" href="#solution-mutation-switching" title="Direct link to heading">‚Äã</a></h2><p>Mutation switching to the rescue! So how is mutation switching both <em>faster</em> and <em>more reliable</em> than compiling each mutation or mutating bytecode?
The steps are quite similar to "Compiling each mutant", but with some big differences:</p><ol><li>All mutants are identified for the whole codebase.</li><li>All mutants are applied to the codebase <strong>at the same time</strong> using a <a href="https://docs.scala-lang.org/tour/pattern-matching.html" target="_blank" rel="noopener noreferrer">Scala Pattern match</a>.</li><li>All mutants are tested one by one, with only <strong>one mutant active at a time</strong>, using an environment variable.</li></ol><p>Step 2 is where the magic happens. Let's take a look at the same code example as used previously, right after the mutations are applied.</p><div class="language-scala codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-scala codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> Numbers </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> greaterThan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"ACTIVE_MUTATION"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">match</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> Some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"0"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                a </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> Some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"1"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                a </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> Some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"2"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                a </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                a </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>All possible mutations are implemented in the pattern match. An identifier is used to turn on/off, or <em>switch</em>, specific mutations.
The default case will be used when none of the mutants are active. Now the code base only needs to be compiled once.
The extra time compilation takes because of its increased size is negligible compared to the overhead of compiling each mutant.
For example, if the compilation time for this code base
would be 15 seconds we will still gain 15 seconds compared to compiling each mutation.</p><p>We gain performance without losing flexibility. It's a win-win scenario.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="top-statements">Top statements<a class="hash-link" href="#top-statements" title="Direct link to heading">‚Äã</a></h2><p>Mutation switching sure is great, but let's take a look at a more complex example.</p><div class="language-scala codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-scala codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> isEven</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">number</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> number </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> isOdd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">number</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">isEven</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> numbers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> toList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> filterOddAnd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">specialNumber</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  numbers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">isOdd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filterNot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">specialNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With this code base <code>filter</code> and <code>filterNot</code> could be mutated to their counterparts.
This would give us the following code base if we implement the pattern match at the direct position.</p><div class="language-scala codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-scala codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> isEven</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">number</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> number </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> isOdd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">number</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Boolean</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">isEven</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> numbers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> toList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> filterOddAnd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">specialNumber</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  numbers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"ACTIVE_MUTATION"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">match</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> Some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"0"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">isOdd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> _         </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filterNot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">isOdd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"ACTIVE_MUTATION"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">match</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> Some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"1"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filterNot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">specialNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> _         </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">specialNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Because we wrapped the functions right on the spot we produced code that doesn't even compile!
To make the code compile we need to take a closer look at the abstract syntax tree.
We are searching for the parent statement in this abstract syntax tree, which is <code>numbers</code> in our case.
If we implement mutation switching using the parent statement, we can generate the following code.</p><div class="language-Scala codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-Scala codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">def isEven(number: Int): Boolean = number % 2 == 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def isOdd(number: Int): Boolean = !isEven(number)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">val numbers: List[Int] = 1 to 100 toList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def filterOddAnd(specialNumber: Int): List[Int] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sys.env.get("ACTIVE_MUTATION") match {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    case Some("0") =&gt; numbers.filterNot(isOdd).filter(_.equals(specialNumber))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    case Some("1") =&gt; numbers.filter(isOdd).filter(_.equals(specialNumber))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    case _         =&gt; numbers.filter(isOdd).filterNot(_.equals(specialNumber))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This enables us to get clean, readable pattern matches and avoid compilation errors.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-next">What's next?<a class="hash-link" href="#whats-next" title="Direct link to heading">‚Äã</a></h2><p>With mutation switching in place, the road is clear for even bigger performance improvements. Right now, we're not
keeping the testing process alive. We simply run <code>sbt test</code> with the correct mutant switched on.
Keeping the test process alive and rerunning the tests after switching mutants is where we can really put the pedal to the metal!</p><p>Interested to help? We're very much looking for contributions! Take a look at our <a href="https://github.com/stryker-mutator/stryker4s/issues" target="_blank" rel="noopener noreferrer">issue tracker</a>
or contact us on <a href="https://join.slack.com/t/stryker-mutator/shared_invite/enQtOTUyMTYyNTg1NDQ0LTU4ODNmZDlmN2I3MmEyMTVhYjZlYmJkOThlNTY3NTM1M2QxYmM5YTM3ODQxYmJjY2YyYzllM2RkMmM1NjNjZjM" target="_blank" rel="noopener noreferrer">Slack</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">‚Äã</a></h2><p>With the combination of mutation switching and traversing to the parent statements Stryker4s is able to apply mutations to the codebase
in a clean and understandable fashion and keep the chances of compilation errors to a minimum.
We hope this blog gave some insight on mutation switching works and how Stryker4s uses this to its advantage. Happy mutating!</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker4s" term="stryker4s"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Introducing Stryker.NET and Stryker4s]]></title>
        <id>csharp-and-scala-support</id>
        <link href="https://stryker-mutator.io/blog/csharp-and-scala-support"/>
        <updated>2018-09-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We're excited to announce that we're doubling the number of supported languages for Stryker. We already had support for JavaScript and Typescript, and now both C# and Scala are supported as preview versions. Try them out and let us know what you think.]]></summary>
        <content type="html"><![CDATA[<p>We're excited to announce that we're doubling the number of supported languages for Stryker. We already had support for JavaScript and Typescript, and now both C# and Scala are supported as preview versions. Try them out and let us know what you think.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="new-platforms">New platforms<a class="hash-link" href="#new-platforms" title="Direct link to heading">‚Äã</a></h2><p>As you might know, both C# and Scala run on entirely different platforms compared to Stryker (which runs on NodeJS). This is the main reason we decided to implement them as
separate frameworks. <a href="/stryker-net/">Stryker.NET</a> is written in C# and runs as a .NET Core application, while <a href="/stryker4s/">Stryker4s</a> is written in Scala and runs on the JVM (Java Virtual Machine).
As of now, a version of Stryker.NET can be found on nuget.org, the package manager for the .NET platform. In due time, Stryker4s can be found on Maven Central.</p><p>Stryker.NET is the result of the internship of <a href="https://github.com/richardwerkman" target="_blank" rel="noopener noreferrer">Richard</a>.<br>
<!-- -->Stryker4s is the result of the internship of <a href="https://github.com/hugo-vrijswijk" target="_blank" rel="noopener noreferrer">Hugo</a>.</p><p>Thanks to them both for their hard work and continued support.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="getting-started">Getting started<a class="hash-link" href="#getting-started" title="Direct link to heading">‚Äã</a></h2><p>As you might have noticed, we've redesigned <a href="/">our website</a>. It is focussed to help you get started on the platform of choice.</p><ul><li><a href="/stryker-net/quickstart/">Get started with Stryker.NET</a> (preview)</li><li><a href="/stryker4s/quickstart/">Get started with Stryker4s</a> (preview)</li><li><a href="/stryker/quickstart/">Get started with Stryker</a> (for JavaScript / TypeScript)</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="one-design-mentality">One design mentality<a class="hash-link" href="#one-design-mentality" title="Direct link to heading">‚Äã</a></h2><p>Although all 3 versions of Stryker are implemented on different platforms, the design goals are the same. It should be <em>easy to use</em> and
<em>fast to run</em>. Without compromises.</p><p>For Stryker JavaScript we're mutating <em>source code</em> (as explained in our
<a href="/blog/2017-07-14/road-to-stryker-1-0/">road to Stryker 1.0</a> blog post), instead of transpiled/minified JavaScript code.
The main advantage is that it makes sure we only mutate <em>your actual code</em>, instead of 3rd party library or minified code.</p><p>We wanted to offer the same quality to the .NET and Scala counterparts, but they have one additional problem: compiling code takes a long time.
It would dramatically reduce the performance of the frameworks. This is why we chose to implement a new mutation testing technique we call <em>Mutation Switching</em>.
With this technique, we compile only once. This results in a drastic performance gain, without compromising the quality of the mutations.
It really deserves it's own blog post, so more on that later.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="collaboration">Collaboration<a class="hash-link" href="#collaboration" title="Direct link to heading">‚Äã</a></h2><p>Though the 3 frameworks have their own code base, there are actually a lot of points on which we're planning to collaborate.</p><ul><li><strong>One vocabulary</strong>\
Terms like <em>mutant</em>, <em>survived</em> and <em>mutator</em> will mean the same across platforms. We will even share the names
for the mutators, see <a href="https://github.com/stryker-mutator/stryker-handbook/blob/master/mutator-types.md#supported-mutators" target="_blank" rel="noopener noreferrer">the supported mutators in our handbook</a>
for a comprehensive list of supported mutators.</li><li><strong>One website</strong>\
We'll keep things together with <a href="/">one website</a>. This will help visibility for all platforms and keep things simple for our users.</li><li><strong>One html reporter</strong>\
We're redesigning our html report as <a href="https://www.webcomponents.org/" target="_blank" rel="noopener noreferrer">HTML 5 web components</a>. It really is it's own thing and might even be used for other mutation testing frameworks out there.
Interested to help? Please let us know! <a href="https://github.com/stryker-mutator/mutation-testing-elements" target="_blank" rel="noopener noreferrer">Github repository here</a>.</li><li><strong>One dashboard</strong>\
We're planning on supporting our <a href="https://dashboard.stryker-mutator.io" target="_blank" rel="noopener noreferrer">mutation testing dashboard</a> for all 3 implementations.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-about-good-old-stryker">What about good old Stryker?<a class="hash-link" href="#what-about-good-old-stryker" title="Direct link to heading">‚Äã</a></h2><p>You might wonder what this all means for Stryker (for JavaScript and friends). Well, not much. The core developers are still here, focussed as ever.
We're still focused on getting the 1.0 release out there for you.
We had to invest some time in the overhead of setting this all up, but it will result in better and more complete frameworks in the end.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker4s" term="stryker4s"/>
        <category label="stryker.net" term="stryker.net"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Use git to select files]]></title>
        <id>use-git-to-select-files</id>
        <link href="https://stryker-mutator.io/blog/use-git-to-select-files"/>
        <updated>2018-04-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The 0.21 release of Stryker simplifies configuration by using your git database.]]></summary>
        <content type="html"><![CDATA[<p>The 0.21 release of Stryker simplifies configuration by using your git database.</p><p>For a change log per package:</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-api/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-api changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-mocha-runner/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-mocha-runner changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-karma-runner/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-karma-runner changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-typescript/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-typescript changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-webpack-transpiler/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-webpack-transpiler changelog</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="sandboxes">Sandboxes<a class="hash-link" href="#sandboxes" title="Direct link to heading">‚Äã</a></h2><p>Stryker only works on copies of your source code. A copy is called a <em>sandbox</em>. It creates as much of them as you want parallel test runners.
You don't want a big sandbox. Just imagine what would happen if all your node_modules end up in there! That's why Stryker allows you to configure
the files to load into it.</p><p>One of the most common issues in <a href="https://github.com/stryker-mutator/stryker-js/issues" target="_blank" rel="noopener noreferrer">our issue tracker</a> has to do with
the way you needed to configure it using the <code>files</code> configuration. It was very confusing. The fact that stryker-karma-runner (pre 0.13) and stryker-typescript (pre 0.10)
modified your files array (without you knowing it) only added to the complexity.
Just <a href="https://github.com/nicojs/angular-stryker-example/blob/72d85e19657247a77faa8e12587d3d301147b2bd/stryker.conf.js#L6" target="_blank" rel="noopener noreferrer">a small look at the angular example file</a>
will leave you scratching your head.</p><p>Further more, you had properties like <code>included</code>, <code>transpiled</code> and <code>mutated</code>. It was kind of a mess really.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="remove-your-files-configuration">Remove your <code>files</code> configuration<a class="hash-link" href="#remove-your-files-configuration" title="Direct link to heading">‚Äã</a></h2><p>No longer! From release 0.21 of Stryker, the files array is <em>optional</em>. Please remove it. Everything should work as expected.
Stryker will fallback to a sane default: your git database. It does this by executing the following command:
<code>git ls-files --others --exclude-standard --cached</code>. The result should be exactly what you want in your sandbox
(given you're using <code>.gitignore</code> files like a boss). If you want to deviate from this for whatever reason,
you can still use the <code>files</code> property with an array of strings.</p><p>Stryker also stopped keeping track of <code>included</code>, <code>transpiled</code> and <code>mutated</code> properties. For <code>mutate</code> please use the
designated <a href="https://github.com/stryker-mutator/stryker-js/tree/master/packages/stryker#source-code-files-to-mutate" target="_blank" rel="noopener noreferrer"><code>mutate</code> top level stryker property</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="breaking-change">Breaking change!<a class="hash-link" href="#breaking-change" title="Direct link to heading">‚Äã</a></h2><p>Unfortunately we couldn't create this feature without some breaking changes. The biggest one is that we've had to remove the old
<code>InputFileDescriptor</code> object way of defining your input file.</p><p>This:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// DEPRECATED</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">files</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">pattern</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'pattern'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">included</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">mutated</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">transpiled</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Is deprecated. If you are using it we strongly suggest to try to remove <code>files</code> entirely.</p><p>We've had to update the API to test runner plugins and transpiler plugins as well. Before, Stryker was keeping track of which file
needed to be included in the test runner or transpiled by the transpiler. This is
no longer the case. To see what this means for you, please consult the readme of the plugins you are using:</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-mocha-runner/README.md" target="_blank" rel="noopener noreferrer">stryker-mocha-runner readme</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-karma-runner/README.md" target="_blank" rel="noopener noreferrer">stryker-karma-runner readme</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-typescript/README.md" target="_blank" rel="noopener noreferrer">stryker-typescript readme</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-webpack-transpiler/README.md" target="_blank" rel="noopener noreferrer">stryker-webpack-transpiler readme</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-next">What's next?<a class="hash-link" href="#whats-next" title="Direct link to heading">‚Äã</a></h2><p>With this major refactoring out of the way we will hone in to our next target: an actual v1 release.
We've opened up <a href="https://github.com/stryker-mutator/stryker-js/issues/654" target="_blank" rel="noopener noreferrer">issue 654</a> to keep track of our
progress on this front. Want to help? Or curious about our plans? Please get in touch.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Get your mutation score badge now!]]></title>
        <id>get-your-mutation-score-badge-now</id>
        <link href="https://stryker-mutator.io/blog/get-your-mutation-score-badge-now"/>
        <updated>2018-02-08T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We're launching our Stryker Dashboard today.]]></summary>
        <content type="html"><![CDATA[<p>We're launching our <a href="https://dashboard.stryker-mutator.io" target="_blank" rel="noopener noreferrer">Stryker Dashboard</a> today.
This will be the home of your test quality in the future.
The first feature? A mutation score badge!</p><p><img loading="lazy" src="https://img.shields.io/badge/mutation%20score-82.3-green.svg" alt="badge green" class="img_E7b_">
<img loading="lazy" src="https://img.shields.io/badge/mutation%20score-72.3-orange.svg" alt="badge orange" class="img_E7b_">
<img loading="lazy" src="https://img.shields.io/badge/mutation%20score-59.6-red.svg" alt="badge red" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="tell-me-how">Tell me how!<a class="hash-link" href="#tell-me-how" title="Direct link to heading">‚Äã</a></h2><p>Take these steps to enable the mutation score badge on your repository.</p><ul><li><strong>Step 1</strong>: Make sure you can run stryker during a <a href="https://travis-ci.org" target="_blank" rel="noopener noreferrer">travis</a> build (we only support travis at the moment).</li><li><strong>Step 2</strong>: Go to <a href="https://dashboard.stryker-mutator.io" target="_blank" rel="noopener noreferrer">https://dashboard.stryker-mutator.io</a> and sign with your github account.</li><li><strong>Step 3</strong>: Flip the switch next to your repository:<svg _ngcontent-c6="" height="50" width="250" xmlns="http://www.w3.org/2000/svg"><g _ngcontent-c6=""><title _ngcontent-c6="">background</title><rect _ngcontent-c6="" x="0" y="0" width="250" height="50" ry="20" rx="20" fill="#fff" r="50" stroke="#E7E8E6" stroke-width="1.5"></rect></g><g _ngcontent-c6=""><title _ngcontent-c6="">Switch</title><text _ngcontent-c6="" text-anchor="start" x="10" y="30">username/reponame</text><rect _ngcontent-c6="" fill="#E77964" height="20" rx="10" ry="50" width="45" x="180" y="15"></rect><circle _ngcontent-c6="" cx="215" cy="25" fill="#b74934" r="13"></circle></g></svg></li><li><strong>Step 4</strong>: Configure your api key in your project. Please make sure you encrypt this variable using the <a href="https://docs.travis-ci.com/user/environment-variables/#Encrypting-environment-variables" target="_blank" rel="noopener noreferrer">encrypted environment variables</a>.
For example:<br><code>$ travis encrypt STRYKER_DASHBOARD_API_KEY=89b99910-04d8-4ffb-9a91-23d709c828b4 --add</code></li><li><strong>Step 5</strong>: Configure the dashboard reporter in your stryker.conf.js file (you will need stryker version 0.19.1 or higher):<br><code>reporter: [ /*...*/ 'dashboard' ]</code></li><li><strong>Step 6</strong>: Force a travis build<br><code>$ git push origin master</code></li></ul><p>Your badge will be available at: <code>https://badge.stryker-mutator.io/github.com/{username}/{repository_name}/{branch}</code>.
(don't forget to add it to your readme file)</p><p>Real life examples of the mutation score badge:</p><ul><li><a href="https://github.com/stryker-mutator/stryker-jest-runner#readme" target="_blank" rel="noopener noreferrer">stryker-mutator/stryker-jest-runner</a> <img loading="lazy" src="https://badge.stryker-mutator.io/github.com/stryker-mutator/stryker-jest-runner/master" alt="badge" class="img_E7b_"></li><li><a href="https://github.com/nicojs/node-install-local#readme" target="_blank" rel="noopener noreferrer">nicojs/node-install-local</a> <img loading="lazy" src="https://badge.stryker-mutator.io/github.com/nicojs/node-install-local/master" alt="badge" class="img_E7b_"></li><li><a href="https://github.com/nicojs/node-sdedit#readme" target="_blank" rel="noopener noreferrer">nicojs/node-sdedit</a> <img loading="lazy" src="https://badge.stryker-mutator.io/github.com/nicojs/node-sdedit/master" alt="badge" class="img_E7b_"></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-next">What's next?<a class="hash-link" href="#whats-next" title="Direct link to heading">‚Äã</a></h2><p>A mutation score badge sure is nice, but what does the future bring?</p><p>First we want to support monorepo style projects (stryker itself is a mono-repo). Every package in your monorepo will have its own badge.
We also want to support a cumulative badge for in your main readme file.</p><p>We would also like to support more build servers and use cases. Are you missing a feature?
Please let us know by opening <a href="https://github.com/stryker-mutator/stryker-dashboard/issues/new" target="_blank" rel="noopener noreferrer">an issue</a>.</p><p>But the dashboard is more than just badges. We truly want to make this the home of your test quality.
You can think of features like:</p><ul><li>Showing your html mutation report.</li><li>Keep your history and show trend lines.</li><li>Informing you how a pull request changes your mutation score.</li><li>Support mutation testing frameworks for other languages.</li></ul><p>We are curious to know what you think.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="dashboard" term="dashboard"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Webpack support is here]]></title>
        <id>webpack-support</id>
        <link href="https://stryker-mutator.io/blog/webpack-support"/>
        <updated>2018-01-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Stryker now supports bundling your code using webpack before running your tests.]]></summary>
        <content type="html"><![CDATA[<p>Stryker now supports bundling your code using webpack before running your tests.
The installation/upgrade scenario's in this blog post can be circumvented by using the <a href="https://stryker-mutator.github.io/quickstart.html" target="_blank" rel="noopener noreferrer">Quickstart</a> if you don't already use Stryker in your project.</p><p><img loading="lazy" src="/assets/images/love-webpack-d7d5f412f4176b65c19769941815b7c0.png" width="280" height="310" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="a-bundle-for-each-mutant">A bundle for each mutant?<a class="hash-link" href="#a-bundle-for-each-mutant" title="Direct link to heading">‚Äã</a></h2><p>Ok. Stryker can mutate your code. We support both JavaScript and TypeScript.
However, the tests of many web projects first need to be bundled before they can be loaded in the browser for testing.
Stryker <a href="/blog/road-to-stryker-1-0/#open-heart-surgery">mutates your source files</a>,
rather than the resulting JS bundle. This means that you still need to tell Stryker how your bundle is created.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="webpack-transpiler">Webpack transpiler<a class="hash-link" href="#webpack-transpiler" title="Direct link to heading">‚Äã</a></h2><p>Let's say we're using <a href="https://webpack.js.org" target="_blank" rel="noopener noreferrer">Webpack</a> to create that bundle. Well sir, let me bring you up-to-speed. We have just
<a href="https://www.npmjs.com/package/stryker-webpack-transpiler" target="_blank" rel="noopener noreferrer">released the stryker-webpack-transpiler</a> and with it, Stryker uses <em>your webpack configuration</em>
to create the testing bundle.</p><p>To use the new Webpack transpiler, start by installing the package:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npm install --save-dev stryker-webpack-transpiler</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And configure it in your stryker.conf.js:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">transpilers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'webpack'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">webpack</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">configFile</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'webpack.config.js'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Is your webpack config file somewhere else? Please specify it here.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">silent</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// This removes the "ProgressPlugin" from your config before feeding it through Stryker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For more info, please see the <a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-webpack-transpiler/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-webpack-transpiler changelog</a>
or take a look at the <a href="https://github.com/stryker-mutator/stryker-js/tree/master/packages/stryker-webpack-transpiler#readme" target="_blank" rel="noopener noreferrer">readme</a></p><p>Enjoy!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="can-i-use">Can I use...<a class="hash-link" href="#can-i-use" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="angular">Angular?<a class="hash-link" href="#angular" title="Direct link to heading">‚Äã</a></h3><p>With this new support for webpack, we now start to support <a href="https://angular.io" target="_blank" rel="noopener noreferrer">Angular</a> projects!
However, you still need to provide a webpack configuration to Stryker. If you're using the <a href="https://npmjs.com/package/@angular/cli" target="_blank" rel="noopener noreferrer">angular cli</a>
you probably don't have a <code>webpack.config.js</code> file lying around. In that case, head on over to <a href="https://github.com/nicojs/angular-stryker-example" target="_blank" rel="noopener noreferrer">nicojs/angular-stryker-example</a>
and take a look. We have tested it on small sized projects (&lt; 100 tests). We would love your feedback if you're using it on larger projects.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="react">React?<a class="hash-link" href="#react" title="Direct link to heading">‚Äã</a></h3><p>Unfortunately, this release does not mean that we now support mutation testing on react projects, as they don't use webpack
for testing. Instead, you're probably using <a href="https://facebook.github.io/jest" target="_blank" rel="noopener noreferrer">Jest</a> which is responsible for loading your tests
in a nodejs environment (using <a href="https://github.com/tmpvar/jsdom" target="_blank" rel="noopener noreferrer">JSDom</a>).</p><p>However, we are working on first class support for any project using Jest, so you won't have to wait long.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-next">What's next?<a class="hash-link" href="#whats-next" title="Direct link to heading">‚Äã</a></h2><p>Webpack support is awesome, but performance does take a big hit if we need to bundle each mutant.
Having the coverage analysis can help a lot with that. As of yet, we don't support coverage analysis
when using a transpiler. However, <a href="https://github.com/stryker-mutator/stryker-js/pull/559" target="_blank" rel="noopener noreferrer">PR 559</a> looks promising
and we'll be merging that into master in about a week or so.</p><p>We will also be working on React support with support for the Jest test runner. You can expect that in the next
couple of weeks as well.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="special-thanks">Special thanks<a class="hash-link" href="#special-thanks" title="Direct link to heading">‚Äã</a></h2><p>Special thanks go out to <a href="https://github.com/Archcry" target="_blank" rel="noopener noreferrer">@Archcry</a>. He created the webpack plugin during his internship.
Give him some love!</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[TypeScript coverage analysis support]]></title>
        <id>typescript-coverage-analysis-support</id>
        <link href="https://stryker-mutator.io/blog/typescript-coverage-analysis-support"/>
        <updated>2018-01-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Let's start this new year strong. Stryker 0.18 adds coverage analysis support for transpilers, starting with the TypeScript transpiler.]]></summary>
        <content type="html"><![CDATA[<p>Let's start this new year strong. Stryker 0.18 adds coverage analysis support for transpilers, starting with the TypeScript transpiler.</p><p>This article first explains the basics of <a href="https://en.wikipedia.org/wiki/Code_coverage" target="_blank" rel="noopener noreferrer">(code) coverage</a> analysis for mutation testing in general, before focussing on the new feature.</p><p>See the original PR for even more details:</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/pull/559" target="_blank" rel="noopener noreferrer">feat(coverage analysis): Support transpiled code #559</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="coverage-analysis">Coverage analysis<a class="hash-link" href="#coverage-analysis" title="Direct link to heading">‚Äã</a></h2><p>It might not sound particularly sexy, but (code) coverage analysis is an important feature of any mutation testing framework.
Mutation testing takes a long time. The most effective way to save time, is to do less work.</p><p>Take this small piece of JavaScript code:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Source code:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">product</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">difference</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// The tests:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">describe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'Math'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">it</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'should give 3 for sum(1, 2)'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">to</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">eq</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">it</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'should give 12 for product(3, 4)'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">product</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">to</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">eq</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="coverage-analysis-all">Coverage analysis: 'all'<a class="hash-link" href="#coverage-analysis-all" title="Direct link to heading">‚Äã</a></h3><p>As you can see the <code>sum</code> and <code>product</code> functions are reasonably well tested, but the the <code>difference</code> function isn't tested at all.</p><p>For example: what would the result be for the mutant that changes <code>a - b</code> to <code>a + b</code>? It doesn't even make sense to test it,
anyone can see it will survive anyway.</p><p>If you set coverage analysis to <code>'all'</code> inside your stryker.conf.js file, this is exactly what happens. Stryker will automatically
collect code coverage results during the initial test run phase<!-- -->*<!-- -->. If a mutant mutates code that is not tested,
it will be marked as <em>'no coverage'</em> (which translates to <em>survived</em> during the score calculation) without ever testing it.
This can safe minutes on larger code bases.</p><ul><li>Coverage analysis is not supported for Jest yet.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="coverage-analysis-pertest">Coverage analysis: 'perTest'<a class="hash-link" href="#coverage-analysis-pertest" title="Direct link to heading">‚Äã</a></h3><p>Nice! We're already saving time by analyzing a simple code coverage result. But if we take a closer look, we see that we can save even more time.</p><p>Take the <code>product</code> function for example: we want to test the mutant that changes <code>a * b</code> to <code>a / b</code>. We see that it is covered by a test, so
we cannot skip the actual testing of this mutant. However, we can save time by only running the one test that covers this mutant.</p><p>If you set coverage analysis to <code>'perTest'</code> inside your stryker.conf.js file, this is exactly what happens. Stryker will automatically
collect code coverage results <em>per test</em> during the initial test run phase. Next, it will select only those tests that actually cover
a mutant to run for that mutant (again, not supported for Jest yet). This might seem like a small improvements,
but in big projects with 100s of tests, it quickly adds up to minutes.</p><p>It is important to realize that this does not influence the quality of the resulting report at all. It simply less work to reach the same conclusion.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="the-challenge-with-transpiled-code">The challenge with transpiled code<a class="hash-link" href="#the-challenge-with-transpiled-code" title="Direct link to heading">‚Äã</a></h2><p>Now that we have a firm understanding of coverage analysis and why it is important, lets dive into the new stuff.
After all, coverage analysis is nothing new for Stryker, it has been there for a long time.
However, it gets more complicated when you add a transpiler to the (delicious) mutation testing mix.</p><p>Please read <a href="/blog/typescript-support/">our blog article on transpiling code</a> if your interested in the details on how transpilers are implemented in Stryker.
For now it is is enough that you understand that Stryker mutates your <em>source</em> code, while running the <em>transpiled</em> code in the test runner.
Any coverage analysis we collect will only tell us about the <em>transpiled</em> covered code, while the mutants only work on your <em>source</em> code.</p><p>Take this small piece of TypeScript code:</p><div class="language-typescript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-typescript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// TypeScript: before transpiling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Math</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// JavaScript: after transpiling (target: es5)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/** @class */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">sum</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Even with this small example, you can already see that the location of <code>a + b</code> in source code vs transpiled code is totally different.
We need to translate the location of a mutant to the actual transpiled location somehow.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="bridging-the-gap">Bridging the gap<a class="hash-link" href="#bridging-the-gap" title="Direct link to heading">‚Äã</a></h2><p>Luckily, any respectable transpiler can produce <a href="https://www.thecssninja.com/javascript/source-mapping" target="_blank" rel="noopener noreferrer">source maps</a>.
They are used by code editors and browsers to debug source code while executing transpiled/minified/bundled code.
And, as of now, this is what is used by Stryker to calculate the transpiled location.</p><p>So if you select coverage analysis 'all' or 'perTest' while transpiling using typescript, the stryker-typescript transpiler
plugin will produce source maps during the initial test run. Stryker will use those source maps to translate the transpiled location
of all mutants.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="show-me-the-numbers">Show me the numbers<a class="hash-link" href="#show-me-the-numbers" title="Direct link to heading">‚Äã</a></h2><p>Unfortunately, we do not have a good performance testing mechanism for Stryker yet (PRs and ideas are welcome!),
but the results for mutation testing on Stryker itself are very promising, shaving off about 6 minutes for single run,
about a 50% performance increase.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-next">What's next?<a class="hash-link" href="#whats-next" title="Direct link to heading">‚Äã</a></h2><p>Next up we'll work on getting this performance increase to all supported transpilers.
We're also working behind the scenes on a transpiler plugin for webpack. Which you can also expect
within the next couple of weeks.</p><p>In the meantime: have fun with this feature. Are you using it? Please let is know what you think! We're always
interested to know what we can improve further.</p><p>Have fun.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Stryker adds Babel support]]></title>
        <id>babel-support</id>
        <link href="https://stryker-mutator.io/blog/babel-support"/>
        <updated>2017-12-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A new Stryker plugin that adds support for Babel projects has just been released!]]></summary>
        <content type="html"><![CDATA[<p>A new Stryker plugin that adds support for Babel projects has just been released!</p><p>The installation/upgrade scenario's in this blog post can be circumvented by using the <a href="https://stryker-mutator.github.io/quickstart.html" target="_blank" rel="noopener noreferrer">Quickstart</a> if you don't already use Stryker in your project.</p><p><img loading="lazy" src="/assets/images/love-babel-7545b3d405752ab62c03befa60c8fc13.png" width="800" height="187" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="new-javascript-mutator">New JavaScript mutator<a class="hash-link" href="#new-javascript-mutator" title="Direct link to heading">‚Äã</a></h2><p>In order to support mutating more recent JavaScript features as well as experimental features, we had to change the way we mutate JavaScript code.
We had already released a separate plugin for mutating TypeScript code, but now we have also released a separate plugin for mutating JavaScript code.
It is called the <a href="https://www.npmjs.com/package/stryker-javascript-mutator" target="_blank" rel="noopener noreferrer">stryker-javascript-mutator</a> and it replaces the current 'ES5' mutator that has always come with Stryker. With this release, the 'ES5' has been deprecated and it will be removed in the future.</p><p>If you use Stryker with JavaScript code on your project, we highly recommend upgrading to the new stryker-javascript-mutator.</p><p>You can do so by installing the package:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npm install --save-dev stryker-javascript-mutator</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And configuring it in your stryker.conf.js:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">mutator</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'javascript'</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you have a plugins section in your config, please consider removing it or add the new styker-javascript-mutator plugin.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="babel-transpiler">Babel transpiler<a class="hash-link" href="#babel-transpiler" title="Direct link to heading">‚Äã</a></h2><p>Even if Stryker can mutate JavaScript code in which new features are used, your environment may not be able to run that code.
Many people use Babel to convert their modern JavaScript to a format that will run environments that do not support these features.
We developed a new plugin for Stryker, the <a href="https://www.npmjs.com/package/stryker-babel-transpiler" target="_blank" rel="noopener noreferrer">stryker-babel-transpiler</a>, during a hackathon sponsored by <a href="https://opensource.infosupport.com" target="_blank" rel="noopener noreferrer">Info Support</a>.
This plugin is capable of transpiling code written using Babel to code that runs in your environment. Give Stryker your babel config and we'll make it work!</p><p>To use the new Babel transpiler, start by installing the package:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">npm install --save-dev stryker-babel-transpiler</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And configure it in your stryker.conf.js:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">transpilers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'babel'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">babelrcFile</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'.babelrc'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Is your .babelrc file somewhere else? Please specify it here.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// If you don't have a .babelrc file you can specify the config directly (Not recommended!):</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// babelConfig: { "presets": ["env"],  "plugins": ["transform-object-rest-spread"] },</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you have a plugins section in your config, please consider removing it or add the new stryker-babel-transpiler plugin.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="webpack-projects">Webpack projects<a class="hash-link" href="#webpack-projects" title="Direct link to heading">‚Äã</a></h2><p>With these new features, <strong>we unfortunately do not yet have support for projects using Webpack (such as React)</strong>.
If you need Webpack to bundle your code in order to run your tests please let us know what your setup is! This will help us with the development of Webpack support.</p><p>Please try it out yourself and let us know what your think!</p>]]></content>
        <author>
            <name>Simon de Lang</name>
            <uri>https://github.com/simondel</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[New HTML reporter]]></title>
        <id>new-html-report</id>
        <link href="https://stryker-mutator.io/blog/new-html-report"/>
        <updated>2017-10-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The Stryker HTML Reporter version 0.10 has a lot of new features, but more importantly: a sexy new look.]]></summary>
        <content type="html"><![CDATA[<p>The Stryker HTML Reporter version 0.10 has a lot of new features, but more importantly: a sexy new look.</p><p>For the entire changelog:</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-html-reporter/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-html-reporter changelog</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="sexy-new-look">Sexy new look<a class="hash-link" href="#sexy-new-look" title="Direct link to heading">‚Äã</a></h2><p>Without further ado:</p><p><img loading="lazy" src="/assets/images/html-report-bootstrap4-7a2db262ba912804cb7081fde4f1046a.png" width="1438" height="800" class="img_E7b_"></p><p>As you might already suspect, we've upgraded to <a href="http://getbootstrap.com/" target="_blank" rel="noopener noreferrer">bootstrap 4 (beta)</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="new-features">New features<a class="hash-link" href="#new-features" title="Direct link to heading">‚Äã</a></h2><p>This new report has a ton of new features:</p><ul><li><strong>Mutant states</strong>. The file report will now show the exact <a href="http://stryker-mutator.github.io/faq.html#q-what-do-all-these-metrics-mean" target="_blank" rel="noopener noreferrer">state of a mutant</a>.
It's also possible to filter out the exact states at the top. It even shows the amount of mutants with that state in parentheses.
This should give you more details as to what happened when testing your application.</li><li><strong>Detailed mutant report</strong>. On the right side (or below on small screens) of a file report, you can now see a detailed table with even more information about the mutants.</li><li><strong>Breadcrumb</strong>. The days of getting lost in your Stryker report belong to the past. Behold: the new breadcrumb in your report!</li></ul><p>Please try it out yourself and let us know what your think!</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[TypeScript support]]></title>
        <id>typescript-support</id>
        <link href="https://stryker-mutator.io/blog/typescript-support"/>
        <updated>2017-10-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Stryker 0.10 marks the biggest change in Stryker history yet, as we now support running mutation testing on TypeScript code.]]></summary>
        <content type="html"><![CDATA[<p>Stryker 0.10 marks the biggest change in Stryker history yet, as we now support running mutation testing on TypeScript code.</p><p>For the entire changelog per package:</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-api/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-api changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-html-reporter/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-html-reporter changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-typescript/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-typescript changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-mocha-runner/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-mocha-runner changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-mocha-framework/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-mocha-framework changelog</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="language-agnostic">Language agnostic<a class="hash-link" href="#language-agnostic" title="Direct link to heading">‚Äã</a></h2><p>Stryker is now language agnostic. This means that you can use Stryker to mutation test <em>any</em> language that
transpiles down to JavaScript (as long as you have the correct plugin for it). TypeScript is the first language that is
fully supported in this way.</p><p>To make this possible we made a number of changes to the Stryker core:</p><ul><li>Changed the Mutator plugin api</li><li>Add a Transpiler plugin api</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="mutator-plugin-api">Mutator plugin api<a class="hash-link" href="#mutator-plugin-api" title="Direct link to heading">‚Äã</a></h3><p>With the previous Mutator plugin, it was possible to mutate a single Abstract Syntax Tree (AST) node. It was a neat little feature,
but was never used outside of the core Stryker package. This plugin was also specific to JavaScript.
As Stryker is now language agnostic, we decided to move the Mutator api to a higher level of abstraction.
A Mutator is now responsible for mutating code written in a specific language, instead of a single JS AST node.</p><p>We moved the existing es5 Mutator code into a new Mutator called <code>'es5'</code>.
It is at this moment still part of the main Stryker npm module, but we have plans to remove it later on.
We also added a <a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-typescript/src/TypescriptMutator.ts" target="_blank" rel="noopener noreferrer"><code>'typescript'</code> mutator</a>
as part of the new stryker-typescript npm module.</p><p>You can find the new <a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-api/src/mutant/Mutator.ts" target="_blank" rel="noopener noreferrer">api definition here</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="transpiler-plugin-api">Transpiler plugin api<a class="hash-link" href="#transpiler-plugin-api" title="Direct link to heading">‚Äã</a></h3><p>With a transpiler plugin, it possible to transform any source code before Stryker runs your tests.
It is also used to transpile each mutant in the same way. This allows maximum freedom when
mutating source code, without having to worry about the resulting JavaScript code.
A side effect is that it will not work with <a href="https://github.com/stryker-mutator/stryker-js/tree/master/packages/stryker#type-of-coverage-analysis" target="_blank" rel="noopener noreferrer">coverage analysis</a> yet,
meaning that Stryker will force coverage analysis to be <code>'off'</code> when a transpiler is used.</p><p>We created the <a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-typescript/src/TypescriptTranspiler.ts" target="_blank" rel="noopener noreferrer"><code>'typescript'</code> transpiler</a>
as part of the new <code>stryker-typescript</code> npm module.</p><p>You can find the new <a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-api/src/transpile/Transpiler.ts" target="_blank" rel="noopener noreferrer">api definition here</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="the-typescript-mutation-testing-framework">The TypeScript mutation testing framework<a class="hash-link" href="#the-typescript-mutation-testing-framework" title="Direct link to heading">‚Äã</a></h2><p><a href="https://github.com/stryker-mutator/stryker-js/pull/376" target="_blank" rel="noopener noreferrer">Original PR</a></p><p>Stryker now supports TypeScript. This means that Stryker is now able to work
directly on your TypeScript code, no need to first transpile it yourself and run Stryker on the transpiled code.
This has the following advantages:</p><ul><li>Far less false-positives,</li><li>Your stryker reports will now show your code, instead of transpiled code.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="theres-a-plugin-for-that">"There's a plugin for that"<a class="hash-link" href="#theres-a-plugin-for-that" title="Direct link to heading">‚Äã</a></h3><p>All Stryker plugins to help you with TypeScript are part of a single npm module: <a href="https://www.npmjs.com/package/stryker-typescript" target="_blank" rel="noopener noreferrer">stryker-typescript</a>.
It contains 3 plugins that work together:</p><ol><li><strong>Config Editor</strong>: A plugin that reads your tsconfig.json file and makes the config available to both the mutator and transpiler.</li><li><strong>Mutator</strong>: A plugin that can mutate TypeScript code. See <a href="https://github.com/stryker-mutator/stryker-js/tree/master/packages/stryker-typescript/test/unit/mutator" target="_blank" rel="noopener noreferrer">our unit tests</a> to know what mutations are support.</li><li><strong>Transpiler</strong>: A plugin that can transpile (mutated) TypeScript code. It uses your tsconfig settings, so the output will be exactly as you'd expect.</li></ol><p>To configure the plugins you need to add this to your stryker.conf.js file:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">mutator</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'typescript'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">transpilers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'typescript'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">tsconfigFile</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'tsconfig.json'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="great-but-what-about-performance">Great! But what about performance?<a class="hash-link" href="#great-but-what-about-performance" title="Direct link to heading">‚Äã</a></h3><p>You might be thinking all this has a negative impact on performance.
After all, we have to transpile the TypeScript code for each mutant we want to test.
When running Stryker on itself we notice that it takes less time than before when we were mutating JavaScript.
This is because transpiling each mutant ensures that no false positives are tested. Results for your project may differ.</p><p>Take the <a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-typescript/src/mutator/BinaryExpressionMutator.ts" target="_blank" rel="noopener noreferrer">BinaryExpressionMutator</a>
for example. It might mutate:</p><div class="language-typescript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-typescript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">'foo'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'bar'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>into:</p><div class="language-typescript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-typescript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">'foo'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'bar'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Although this would be valid in JavaScript, it is <em>invalid</em> in TypeScript.
This means that the mutant will result in a <code>TranspileError</code>. It is <em>not</em> tested and <em>not</em> calculated into your mutation score.
Less work means it can be faster.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-next">What's next?<a class="hash-link" href="#whats-next" title="Direct link to heading">‚Äã</a></h2><p>Next, we want to further improve upon our TypeScript support. For example we want to add support
for <a href="https://github.com/stryker-mutator/stryker-js/tree/master/packages/stryker#type-of-coverage-analysis" target="_blank" rel="noopener noreferrer">coverage analysis</a>
when using a transpiler. We're also thinking about an es6 mutator using Babel under the hood.</p><p>Please let us know what you think.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Stryker 0.8 release]]></title>
        <id>stryker-0-8-0</id>
        <link href="https://stryker-mutator.io/blog/stryker-0-8-0"/>
        <updated>2017-08-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Stryker 0.8 just released with better CI integration and configurable thresholds.]]></summary>
        <content type="html"><![CDATA[<p>Stryker 0.8 just released with better CI integration and configurable thresholds.</p><p>For the entire changelog per package:</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-api/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-api changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-html-reporter/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-html-reporter changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-mocha-runner/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-mocha-runner changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-mocha-framework/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-mocha-framework changelog</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="better-ci-integration">Better CI integration<a class="hash-link" href="#better-ci-integration" title="Direct link to heading">‚Äã</a></h2><p><a href="https://github.com/stryker-mutator/stryker-js/pull/355" target="_blank" rel="noopener noreferrer">Original PR</a></p><p>It's now possible to let your build fail based on your mutation score.
The way to do this is to make sure stryker runs inside your (nightly) build and configure the <code>threshold.break</code> value:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// stryker.conf.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">thresholds</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">break</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">70</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Fail if mutation score &lt; 70</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will break the build if your mutation score falls below 70%.</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2017</span><span class="token plain">-08-11 </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:46:10.190</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ERROR</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> ScoreResultCalculator - Final mutation score </span><span class="token number" style="color:#36acaa">66.97</span><span class="token plain"> under breaking threshold </span><span class="token number" style="color:#36acaa">70</span><span class="token plain">, setting </span><span class="token builtin class-name">exit</span><span class="token plain"> code to </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">failure</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> code ELIFECYCLE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> errno </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> stryker@0.8.0 stryker: </span><span class="token variable" style="color:#36acaa">`</span><span class="token variable function" style="color:#d73a49">node</span><span class="token variable" style="color:#36acaa"> bin/stryker run</span><span class="token variable" style="color:#36acaa">`</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Want to know what a 'mutation score' is? See <a href="/docs/General/faq/">our faq</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="configurable-color-thresholds">Configurable color thresholds<a class="hash-link" href="#configurable-color-thresholds" title="Direct link to heading">‚Äã</a></h2><p><a href="https://github.com/stryker-mutator/stryker-js/pull/355" target="_blank" rel="noopener noreferrer">Original PR</a></p><p>The clear-text and html reporters now honor configured high and low thresholds.
You once again configure it using the <code>thresholds</code> config option:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// stryker.conf.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">thresholds</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">high</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">low</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Configuring these values will color mutation scores above 80% <span class="text-success">green</span>, between 80 and 60% <span class="text-warning">yellow</span> and anything below 60% <span class="text-danger">red</span>.
You can see an example of an html report based on stryker itself <a href="https://stryker-mutator.github.io/stryker-html-reporter" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="bugfixes">Bugfixes<a class="hash-link" href="#bugfixes" title="Direct link to heading">‚Äã</a></h2><p>Bugfixes this release:</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/issues/335" target="_blank" rel="noopener noreferrer">Incorrect relative path for html reporter #355</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/issues/350" target="_blank" rel="noopener noreferrer">Mutation testing in node based environments can generate false warnings #350</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="enjoy">Enjoy!<a class="hash-link" href="#enjoy" title="Direct link to heading">‚Äã</a></h2><p>Enjoy this new release! We're always happy with feedback, negative or positive.</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Road to Stryker 1.0]]></title>
        <id>road-to-stryker-1-0</id>
        <link href="https://stryker-mutator.io/blog/road-to-stryker-1-0"/>
        <updated>2017-07-14T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Stryker is about two years old. During this time we achieved a lot. But it's far from finished. So, what's next? Let's take a glimpse in the future.]]></summary>
        <content type="html"><![CDATA[<p>Stryker is about two years old. During this time we achieved a lot. But it's far from finished. So, what's next? Let's take a glimpse in the future.</p><p>Some of Strykers achievements are:</p><ul><li>Stryker is the first functional mutation testing framework for JavaScript.</li><li>Stryker is test framework and test runner agnostic.</li><li>Stryker boosts performance by running tests in parallel.</li><li>Stryker uses advance coverage analysis to do less work.</li></ul><p>The way Stryker achieves all this, is using a plugin model. Want to use a different test runner?
Create a class that implements the <a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-api/src/test_runner/TestRunner.ts" target="_blank" rel="noopener noreferrer">TestRunner interface</a> and you're done.
However, Stryker does one assumption: your source code can be directly executed in your environment.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="road-to-v1">Road to v1<a class="hash-link" href="#road-to-v1" title="Direct link to heading">‚Äã</a></h2><p>We're very happy with the results so far, but we're far from done. The JavaScript world is constantly evolving.
A couple of examples of modern use cases are:</p><ul><li>A web project written in JSX / <a href="https://facebook.github.io/react/" target="_blank" rel="noopener noreferrer">React</a></li><li>A node project written in <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypesScript</a> and executed using <a href="https://www.npmjs.com/package/ts-node" target="_blank" rel="noopener noreferrer">ts-node</a></li><li>An Angular project generated with the <a href="https://www.npmjs.com/package/@angular/cli" target="_blank" rel="noopener noreferrer">angular cli</a> using <a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">webpack</a> and <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript</a></li><li>A web project using <a href="https://vuejs.org/" target="_blank" rel="noopener noreferrer">VueJS</a></li><li>A web component written in HTML5 using <a href="https://www.polymer-project.org" target="_blank" rel="noopener noreferrer">Polymer</a> and <a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">webpack</a></li></ul><p>In order to stay relevant, these use cases need to be supported in a user friendly way.
Only then are we comfortable with tagging Stryker with a version <em>1</em> tag.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="false-assumption">False assumption<a class="hash-link" href="#false-assumption" title="Direct link to heading">‚Äã</a></h2><p>If you look at the modern use cases, they have something in common:
your code cannot be directly executed in your JavaScript environment. It's not even JavaScript in some cases.
It first needs to be compiled, transpiled and/or bundled, before it can be executed.
For the sake of this article, let's call this step <a href="https://en.wikipedia.org/wiki/Source-to-source_compiler" target="_blank" rel="noopener noreferrer">transpiling</a>.
This makes the assumption that Stryker does a false one: <strong>it should not assume the code you write is the code that gets executed</strong>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="first-attempt">First attempt<a class="hash-link" href="#first-attempt" title="Direct link to heading">‚Äã</a></h2><p>We've had a lot of discussion within the Stryker team on how to support these use cases.
One possibility is to first transpile your code before we run the normal Stryker process on it.</p><p>In the end we decided against this approach, because it comes with a big downside: it will cause a lot of false positives.</p><p>Let's take this piece of TypeScript code as an example:</p><div class="language-typescript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-typescript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">the answer is </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">b</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This might transpile to:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'the answer is '</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When Stryker comes along: it changes <code>'the answer is ' + b</code> to <code>'the answer is ' - b</code>.
This is a valid mutation for JavaScript (if you're curious: the answer is <code>NaN</code>).
However, <code>'the answer is ' - b</code> is <em>not a valid TypeScript expression</em>. It results in the following compile error:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">The left-hand side of an arithmetic operation must be of </span><span class="token builtin class-name">type</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'any'</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">'number'</span><span class="token plain"> or an enum type.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is why we refer to it as a false positive. This mutation shouldn't be tested, because it's a waste of resources and it impacts the mutation score. This is why we shouldn't blindly mutate transpiled code.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="open-heart-surgery">Open heart surgery<a class="hash-link" href="#open-heart-surgery" title="Direct link to heading">‚Äã</a></h2><p>The only solution for supporting these use cases is to transpile the code after it has been mutated. This way, we can make sure only valid mutations are done to your code because
we <em>teach</em> Stryker which mutations are valid and which are invalid and we won't have to worry about code that gets generated during the transpilation.</p><p>However, we don't want to just hard code it all in Stryker, because that would force a dependency on TypeScript, Babel, Webpack, etc.
Instead the transpiling and mutating of the code will be the responsibility of a new plugin type.
Let's call this the <code>transpiler</code> plugin. Examples of these plugins may be (in the future): <code>stryker-typescript-transpiler</code>, <code>stryker-javascript-transpiler</code>, <code>stryker-babel-transpiler</code>, <code>stryker-webpack-transpiler</code></p><p>We've sketched the new workflow for the TypeScript use case on a whiteboard:</p><p><img loading="lazy" alt="transpiler-plugin" src="/assets/images/transpiler-plugin-122cea51d31d7eefb6326cb3367f022a.jpg" width="800" height="325" class="img_E7b_"></p><p>Let's explain what happens in 2 steps:</p><ol><li>Initial test run</li><li>Mutation testing</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-1-initial-test-run">Step 1: Initial test run<a class="hash-link" href="#step-1-initial-test-run" title="Direct link to heading">‚Äã</a></h3><p>Starting from the top left: Stryker starts by reading your Stryker configuration file.
After that, we read in the source files into memory. As you might have noticed, these will be the <em>typescript files</em>.
Next up: it's the new <code>stryker-typescript-transpiler</code> plugin's time to shine. It will transpile the <em>.ts files into </em>.js files
and it will use your "tsconfig.json" configuration for this. The JavaScript output of this process will
be written to disk by Stryker in something that we call a <em>Sandbox</em>. In this Sandbox, Stryker can
start the initial test run as usual.</p><p>Why this complicated setup? After all, if we want to do an initial test run, we might as well just let your build process transpile the code
and run the tests using your test runner. The answer is that we need a baseline of your tests ran by Stryker.
In the next step, Stryker will write mutations to different Sandboxes and run your tests.
We need a control step to make sure your tests pass under normal circumstances. Also: this is where
we measure your code coverage results for every test (if your test framework and test runner support it), which
are used to speed up mutation testing.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-2-mutation-testing">Step 2: Mutation testing<a class="hash-link" href="#step-2-mutation-testing" title="Direct link to heading">‚Äã</a></h3><p>After the initial test run completed successfully, we proceed with the actual mutation testing. The first step here
is about figuring out how we can mutate your source code. This is again done by the <code>stryker-typescript-transpiler</code> plugin.
It will mutate the TypeScript specific <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree" target="_blank" rel="noopener noreferrer">abstract syntax tree</a>, but <em>only
in valid ways</em>. For example: it won't mutate <code>'the answer is ' + 42</code> into <code>'the answer is ' - 42</code>, but it might
mutate it into <code>'Stryker was here' + 42</code>. The output of this process is a list of (in-memory) mutants.</p><p>A mutant will have 2 parts: a TypeScript part and a JavaScript part. Stryker itself only cares about the
JavaScript part, because that is the recipe to mutate the JavaScript code in the sandboxes.
This will allow Stryker to do mutation testing without needing to compile the code for each mutant, which would be disastrous for performance.
The TypeScript part of a mutant can be used to report the mutated code to the end user. So the mutants that will be reported
in the exact code and language that the end user uses.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="plain-javascript-projects">Plain JavaScript projects<a class="hash-link" href="#plain-javascript-projects" title="Direct link to heading">‚Äã</a></h2><p>Back to plain JavaScript projects. What will change for them? The answer is: not much.
We'll basically move the current logic for mutating code to a new <code>stryker-javascript-transpiler</code> plugin.
It will be a pass-through transpiler, meaning that the code you write will be used directly.
Mutating of JavaScript code will move to this plugin as well.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="want-to-help">Want to help?<a class="hash-link" href="#want-to-help" title="Direct link to heading">‚Äã</a></h2><p>Want to help? Great! We're really looking for people interested in helping us reach our goal of supporting all JavaScript based projects!</p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Stryker 0.6.4 released]]></title>
        <id>stryker-0-6-4</id>
        <link href="https://stryker-mutator.io/blog/stryker-0-6-4"/>
        <updated>2017-06-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[This release of Stryker brings a number of new features and improvements. Including a new quickstart and a number of reporter improvements.]]></summary>
        <content type="html"><![CDATA[<p>This release of Stryker brings a number of new features and improvements. Including a new quickstart and a number of reporter improvements.</p><p>For the entire changelog per package:</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-api/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-api changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-mocha-runner/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-mocha-runner changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/blob/master/packages/stryker-mocha-framework/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-mocha-framework changelog</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="new-quickstart">New quickstart<a class="hash-link" href="#new-quickstart" title="Direct link to heading">‚Äã</a></h2><p>A new version of Stryker has been released that comes with a new way to initialize your project: an interactive questionnaire.</p><p>Previously, when you wanted to start using Stryker in your project, you probably used the quickstart on the website.
Instead of evolving the quickstart on the website, we've chosen to build it right into Stryker. Try it out: <code>stryker init</code>.</p><p><img loading="lazy" src="/assets/images/stryker-init-e84922ca2cf73c753c3df9e59535c9cd.gif" width="1144" height="298" class="img_E7b_">
<strong>Note:</strong> This is using the new <a href="https://www.npmjs.com/package/stryker-cli" target="_blank" rel="noopener noreferrer">stryker-cli</a>. More on that in a separate blog article.</p><p>This new 'init' command has some advantages:</p><ul><li>The test runners, test frameworks and reporters are <strong>dynamically queried</strong> on npm.</li><li>You can only select <strong>test frameworks</strong> that are actually <strong>supported by your test runner</strong>.</li><li>The required plugins are <strong>automatically installed</strong>.</li><li>Your Stryker configuration gets <strong>automatically generated</strong>.</li></ul><p><strong>A note for plugin creators</strong>: <code>stryker init</code> will automatically find your plugin as long as you add the correct keywords to your <code>package.json</code> file.
More on that in a separate article or take a look at the PR.</p><p>Please take a look at <a href="https://github.com/stryker-mutator/stryker-js/pull/269" target="_blank" rel="noopener noreferrer">PR #269 for more details</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="new-clear-text-reporter-summary">New clear-text reporter summary<a class="hash-link" href="#new-clear-text-reporter-summary" title="Direct link to heading">‚Äã</a></h2><p>The summary at the end of the clear-text reporter got a new look:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">File</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> score </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> # killed </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> # timeout </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> # survived </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> # no cov </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> # error </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">All</span><span class="token plain"> files  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">69.57</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">          </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Add</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">js</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">82.35</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">14</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">js</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">33.33</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">          </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">|</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This works with a new reporter callback: <code>onScoreCalculated</code>, which provides a tree
of score results per directory/file. This should be used as a single source of truth for all reporters.
We're planning to migrate the stryker-html-reporter to this new way of working.</p><p>Please take a look at <a href="https://github.com/stryker-mutator/stryker-js/pull/309" target="_blank" rel="noopener noreferrer">PR #309 for more details</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="stryker-mocha-framework">Stryker mocha framework<a class="hash-link" href="#stryker-mocha-framework" title="Direct link to heading">‚Äã</a></h2><p>Previously, the stryker-mocha-framework was included in the stryker-mocha-runner package. We've noticed that this was quite confusing.
That's why it's now migrated in it's own package.</p><p><strong>BREAKING CHANGE:</strong> If you are using <code>testRunner: 'mocha', testFramework: 'mocha'</code> right now,
please also install stryker-mocha-framework when upgrading from <a href="mailto:stryker-mocha-runner@0.3.x" target="_blank" rel="noopener noreferrer">stryker-mocha-runner@0.3.x</a> to <a href="mailto:stryker-mocha-runner@0.4.0" target="_blank" rel="noopener noreferrer">stryker-mocha-runner@0.4.0</a>.</p><p>The stryker-mocha-framework currently only supports test runner 'mocha'. You'll get a warning when you configure an other runner.
As configuring a test framework is always optional, you'll still be able to run your mocha tests in karma.</p><p>Please take a look at <a href="https://github.com/stryker-mutator/stryker-js/pull/308" target="_blank" rel="noopener noreferrer">PR #308 for more details</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="new-mutator">New mutator<a class="hash-link" href="#new-mutator" title="Direct link to heading">‚Äã</a></h2><p>Please welcome our latest mutator: <strong>boolean substitution</strong>. It mutates your code in 3 ways:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">!</span><span class="token plain">a </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> a</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Please take a look at <a href="https://github.com/stryker-mutator/stryker-js/pull/294" target="_blank" rel="noopener noreferrer">PR #294 for more details</a></p>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Stryker weekend]]></title>
        <id>stryker-weekend</id>
        <link href="https://stryker-mutator.io/blog/stryker-weekend"/>
        <updated>2017-02-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[During the last weekend of January we spent a weekend with ten students from the HAN University and University of Twente developing valuable features for Stryker!]]></summary>
        <content type="html"><![CDATA[<p>During the last weekend of January we spent a weekend with ten students from the HAN University and University of Twente developing valuable features for Stryker!</p><p>The group was divided into four teams, each with their own goal. Nico Jansen provided a short TypeScript course to get everyone up to speed on developing using TypeScript and after that everyone started working hard on improving Stryker.</p><p><img loading="lazy" src="/assets/images/stryker-weekend-team-photo-4d931058991e133dab7009939d97da8a.jpg" width="1024" height="384" class="img_E7b_"></p><p><a href="https://github.com/Archcry" target="_blank" rel="noopener noreferrer">Sander</a> and <a href="https://github.com/wesselhendriks" target="_blank" rel="noopener noreferrer">Wessel</a> decided to dive deep into the Stryker codebase to introduce <code>async</code>-<code>await</code> in as much of the Stryker repository as possible. They learned that it was not possible to use it everywhere, but nevertheless it cleaned up the codebase nicely!</p><p><a href="https://github.com/Floormidabel" target="_blank" rel="noopener noreferrer">Florian</a> and <a href="https://github.com/stienis96" target="_blank" rel="noopener noreferrer">Stijn</a> decided to introduce another new TypeScript feature. They added the <code>strictNullChecks</code> feature to the Stryker codebase. By adding the feature, they force us to write cleaner code. However, before they could compile the codebase with the feature turned on they had to fix two full pages filled with errors, but that didn't stop Olaf and Stijn!</p><p>Not everyone decided to try out new TypeScript features, some also decided to improve the core functionality of Stryker: mutating code. <a href="https://github.com/JellePetersHAN" target="_blank" rel="noopener noreferrer">Jelle</a>, <a href="https://github.com/MarktHart" target="_blank" rel="noopener noreferrer">Mark</a> and <a href="https://github.com/Wouter1810" target="_blank" rel="noopener noreferrer">Wouter</a> added two new mutators and added tests for one of the existing mutators. Their <code>ArrayDeclarationMutator</code> is capable of creating an empty array whenever you initialize an array with values. For example, the code <code>[1, 2, 'Hello']</code> could be mutated to: <code>[]</code>. They also added the <code>ConstantNumberMutator</code> which will change the declaration of a <code>const</code> to <code>0</code>.</p><p>Last but not least, <a href="https://github.com/korthout" target="_blank" rel="noopener noreferrer">Nico</a>, <a href="https://github.com/OlafHaalstra" target="_blank" rel="noopener noreferrer">Olaf</a>, <a href="https://github.com/DiedB" target="_blank" rel="noopener noreferrer">Diederik</a> and <a href="https://github.com/avassem85" target="_blank" rel="noopener noreferrer">Alex</a> worked on improving the onboarding of new projects by creating the stryker-cli. This tool is capable of integrating Stryker into your project in an interactive way. It's even capable of installing the required packages so you can start using Stryker with minimal effort!</p><p>In the end, the weekend was a success. We all had a blast and we managed to develop more features than we had expected. The students exceeded our expectations with their skill and enthusiasm. This is something we definitely want to do more often!</p><p><img loading="lazy" src="/assets/images/stryker-ascii-a61c20e21781de970631f1f93b1510e0.jpg" width="324" height="356" class="img_E7b_"></p>]]></content>
        <author>
            <name>Simon de Lang</name>
            <uri>https://github.com/simondel</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Introduction to mutation testing]]></title>
        <id>introduction-to-mutation-testing</id>
        <link href="https://stryker-mutator.io/blog/introduction-to-mutation-testing"/>
        <updated>2017-01-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Writing unit tests can be hard. Even for an easy example such as a calculator app.]]></summary>
        <content type="html"><![CDATA[<p>Writing unit tests can be hard. Even for an easy example such as a calculator app.
There are unlimited combinations of inputs for a calculator and you're not going to test every single one. So when are you done testing?</p><p>Say you're building an online casino, users can only enter the casino when they're over 18. So you write the following piece of code to check if someone is allowed to use the website:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">isUserOldEnough</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Easy right? So what inputs do you use to test? Perhaps you would pick your own age (25 for example) if you're over 18 and pick something below 18 (16 or so) to check the other outcome.
You run your code coverage tool on the code and it turns out your code is 100% covered. Great, we're done testing!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="the-code-coverage-problem">The code coverage problem<a class="hash-link" href="#the-code-coverage-problem" title="Direct link to heading">‚Äã</a></h2><p>I used to think that code coverage tells you which code is tested. But I realized I was wrong. Code coverage doesn‚Äôt tell you which code is tested, it only tells you which code is being executed during testing. There is an important difference here. You could write one test which hits 100 lines of code, but that doesn‚Äôt mean that all 100 lines of code work as you would expect. If you would write 10 tests for that piece of code, you may still have the same code coverage. You could even write tests without assertions to boost your code coverage.</p><p>And how do you know that enough is enough? Some teams even have code coverage goals that they have to hit (100% anyone?). As if that would make you write better tests. Sure, it forces you to write tests, but it doesn‚Äôt promise that they‚Äôre good tests. It even encourages bad behavior for some people. During one of my projects as a student, our school decided a little competition would be fun. The team with the highest code coverage at the end of the project would win a small prize. It didn‚Äôt take long to find out that tests could be written without assertions to easily boost their code coverage (of course, I would never do that ;)).</p><p>The only way to know that a test actually <em>works</em> is when it fails when you make a code change.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="mutation-testing">Mutation testing<a class="hash-link" href="#mutation-testing" title="Direct link to heading">‚Äã</a></h2><p>You could go through your code base and make changes to see if certain tests fail. However, this process is time consuming. You're much better off using a mutation testing framework. A mutation testing framework will look through your code to see where it can introduce bugs, which we will call <em>mutants</em> from now on.</p><p>Say you have the following code:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">isUserOldEnough</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A mutation testing framework will find the return statement and decide to change it in a number of ways:</p><div class="language-javascript codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-javascript codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* 1 */</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* 2 */</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* 3 */</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* 4 */</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Each one of those mutants should make a test fail. After the mutants have been found, they are applied one by one and your tests will be executed. If at least one of your tests fail, we say the mutant is <em>killed</em>. If no tests fail, it <em>survived</em>. The better your tests, the less mutants survive. The first mutant would have survived if we had a test with a user aged 16 and 25, since we didn't test the boundary.</p><p>With mutation testing you‚Äôre testing your tests.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="getting-started">Getting started<a class="hash-link" href="#getting-started" title="Direct link to heading">‚Äã</a></h2><p>The best thing to do if you‚Äôre not already using mutation testing is to just try it once. Most languages have a mutation testing framework.
Just take a look on GitHub and you will probably find one for the language you use.</p><p>If you‚Äôre using JavaScript, I would suggest looking at Stryker. It has a great <a href="http://stryker-mutator.github.io/quickstart.html" target="_blank" rel="noopener noreferrer">quickstart page</a> to get you up and running.</p><p>If you've first used a mutation testing framework, you may find that there are a lot of mutations that survive, but that‚Äôs ok!</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="setting-goals">Setting goals<a class="hash-link" href="#setting-goals" title="Direct link to heading">‚Äã</a></h2><p>After you‚Äôve used a mutation framework a couple of times, you may think about setting a mutation testing goal,
just like with your code coverage goal. I sometimes get asked what a good goal is for mutation testing.
It can be a difficult question to answer and I honestly don‚Äôt know what a good goal is for your application.</p><p>Mutation testing frameworks make very different changes depending on the language or even framework you‚Äôre using.
Stryker could assign any value to any variable since it tests JavaScript. That doesn‚Äôt work for a framework like <a href="http://pitest.org/" target="_blank" rel="noopener noreferrer">PIT</a>,
which can be used to mutation test Java code. This means that your score could differ a lot depending on the language and framework you use.
The goal you want to set may also differ depending on the type of application that you're writing. A banking application may require a higher mutation score than some side project.</p><p>I would suggest running a mutation testing framework and set a higher goal than your current score.
I would not advise to make 100% mutation coverage your goal though. The most important thing is that you write good tests and mutation testing can help you achieve that.
So if you‚Äôre going to set any goal, make writing good tests your goal.</p>]]></content>
        <author>
            <name>Simon de Lang</name>
            <uri>https://github.com/simondel</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Happy new Stryker!]]></title>
        <id>happy-new-stryker</id>
        <link href="https://stryker-mutator.io/blog/happy-new-stryker"/>
        <updated>2017-01-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[2017 - The year to invest into test quality]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_mojV" id="2017---the-year-to-invest-into-test-quality">2017 - The year to invest into test quality<a class="hash-link" href="#2017---the-year-to-invest-into-test-quality" title="Direct link to heading">‚Äã</a></h2><p>Up until now, when you were writing unit tests, you were actually investing in <em>code quality</em>. Catching bugs early by continuously
exercising your code with unit tests and keeping your stakeholders happy by presenting them with a code coverage number of 85% or higher.
But does code coverage tell the entire story? Are your tests actually able to detect bugs? How do you test <em>your tests</em>?
That's the problem <a href="https://en.wikipedia.org/wiki/Mutation_testing" target="_blank" rel="noopener noreferrer">mutation testing</a> sets out to solve.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="mutation-testing-in-javascript">Mutation testing in JavaScript<a class="hash-link" href="#mutation-testing-in-javascript" title="Direct link to heading">‚Äã</a></h3><p>Due to JavaScript's dynamic nature, unit testing has become a fundamental tool to bring a higher level of robustness to JavaScript projects.
Your average JavaScript app can easily have around 1,000 unit tests. Ensuring that these are actually <em>effective</em> can be a full-time job. This is where Stryker comes in.
<a href="http://stryker-mutator.github.io/" target="_blank" rel="noopener noreferrer">Stryker Mutator</a> is our approach to providing a comprehensive mutation testing tool for the JavaScript environment.</p><p>We start out by altering your source code ever so slightly (e.g. turning a <code>+</code> into <code>-</code>) and then running your tests to see if they are
resilient to this <em>"mutant"</em>. If they are (and they fail), all is fine - the <em>mutant is dead</em>. If they don't, the <em>mutant</em> survived and you have to fix your test.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="stryker-hackweek-2016">Stryker Hackweek 2016<a class="hash-link" href="#stryker-hackweek-2016" title="Direct link to heading">‚Äã</a></h2><p>Stryker began its life as the thesis project of Simon de Lang. After graduating, his thesis tutor Nico Jansen joined him and continued development in the open on <a href="https://github.com/stryker-mutator/" target="_blank" rel="noopener noreferrer">GitHub</a>.
Since then they had five major releases, improving performance, adding support for the <a href="http://karma-runner.github.io/1.0/index.html" target="_blank" rel="noopener noreferrer">Karma</a> and <a href="http://mochajs.org/" target="_blank" rel="noopener noreferrer">Mocha</a> test runners,
as well as creating a fancy <a href="https://github.com/stryker-mutator/mutation-testing-elements/tree/master/packages/mutation-testing-elements" target="_blank" rel="noopener noreferrer">HTML reporter</a>.</p><p>Up until now, the two of them did all of this in their own time, next to their daytime jobs as software engineers.</p><p>Around came the traditionally slow Christmas time period, allowing a select few of their colleagues at <a href="https://www.infosupport.com/" target="_blank" rel="noopener noreferrer">Info Support</a> to join them for 4 days for the <strong><em>Stryker Hackweek 2016</em></strong>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="achieved-goals">Achieved goals<a class="hash-link" href="#achieved-goals" title="Direct link to heading">‚Äã</a></h3><p>The whole team enjoyed the experience a lot and had good fun extending Stryker and fixing issues.
We mostly concentrated on integrating Stryker with SonarQube, as well as improving the first time usage experience.</p><p>All in all we made <strong>47 commits</strong>, closed <strong>18 issues</strong>, eat <strong>6 kebabs</strong> and <strong>4 subway sandwiches</strong>!
Here's a quick overview of what we did:</p><ul><li>Created a <a href="https://github.com/stryker-mutator/sonar-stryker-plugin" target="_blank" rel="noopener noreferrer">Stryker SonarQube plugin</a>, that turns survived mutants into neat SonarQube issues</li><li>Added <a href="http://stryker-mutator.github.io/blog.html" target="_blank" rel="noopener noreferrer">a blog</a> to the Stryker homepage</li><li>Upgraded the TypeScript compiler in all projects to 2.1</li><li>Released <a href="http://stryker-mutator.github.io/blog/2016-12-30/stryker-0-5-5.html" target="_blank" rel="noopener noreferrer">version 0.5.5 of Stryker</a>, including:<ul><li>A new progress reporter</li><li>Limit the number of test-names to log in the clear text reporter</li><li>Support to <a href="https://github.com/stryker-mutator/stryker-js/issues/90" target="_blank" rel="noopener noreferrer">exclude online files from globbing</a></li></ul></li><li>Support for <a href="https://github.com/stryker-mutator/stryker-js/tree/master/packages/stryker-karma-runner/issues/7" target="_blank" rel="noopener noreferrer">karma config parsing in the stryker-karma-runner</a></li><li>Improved documentation for first time-users</li><li>A plan for a series of blog articles</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="the-hackweek-team">The Hackweek Team<a class="hash-link" href="#the-hackweek-team" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="The Hackweek Team (f.l.t.r.): Alex van Assem, Nico Jansen, Simon de Lang, Philipp Weissenbacher, Jasper Catthoor, Wannes Van Regenmortel" src="/assets/images/stryker-team-photo-33b4c62520d53cc895e3bb1ec2ba9b25.jpg" width="553" height="485" class="img_E7b_"></p><p>The Stryker Hackweek team consisted of (from left to right):</p><ul><li>Alex van Assem: Agile coach and TypeScript hacker</li><li>Nico Jansen: T-shaped software engineer</li><li>Simon de Lang: Software engineer and TypeScript aficionado</li><li>Philipp Weissenbacher: Software/BI engineer</li><li>Jasper Catthoor: Software engineer (via Info Support Belgium)</li><li>Wannes Van Regenmortel: Software engineer (via Info Support Belgium)</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="want-to-try-out-stryker-begin-with-the-handy-quick-start-guide">Want to try out Stryker? Begin with the handy <a href="http://stryker-mutator.github.io/quickstart.html" target="_blank" rel="noopener noreferrer">quick start guide</a>.<a class="hash-link" href="#want-to-try-out-stryker-begin-with-the-handy-quick-start-guide" title="Direct link to heading">‚Äã</a></h4>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Stryker 0.5.5 released!]]></title>
        <id>stryker-0-5-5</id>
        <link href="https://stryker-mutator.io/blog/stryker-0-5-5"/>
        <updated>2016-12-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The full changelog can be found on GitHub. In this post we'll dive into a couple of new features.]]></summary>
        <content type="html"><![CDATA[<p>The full changelog can be found on <a href="https://github.com/stryker-mutator/stryker-js/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">GitHub</a>. In this post we'll dive into a couple of new features.</p><p>To upgrade to Stryker 0.5.5, simply run: <code>npm i --save-dev stryker-api@0.4.2 stryker@0.5.5</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="new-progress-reporter">New progress reporter<a class="hash-link" href="#new-progress-reporter" title="Direct link to heading">‚Äã</a></h3><p>The <code>progress</code> reporter got a fresh new look! It will now display a progress bar, the percentage of doneness and an ETC (Estimated Time of Completion).
Gone are the days of guessing how far Stryker has come and how long it'll need!
You can use it by setting reporter to <code>'progress'</code> in your <code>stryker.conf.js</code>.</p><p><strong>The new progress reporter looks like this:</strong>
<img loading="lazy" alt="new progress reporter image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABH4AAAAbCAMAAAA9HbjRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAAAAAKwA6ACsAADoAACsAKzo6AAAATAArbCsATABmADpmAEwAAGYAAGwrAGY6AGwrK0wrbABMiStMiStspUxMiUxspWxsiQCQAAC2ADqQAADbAAD/AGa2AGyJbEyJpUyJwGyJwGylwJAAAJA6ALYAAIlMALZmAKVsK4lsbKVsTNsAAP8AAKWlbJDbALb/ANuQAP+2AMCJTMClbNvbANv/AP/bAP//AImJiYnAiYnApaXApYnAwKXAwMDAicDApcDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPiYTY4AAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAAJd0lEQVR4Xu2aDVvbNhDHA80GzUq3pdkWCN0yIIU1GbRkHXuBlu//qXb/u9OdJDsvTgiwPPo9bSzL0ul8kv6WZVqFQqFQKBQKhUKhUCgUCoVCoVAoFAqFQqFQKBQem979tabWo4md/bv7++kLPdkedk7u7+/f6Uk9VOTzKwoWfiK62fnDsHcbnGkS8P5AE5Q8PsShc3ycJVIOKa/m3h++l9uTiabqOKCLj+LGWqzt4dHNR00tz+bCklvev4PRYdLY/l3adJzTu7/Q1Eyq1Y1Gdoz9f19rattIQ7V3S30j3dOlAwWoN/3q5Lpy//t3iB2KYEj0+MjF0blf0rIq81I46RfUSwdULxSIGuyy/nFhvliplchPX1ODoDqWiID8EPkw8UbDoyk0WuP8UrQnY03VAfkhFrsxXNONdVneQ2f307mmjm4+aGoxXmtOo2FIrEpief+OxiuN+7ixvOm6nDnMKdzIjhHd+pZRF48udUiX+gMiM7ymfzukQDF7t6IoPgg0QHu3JAw7P0fisH/3XipX10tYUaklI6yyPOAkaMgb0g/8qqkVyY+zjvyYz9boZhZ7C+TH3aBf9MeG3FjM8h46kZA0YCn50SGxMonl7vTXd63u+5O4sbzpupw5zCncyI7ht75t1MQDYiOCM5y+GNLq5yIf9ioSVfmhCnxq7P3zWrWrMnUkP3urC8LiAe99/oGK8GuZO5bUemj5MZ+t0SeRHw8d2KAbi1neQ2eD8iNDYnUSy93pm+vWL9+dXIj/JKS6mEcTSFKu52D9Kbepl3ZOLigVD/uoupVGgjKqdqLqWEDyG0QVv/VtI+9kAs97zt67/fKalqXTl7YlI+zdSpAq8hMuJOiwrE4d1ir+0d4BKiwWcDKJmnLeo8JeKwD52T0+3k12enL5SbaDtNTsAS4+e6N1835CHLRap9AQFpJJezSZjOh4istjeu1CEaQ9x7I4MVd+iHxyV904HbfJTJtSOIo944By0HK4VONG8Nmro9KE3xlDThMPA0c3wkGrQ7/Y++n8+c3Nn19/ohzL4lJIXOLn7ceoFjGzUR0SEd5G++rmhgTMEtaE52SWu9OXf3//Oz1jxX+s46xAl4azjGmvorcZFuG0ErvOx71V1zJR7dyOV4fBbAFpeLy3DY9HYOcE840l6De5yF0Swe8jOPogkABVjRHaX5CYNLrY9OvBVFxN0xZwEho0I9noIqtlkPzsBtmpLnok0TmmHxTqkEwt3vsRn73RqvOtMSYtEckPzeM2KdIIJ0iEq1EO/vMZpGDh3o+GDvAQrbpxCoUYkViwdbZsjCBL1IxdqnNDfW5Bb8wOC5KVaeKhE61jWF06EJ8/vqXcDuTlivKOQiLIz3KrHx0SjhkkGTpnq5awJiyHSCzT06X3F2lPnfwwWY4Uk48kNBF4tmQzRAuTTfrl4WPjNbdj1flUalTRW8fGKo+AZ5Jg39YjiTTDORQwume5mD1qJKKAZ4OsLiVAteodjdBst5/ugy1571gPhLEGD9A+d9P+HYqHWkZ/YOozU34G2JLukwZxYkn5iRolMudlKZHIDybt+FRmsOiOHiznFLMcZ5xoIj/DEKPUjVNIDOyMWA2DU4AbBXap6ob5zMAOO4zrXqaph0JVfs53P31oXZ23LrETDSWgNPLPmslPGBKOGaQ2YOLME9aE5RCJZZIfWA4bnKnY8AtRkqN3LEOWcqNahhbW7zg8esP3mNyOVy+rH0Feh778RAHji/RUG6Zfs/A6AqJBIAFaJD+i9QHe2dbPZWZfS2vA+YybQV9Of2Q50FpGP/q4Pkt+8MZF0DKpQ2dLyo83Knmx8zRPZa7zfBX50enOCyOd0iI/lkNvOuBA1k4N5MfvOHXDWhdnwpIMqPX4UsUN91neuSJR8jJNPRSq8nOGLNIDegkCB1AFKddEfnxIGMEgtaG3ExLehF0iEss6mGvlB58eMkHSO15OfryZMMRzO16d94W8QoLHe9vweCiSIc98DvJw+ubzq2SzxVY/PggkQPI9PkMiLMRmNPJswwUoXf2wA94MdVNcS+kPOnO+t6v8QHWIZvLD2NBKYkCIANXID521eT/G5CfkyEKEaCg/8ZIncWOO/GjT8aWKG+bzARKww3tAuOxlGnvIzJEfvbCa/GRDAgSDrjEry4/cjxaQ7yC18iPn5Iac1sqPxYZJLBNybtV3kk9vGXrrNEuYeS9Ej5lg39bD46EEPUBY0DV063QICx5GpD8ZBBKgbIEgRL2QfDCXvYKwjRNKqT8acPkaEPal8ThJazH9AS2AVF5myY+dslAtufXM2DMscV7ADOdZzj8mP5Q61ckbNEBzTBKwzbL8zkpX3nCZ1A02CNkQ4XEXVFFAdCl3wyqwK7ATHI/KNPVQmC0/fEpICegC5/DPYvlJhwQTDLrGhIQ3MVN+VDnoQE9Vmlk41RjzcB7GOYTeMaYJxqKcpvITCttfsQEZuLkdqx4CWYvHe9uodLIuYPAehWtYjVC/JPGVSNbID9Wgcsnf/Vh/AV20SI/unHAPqmAFm7qyigMemmHX0loMvnwdqv7Mkh/Tp0MqvOyXL+ALumTFJYS9Wt4Ajub+aDTWdJjEmtPmhQVxQIsQer3h9EI3krmdumHyw2LDomaMcY1WPtGl3A3zGXtI9P4VqY6Xaeqhgg1fIZOfI2zDgLeQhKsPsm9zKR/DvNbsRpORR5jBivx4EwvlZ/oCT/WLHp/iL6ypCRzSHPl0jocfZJDHIy6n8hMKS2m6xEcZR5kdrx5tpFaIb327yDvZRjfCQZew1Kd+CbmCFpKIsRKEAGG3JF6Z6MOKshBwCa4+YnCUrKh3wryvjDUqI3atlsF/9zMgfenLBs9uTUJSUJ3B8XGnP19+Yp+lUXc+wC8pPKVJe8ZtTFqXH/1jZy4Tvn2LMkgWJajWiGstdoPvmHhX44bJD8Qj/xNrbN+gcb9UccN8HttdhEtWpomHEbufeD9GP6afufxIFmTmLR35L6Iv6XjEwqO1iFmNglR+zGBVfqyJmfLzTJDH3AzP4lvfLlbqivQF4CEJ20qPEvB5A/wReSZuCPxXQckeEvEkHm6u0ZXG/IYR+Un/osR40hGxUVbrCn8leVjCrtL/fYA34pm4IbD8tGW32ngSDzfX6GpjfsPwq0S9+pDD6R9Wbwm8aF6pK7LV7wPhnyo3H/Cae3+KXn4mbjj8yhWrz5N4uLlGVx/zhUKhUCgUCoVCoVAoFAqFQqFQKMyl1foPN8FN75ZeL7kAAAAASUVORK5CYII=" width="1150" height="27" class="img_E7b_"></p><p>Do you still want to use the <strong>old</strong> reporter? It's still there! Just use the repoter <code>'dots'</code> in your configuration.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="clear-text-reporter-updated">Clear text reporter updated<a class="hash-link" href="#clear-text-reporter-updated" title="Direct link to heading">‚Äã</a></h3><p>The clear text reporter no longer prints every single test that was executed for a mutant. It now only prints the first three tests and mentions how many more tests were executed.
If desired, you can overwrite this behavior by adding the following piece of config to your <code>stryker.conf.js</code>:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">clearTextReporter</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">maxTestsToLog</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Don't want to know which tests were executed? Feel free to set the <code>maxTestsToLog</code> property to 0.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="karma-config-parsing">Karma config parsing<a class="hash-link" href="#karma-config-parsing" title="Direct link to heading">‚Äã</a></h3><p>In addition to this release of Stryker, we've also added support for an often requested feature: reading your existing <code>karma.conf.js</code> in the <a href="https://github.com/stryker-mutator/stryker-js/tree/master/packages/stryker-karma-runner" target="_blank" rel="noopener noreferrer">stryker-karma-runner</a>!
Starting with version 0.3.3, you can add the location of your karma config file to <code>Stryker.conf.js</code> and have it automatically be picked up by the plugin. This reduces code duplication between these two files.</p><p>This is what your new <code>stryker.conf.js</code> might look like:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Stryker.conf.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">testRunner</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'karma'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">testFramework</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'jasmine'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;-- add your testFramework here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">karmaConfigFile</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'karma.conf.js'</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;-- add your karma.conf.js file here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">mutate</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">'src/**/*.js'</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;-- mark files for mutation here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can see, there is no need to specify which files Stryker should use! You only have to specify which files you want to mutate.
A more detailed explanation of this feature can be found in the <a href="https://github.com/stryker-mutator/stryker-js/tree/master/packages/stryker-karma-runner/blob/master/README.md#configuring" target="_blank" rel="noopener noreferrer">stryker-karma-runner README.md</a>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="we-hope-you-enjoy-this-new-version-of-stryker-wed-love-to-hear-your-feedback-on-slack-andor-twitter-with-hashtag-strykermutator">We hope you enjoy this new version of Stryker! We'd love to hear your feedback on <a href="https://join.slack.com/t/stryker-mutator/shared_invite/enQtOTUyMTYyNTg1NDQ0LTU4ODNmZDlmN2I3MmEyMTVhYjZlYmJkOThlNTY3NTM1M2QxYmM5YTM3ODQxYmJjY2YyYzllM2RkMmM1NjNjZjM" target="_blank" rel="noopener noreferrer">Slack</a> and/or Twitter (with hashtag #strykermutator)!<a class="hash-link" href="#we-hope-you-enjoy-this-new-version-of-stryker-wed-love-to-hear-your-feedback-on-slack-andor-twitter-with-hashtag-strykermutator" title="Direct link to heading">‚Äã</a></h4>]]></content>
        <author>
            <name>Nico Jansen</name>
            <uri>https://github.com/nicojs</uri>
        </author>
        <category label="stryker" term="stryker"/>
    </entry>
</feed>