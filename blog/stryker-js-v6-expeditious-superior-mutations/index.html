<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Stryker Mutator RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Stryker Mutator Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JN49KF9BV1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JN49KF9BV1",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Stryker Mutator" href="/opensearch.xml"><title data-rh="true">StrykerJS v6.0: Expeditious Superior Mutations | Stryker Mutator</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://stryker-mutator.io/images/strykerman.png"><meta data-rh="true" name="twitter:image" content="https://stryker-mutator.io/images/strykerman.png"><meta data-rh="true" property="og:url" content="https://stryker-mutator.io/blog/stryker-js-v6-expeditious-superior-mutations"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="mutation testing, JavaScript, TypeScript, C#, .NET, Scala, testing, testing tools, software"><meta data-rh="true" property="og:title" content="StrykerJS v6.0: Expeditious Superior Mutations | Stryker Mutator"><meta data-rh="true" name="description" content="We&#x27;re excited to announce the next major release of the StrykerJS: StrykerJS 6.0."><meta data-rh="true" property="og:description" content="We&#x27;re excited to announce the next major release of the StrykerJS: StrykerJS 6.0."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-05-04T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/nicojs"><meta data-rh="true" property="article:tag" content="stryker"><link data-rh="true" rel="icon" href="/images/stryker.svg"><link data-rh="true" rel="canonical" href="https://stryker-mutator.io/blog/stryker-js-v6-expeditious-superior-mutations"><link data-rh="true" rel="alternate" href="https://stryker-mutator.io/blog/stryker-js-v6-expeditious-superior-mutations" hreflang="en"><link data-rh="true" rel="alternate" href="https://stryker-mutator.io/blog/stryker-js-v6-expeditious-superior-mutations" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QF3A1J09N2-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.cc12ce04.css">
<link rel="preload" href="/assets/js/runtime~main.0406999f.js" as="script">
<link rel="preload" href="/assets/js/main.8e74c90d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:var(--ifm-navbar-background-color, #fff);color:var(--ifm-navbar-link-color, #000)" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">üìΩÔ∏è <a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/watch?v=sGwfwtkaDfk">Watch the video "How to test your tests in .NET" from <i>Nick Chapsas</i></a></div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/stryker.svg" alt="Stryker Mutator Logo" class="themedImage_W2Cr themedImage--light_TfLj" height="32" width="32"><img src="/images/stryker.svg" alt="Stryker Mutator Logo" class="themedImage_W2Cr themedImage--dark_oUvU" height="32" width="32"></div><b class="navbar__title text--truncate">Stryker Mutator</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/stryker-js/introduction">For JavaScript</a><a class="navbar__item navbar__link" href="/docs/stryker-net/introduction">For C#</a><a class="navbar__item navbar__link" href="/docs/stryker4s/getting-started">For Scala</a><a class="navbar__item navbar__link" href="/docs/General/example">An example</a></div><div class="navbar__items navbar__items--right"><a href="https://dashboard.stryker-mutator.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link header-github-link" target="_self" aria-label="GitHub repository dropdown"></a><ul class="dropdown__menu"><li><a href="https://github.com/stryker-mutator/stryker-js" target="_blank" rel="noopener noreferrer" class="dropdown__link">StrykerJS (JS &amp; TS)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/stryker-mutator/stryker-net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stryker.NET (C#)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/stryker-mutator/stryker4s" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stryker4s (Scala)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/stryker-mutator/mutation-testing-elements" target="_blank" rel="noopener noreferrer" class="dropdown__link">Mutation Testing Elements<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/stryker-mutator/stryker-mutator.github.io" target="_blank" rel="noopener noreferrer" class="dropdown__link">This website<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_TMXw thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_V4zb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_uHd5 clean-list"><li class="sidebarItem_spIe"><a aria-current="page" class="sidebarItemLink_eqrF sidebarItemLinkActive_XZSJ" href="/blog/stryker-js-v6-expeditious-superior-mutations">StrykerJS v6.0: Expeditious Superior Mutations</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/announcing-stryker-js-v6.0-beta">Announcing StrykerJS v6.0 Beta</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/2021-30-10-announcing-stryker-net-1.md">Announcing Stryker.NET 1.0</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/stryker4s-40-minutes-to-40-seconds">Stryker4s: from 40 minutes to 40 seconds</a></li><li class="sidebarItem_spIe"><a class="sidebarItemLink_eqrF" href="/blog/announcing-stryker-js-5-brave-new-dimension.md">Announcing StrykerJS 5.0 - Brave new Dimension</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_rzP5" itemprop="headline">StrykerJS v6.0: Expeditious Superior Mutations</h1><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-05-04T00:00:00.000Z" itemprop="datePublished">May 4, 2022</time> ¬∑ <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://github.com/nicojs" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars3.githubusercontent.com/u/1828233?s=400&amp;u=fec18ad3776aaafec54c49bbd7173a841ae7ea59&amp;v=4" alt="Nico Jansen"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/nicojs" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nico Jansen</span></a></div><small class="avatar__subtitle" itemprop="description">Stryker Team</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>We&#x27;re excited to announce the next major release of the StrykerJS: StrykerJS 6.0.</p><p>StrykerJS now supports <em>native ECMAScript modules</em>, or ESM for short. To make this work, we changed some parts of StrykerJS, which includes small (yet technically breaking) changes. As a bonus, we&#x27;ve improved performance considerably in some use cases! We&#x27;re curious to know what you think. Why not try it today?</p><p>To update to the latest version of StrykerJS, install <code>@latest</code> as follows:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/core@latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># OR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --dev @stryker-mutator/core@latest</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Don&#x27;t forget to update Stryker plugins. For example, when using the mocha runner:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save-dev @stryker-mutator/mocha-runner@latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># OR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --dev @stryker-mutator/mocha-runner@latest</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you&#x27;re new to mutation testing, it&#x27;s a way to measure your tests&#x27; effectiveness. Please take a look at our RoboBar ü§ñüç∑ example and see how even 100% code coverage doesn&#x27;t tell the whole story. Mutation testing is the only way to know if your tests are any good.</p><p>Since the 6.0.0 beta release, we&#x27;ve implemented a new warning message to inform users about <code>--ignoreStatic</code> and improved the performance and progress reporting; you can read about that in the <a href="#-static-mutant-improvements">üóø Static mutant improvements</a> paragraph.</p><p>Now, let&#x27;s dive into the changes! üèä‚Äç‚ôÇÔ∏è</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-esm-support">üì¶ ESM support<a class="hash-link" href="#-esm-support" title="Direct link to heading">‚Äã</a></h2><p>As stated in the introduction, StrykerJS v6 brings official support for ESM projects.</p><p>With ESM, you can use <code>import</code> and <code>export</code> statements. NodeJS has supported ESM since version 12. Browsers have gradually been adding support since 2017, and all major browsers support it by now. I recommend watching <a href="https://www.youtube.com/watch?v=Zyoztl_7l7g" target="_blank" rel="noopener noreferrer">Gil Tayar&#x27;s introduction to ESM</a> when you want to brush up on the ESM basics.</p><p>The <code>@stryker-mutator/karma-runner</code> and <code>@stryker-mutator/jest-runner</code> already worked with ESM (for Jest, you will need to configure the <a href="/docs/stryker-js/jest-runner#ecmascript-modules"><code>--experimental-vm-modules</code></a> flag), but our node-based runners did not. This changes with version 6.</p><p>You configure it like this:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can see <em>no configuration change</em> is needed. Updating StrykerJS is enough üòÅ.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-hot-reload">‚è© Hot reload<a class="hash-link" href="#-hot-reload" title="Direct link to heading">‚Äã</a></h2><p>StrykerJS will run your tests many, many times. Consider that each mutant is tested in isolation, so it runs your tests as many times as there are (covered) mutants. A way to save time is only to load your tests once (using <code>import</code>/<code>require</code>) and then run them multiple times in quick succession while activating a different mutant each time. We call this feature &quot;hot reload&quot;, and it is generally the fastest way to implement mutation testing.</p><p>Hot reloading is only possible because Stryker uses mutant schemata. With mutant schemata (or mutation switching), Stryker inserts all mutants into your source code yet only activates them one at a time.</p><p>It looks something like this:</p><div class="language-ts codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-ts codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// üëæ BlockStatement mutator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b </span><span class="token comment" style="color:#999988;font-style:italic">// üëΩ ArithmeticExpression mutator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When older versions of Stryker are testing mutants inside a worker process, it looks like this:</p><p>(old process)</p><ol><li>Activate the mutant</li><li><em>Load all files</em>, using <code>require</code></li><li>Run the tests with the test runner of choice.</li><li><em>Unload all files</em>, using <a href="https://nodejs.org/api/modules.html#requirecache" target="_blank" rel="noopener noreferrer"><code>delete require.cache[&#x27;path/to/cjs/module&#x27;]</code></a> to prepare for the next run.</li><li>Report the result</li></ol><p>As you can see, <em>all files are loaded and unloaded</em> for each mutant run. This way of reloading <a href="https://github.com/nodejs/tooling/issues/51" target="_blank" rel="noopener noreferrer">won&#x27;t ever work with native ESM</a>, as there is simply no <code>cache</code> we can <code>delete</code> the loaded files from ü§∑‚Äç‚ôÄÔ∏è.</p><p>The reloading is also expensive. Think about it: if your project contains 1k files, with a total of 10k mutants, it could mean a total of <em>ten million file IO actions</em>. That&#x27;s why mutation testing with StrykerJS would slow down considerably when the size of your project grows.</p><p>As of v6, Node-based test runners use hot reload. The process is now:</p><p>(new process using hot reload)</p><ol><li>(once) Load the code using <code>import</code></li><li>Activate the mutant</li><li>Run the tests with the test runner of choice.</li><li>Report the result</li></ol><p>The result is a significant performance improvement üêá. You can clearly see the difference when running StrykerJS on Stryker&#x27;s core itself:</p><table><thead><tr><th>Old</th></tr></thead><tbody><tr><td><img loading="lazy" alt="stryker-v5" src="/assets/images/stryker-v5-29b8e2d9e551ba70c73297c30cb55ad5.gif" width="1257" height="368" class="img_E7b_"></td></tr></tbody></table><table><thead><tr><th>New <!-- -->*</th></tr></thead><tbody><tr><td><img loading="lazy" alt="stryker-v6" src="/assets/images/stryker-v6-73098790d1813d33a0351986d6755a76.gif" width="1257" height="368" class="img_E7b_"></td></tr></tbody></table><p>*<!-- --> using <code>--ignoreStatic</code></p><p>That&#x27;s a whopping 70% performance improvement ü§Ø.</p><p>Hot reload is supported in <code>@stryker-mutator/mocha-runner</code> and <code>@stryker-mutator/jasmine-runner</code>. Please note that this feature is always on from version 6 onward, even for plain old CommonJS style projects! It does require a higher version of mocha or jasmine, respectively, see <a href="#-breaking-changes">breaking changes</a>. Support for <code>@stryker-mutator/cucumber-runner</code> is planned for version 8 of <code>@cucumber/cucumber</code> release.</p><p>Unfortunately, we&#x27;re not supporting hot reload for the <code>@stryker-mutator/jest-runner</code> or <code>@stryker-mutator/karma-runner</code> yet; please up-vote <a href="https://github.com/stryker-mutator/stryker-js/issues/3455" target="_blank" rel="noopener noreferrer">#3455</a> or <a href="https://github.com/stryker-mutator/stryker-js/issues/3454" target="_blank" rel="noopener noreferrer">#3454</a> respectively if you want to see it happen üíô.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-static-mutant-improvements">üóø Static mutant improvements<a class="hash-link" href="#-static-mutant-improvements" title="Direct link to heading">‚Äã</a></h2><p>Yes, indeed, hot reload sounds incredible! But what about <em>static mutants</em>?</p><p>A static mutant is a mutant that is executed once on <em>file load</em> rather than during <em>test run-time</em>.</p><p>Take this small example:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// greet.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> hi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;üëã&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">greet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">hi</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// greet.spec.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> greet </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./greet.js&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">it</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;should greet me&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">greet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;me&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toBe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;üëã me&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you run StrykerJS on this code, it will create a mutant for the <code>hi</code> constant:</p><div class="language-diff codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-diff codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">const hi = &#x27;üëã&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">const hi = &#x27;&#x27;;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you consider mutant schemata, the actual code produced by StrykerJS looks more like this:</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> hi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> global</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">activeMutant</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;üëã&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This mutant is called a <em>static mutant</em>. It is executed on file-load rather than during test run-time. For more details on static mutants, see <a href="/docs/mutation-testing-elements/static-mutants">the new documentation on them</a>.</p><p>Now, let&#x27;s factor in <a href="#-hot-reload">hot reload</a>, where worker processes load the files once and reuse them across multiple mutant runs. This would mean that the mutant <em>survives no matter how good your tests are</em>. We can&#x27;t have that üò™!</p><p>That&#x27;s why StrykerJS will detect static mutants and <em>still follow the old process</em> to test them. However, instead of reloading the files (remember, this won&#x27;t work for ESM files), it will create a shiny new worker process for every static mutant run (for NodeJS-based test runners).</p><p>Stryker will also sort mutants, testing static mutants after non-static mutants. This saves some time since this means fewer worker process restarts.</p><p>For example, imagine mutants A, B, and C, where B is a static mutant. To keep it simple, we will be running with concurrency 1, meaning only one worker exists at any one time.</p><ol><li>Mutant A: we start a worker process and test it.</li><li>Mutant B: we need to recreate the worker to test the static mutant</li><li>Mutant C: we need to recreate the worker <em>again</em>, because the previous mutant was static, which polluted the worker with a non-erasable mutant.</li></ol><p>Basic math tells us a worker is started three times in this example. Now imagine this example again, but with the mutants sorted: A, C, and B.</p><ol><li>Mutant A: we start a worker process and test it.</li><li>Mutant C: we reuse the worker and test it.</li><li>Mutant B: we need to recreate the worker to test the static mutant</li></ol><p>As you can see, sorting the mutants just saved us from having to restart the worker once. This performance gain might sound insignificant, but with 1000s of mutants, it can save 100s of restarts, well worth the (small) effort.</p><p>One final note about static mutants: the progress-reporter will now accurately report their progress. It does this by assigning a <em>weight</em> to each mutant to be tested, which it calculates using the performance measurements of the dry run. This means more smooth progress and a more realistic ETC estimate.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-ignore-static-mutants">üñê Ignore static mutants<a class="hash-link" href="#-ignore-static-mutants" title="Direct link to heading">‚Äã</a></h2><p>Testing static mutants can be very expensive. As explained in the previous paragraph, they need a fresh worker process for each run (for Node-based test runners). On top of that, Stryker cannot determine test coverage for them. So the only thing it can do is run all tests üêå.</p><p>Also, they are generally less interesting for you to spend your time on since they include constant strings, numbers, etc.</p><p>You might even want to ignore them entirely! This is where <code>--ignoreStatic</code> comes in. With <code>--ignoreStatic</code> static mutants are ... well ignored. Of course, you can still see them in your HTML report, but they won&#x27;t count towards your mutation score.</p><figure><img loading="lazy" src="/images/blogs/ignored-static-mutant.png" alt="Ignored static mutant" class="img_E7b_"><figcaption>An ignored static mutant</figcaption></figure><p>Ignoring static mutants improves performance, but your mileage may vary. It depends on the number of static mutants and the size of your project. For running StrykerJS on Stryker&#x27;s core itself, we <a href="https://github.com/stryker-mutator/stryker-js/issues/3282#issuecomment-980110861" target="_blank" rel="noopener noreferrer">saw a whopping 50% performance improvement by ignoring 6% of our mutants (the static mutants) ü§Ø</a>.</p><p>Even though it is a performance improvement, the default value for<code>&quot;ignoreStatic&quot;</code> is <code>false</code>, meaning Stryker won&#x27;t ignore them. Our reasoning here is: &quot;better be safe than sorry&quot;. But how would you know about this new feature when running Stryker on your project? Well, Stryker will tell you about it with a new warning message.</p><p>You will see the message when 2 conditions are met:</p><ol><li>Stryker estimates static mutants to take &gt;= 40% of the total execution time; and</li><li>Your project&#x27;s estimated average execution time of a static mutant is twice that of a non-static mutant in your project.</li></ol><p>Stryker logs this message <em>right before testing mutants</em>, so you can quickly kill Stryker and run again with <code>--ignoreStatic</code> if you want.</p><p>Here is an example you will see when running StrykerJS on Stryker&#x27;s core without <code>ignoreStatic</code>:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">WARN MutantTestPlanner Detected 255 static mutants (8% of total) that are estimated to take 83% of the time running the tests!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  You might want to enable &quot;ignoreStatic&quot; to ignore these static mutants for your next run.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  For more information about static mutants, visit https://stryker-mutator.io/docs/mutation-testing-elements/static-mutants.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (disable &quot;warnings.slow&quot; to ignore this warning)</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you&#x27;re happy with the performance tradeoff and want Stryker to stop annoying you, you can disable this warning by disabling <code>&quot;warnings.slow&quot;</code> in your stryker.conf.json file.</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ignoreStatic&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;warnings&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;slow&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="-esm-based-config">üìÉ ESM-based config<a class="hash-link" href="#-esm-based-config" title="Direct link to heading">‚Äã</a></h2><p>From v6 onward, StrykerJS also supports <em>your config</em> as ESM. Either by adding <code>{ &quot;type&quot;: &quot;module&quot; }</code> to your package.json file, or by renaming <code>stryker.conf.js</code> to <code>stryker.conf.mjs</code>.</p><div class="language-js codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-js codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// stryker.conf.mjs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/** @type {import(&#x27;@stryker-mutator/api/core&#x27;).PartialStrykerOptions} */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">reporters</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;html&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;clear-text&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;progress&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">testRunner</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mocha&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">coverageAnalysis</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;perTest&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We&#x27;ve updated the <code>stryker init</code> command to emit this new config file format when choosing for &quot;JavaScript&quot; config format.</p><p><em>Note</em>: for completeness sake, <code>stryker.conf.cjs</code> is also supported.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="-breaking-changes">üí• Breaking changes<a class="hash-link" href="#-breaking-changes" title="Direct link to heading">‚Äã</a></h2><p>This is the list of breaking changes.</p><ul><li><a href="https://github.com/stryker-mutator/stryker-js/commit/10d874e4c46335d9ea457634d3061af35fa8f854" target="_blank" rel="noopener noreferrer">10d874</a> <strong>node</strong>: Drop support for Node 12. Minimal version is now Node 14.18.0.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3450" target="_blank" rel="noopener noreferrer">#3450</a> <strong>checker-api:</strong> The <code>check</code> method of checker plugins now receives a <em>group of mutants</em> and should provide a <code>CheckResult</code> per mutant id.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3438" target="_blank" rel="noopener noreferrer">#3438</a> <strong>html reporter:</strong> Configuration option <code>htmlReporter.baseDir</code> is deprecated and will be removed in a later version. Please use <code>htmlReporter.fileName</code> instead.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3432" target="_blank" rel="noopener noreferrer">#3432</a> <strong>esm config:</strong> Exporting a function (using <code>module.exports = function(config) {}</code>) from your <code>stryker.conf.js</code> file is no longer supported. This was already deprecated but now will give an error.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3409" target="_blank" rel="noopener noreferrer">#3409</a> <strong>esm:</strong> StrykerJS is now a pure ESM. Please <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c" target="_blank" rel="noopener noreferrer">read this</a>.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3409" target="_blank" rel="noopener noreferrer">#3409</a> <strong>esm:</strong> Karma v6.3 is now the min supported karma version for <code>@stryker-mutator/karma-runner</code>, since <a href="https://github.com/karma-runner/karma/blob/master/CHANGELOG.md#630-2021-03-23" target="_blank" rel="noopener noreferrer">that version added support for async config loading</a></li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3396" target="_blank" rel="noopener noreferrer">#3396</a> <strong>esm:</strong> The <code>@stryker-mutator/jasmine-runner</code> now requires <a href="mailto:jasmine@3.10" target="_blank" rel="noopener noreferrer">jasmine@3.10</a> or higher.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3393" target="_blank" rel="noopener noreferrer">#3393</a> <strong>esm:</strong> The <code>@stryker-mutator/mocha-runner</code> now requires <code>mocha@7.2</code> or higher.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3369" target="_blank" rel="noopener noreferrer">#3369</a> <strong>reload test environment:</strong> Test runner plugins must provide <code>TestRunnerCapabilities</code> by implementing the <code>capabilities</code> method.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3489" target="_blank" rel="noopener noreferrer">#3489</a> <strong>file</strong>: The File class is no longer part of the public api and is thus no longer exported from @stryker-mutator/api. Plugin creators shouldn&#x27;t rely on it anymore.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3469" target="_blank" rel="noopener noreferrer">3469</a> <strong>progress</strong>: Reporter API method onAllMutantsMatchedWithTests has been replaced by onMutationTestingPlanReady. Please use that for your reporter plugin instead.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3469" target="_blank" rel="noopener noreferrer">3469</a> <strong>progress</strong>: Reporter API method onAllSourceFilesRead has been removed, please use onMutationTestReportReady to retrieve the source files.</li><li><a href="https://github.com/stryker-mutator/stryker-js/pull/3469" target="_blank" rel="noopener noreferrer">3469</a> <strong>progress</strong>: Reporter API method onSourceFileRead has been removed, please use onMutationTestReportReady to retrieve the source files.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="-whats-next">üîÆ What&#x27;s next<a class="hash-link" href="#-whats-next" title="Direct link to heading">‚Äã</a></h2><p>With v6 out, we will be implementing a performance boost for our <a href="https://github.com/stryker-mutator/stryker-js/pull/3450" target="_blank" rel="noopener noreferrer"><code>typescript-checker</code></a>. In the medium term we&#x27;ll be looking to implement <a href="https://github.com/stryker-mutator/stryker-js/issues/2753" target="_blank" rel="noopener noreferrer">incremental mode</a>.</p><p>In the mean-time, we would love to hear from you! Please voice your feedback on <a href="https://join.slack.com/t/stryker-mutator/shared_invite/enQtOTUyMTYyNTg1NDQ0LTU4ODNmZDlmN2I3MmEyMTVhYjZlYmJkOThlNTY3NTM1M2QxYmM5YTM3ODQxYmJjY2YyYzllM2RkMmM1NjNjZjM" target="_blank" rel="noopener noreferrer">our slack channel</a> or by sending a <a href="https://twitter.com/stryker_mutator/" target="_blank" rel="noopener noreferrer">tweet</a></p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_h6_j"><div class="col"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/stryker">stryker</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/stryker-mutator/stryker-mutator.github.io/edit/develop/blog/2022-05-04-announcing-stryker-6-expeditious-superior-mutations.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/announcing-stryker-js-v6.0-beta"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Announcing StrykerJS v6.0 Beta</div></a></nav></main><div class="col col--2"><div class="tableOfContents_cNA8 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-esm-support" class="table-of-contents__link toc-highlight">üì¶ ESM support</a></li><li><a href="#-hot-reload" class="table-of-contents__link toc-highlight">‚è© Hot reload</a></li><li><a href="#-static-mutant-improvements" class="table-of-contents__link toc-highlight">üóø Static mutant improvements</a></li><li><a href="#-ignore-static-mutants" class="table-of-contents__link toc-highlight">üñê Ignore static mutants</a></li><li><a href="#-esm-based-config" class="table-of-contents__link toc-highlight">üìÉ ESM-based config</a></li><li><a href="#-breaking-changes" class="table-of-contents__link toc-highlight">üí• Breaking changes</a></li><li><a href="#-whats-next" class="table-of-contents__link toc-highlight">üîÆ What&#39;s next</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/General/faq">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/stryker-mutator/shared_invite/enQtOTUyMTYyNTg1NDQ0LTU4ODNmZDlmN2I3MmEyMTVhYjZlYmJkOThlNTY3NTM1M2QxYmM5YTM3ODQxYmJjY2YyYzllM2RkMmM1NjNjZjM" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/stryker_mutator" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/stryker-mutator/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://infosupport.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_gHmE"><img src="/images/info-support.svg" alt="Info Support Logo" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/images/info-support.svg" alt="Info Support Logo" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></a></div><div class="footer__copyright">Powered by <a target="_blank" rel="noopener noreferrer" href="https://www.infosupport.com/open-source/">Info Support</a>.<br>Stryker is released under the Apache 2.0 license. Site by the <a target="_blank" rel="noopener noreferrer" href="https://github.com/orgs/stryker-mutator/people">Stryker team</a>. Logo by Selina van den Top.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0406999f.js"></script>
<script src="/assets/js/main.8e74c90d.js"></script>
</body>
</html>